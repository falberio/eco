{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"ECOTodo tiene su eco","text":"<p>Tu vida dom\u00e9stica, organizada</p>"},{"location":"#que-es-eco","title":"\ud83e\udd14 \u00bfQu\u00e9 es ECO?","text":"<p>ECO es tu asistente digital para la casa. Gestiona tareas recurrentes, controla el inventario de alacena, organiza tu lista de compras y registra tu salud. Todo en un solo lugar.</p> <p>Imagina poder preguntarle a tu casa:</p> <ul> <li>\"\u00bfQu\u00e9 pastas podemos comer hoy si somos 5?\"</li> <li>\"\u00bfCu\u00e1ndo tengo turno con el peluquero?\"</li> <li>\"\u00bfC\u00f3mo dio mi \u00faltimo estudio de colesterol?\"</li> <li>\"\u00bfCu\u00e1nta leche queda?\"</li> </ul> <p>Eso es ECO. Y en el futuro, podr\u00e1s hacerlo por voz desde cualquier habitaci\u00f3n.</p>"},{"location":"#en-que-estamos","title":"\ud83d\udccd \u00bfEn qu\u00e9 estamos?","text":"\ud83c\udfd7\ufe0f Sprint 0 <p>Cimientos del proyecto</p> <ul> <li>\u2705 Base de datos dise\u00f1ada</li> <li>\u2705 Autenticaci\u00f3n funcionando</li> <li>\u2705 95 historias de usuario creadas</li> <li>\u23f3 Primeros m\u00f3dulos en desarrollo</li> </ul> En progreso \ud83d\uddfa\ufe0f Roadmap <p>\u00bfQu\u00e9 viene?</p> <ul> <li>v0.1 MVP: CRUD completo de 4 m\u00f3dulos</li> <li>v0.2: APIs para agente IA</li> <li>v0.3: Multi-usuario familiar</li> <li>v1.0: Comandos de voz</li> </ul> Planificado"},{"location":"#que-voy-a-poder-hacer-con-eco","title":"\ud83c\udfaf \u00bfQu\u00e9 voy a poder hacer con ECO?","text":""},{"location":"#mantia-gestion-de-tareas","title":"\ud83d\udccb MANTIA - Gesti\u00f3n de Tareas","text":"<p>\"No vuelvas a olvidar sacar la basura\"</p> <ul> <li>Tareas recurrentes (cada 3 d\u00edas, semanal, mensual)</li> <li>Recordatorios autom\u00e1ticos</li> <li>Calendario visual</li> <li>Historial de qui\u00e9n hizo qu\u00e9</li> </ul> <p>Ejemplo real: Configur\u00e1s \"Regar plantas cada 3 d\u00edas\" y ECO te recuerda, calcula la pr\u00f3xima fecha, y registra cada vez que lo hac\u00e9s.</p>"},{"location":"#alacena-inventario","title":"\ud83c\udffa ALACENA - Inventario","text":"<p>\"Siempre sab\u00e9 qu\u00e9 ten\u00e9s en casa\"</p> <ul> <li>Inventario de alacena/heladera</li> <li>Alertas de vencimiento</li> <li>Sugerencias de recetas seg\u00fan stock</li> <li>Predicci\u00f3n de cu\u00e1ndo se acaba cada item</li> </ul> <p>Ejemplo real: Escane\u00e1s el c\u00f3digo de barras del aceite, ECO lo agrega al inventario. Cuando quede poco, lo suma autom\u00e1ticamente a la lista de compras.</p>"},{"location":"#lista-de-compras","title":"\ud83d\uded2 Lista de Compras","text":"<p>\"Optimiz\u00e1 tus compras\"</p> <ul> <li>Lista compartida con tu familia</li> <li>Ordenada por supermercado</li> <li>Historial de precios</li> <li>Sugerencias inteligentes</li> </ul> <p>Ejemplo real: Tu pareja agrega \"Pan\" desde su celular, te llega notificaci\u00f3n push. Cuando vas al super, la lista est\u00e1 ordenada por pasillo.</p>"},{"location":"#ecosalud-salud-y-bienestar","title":"\ud83d\udc9a ECOSALUD - Salud y Bienestar","text":"<p>\"Tu historial m\u00e9dico siempre a mano\"</p> <ul> <li>Registro de peso, presi\u00f3n, glucosa</li> <li>Gr\u00e1ficos de evoluci\u00f3n</li> <li>Alertas de valores anormales</li> <li>Exportar PDF para el m\u00e9dico</li> </ul> <p>Ejemplo real: Registr\u00e1s tu peso cada ma\u00f1ana en 5 segundos. A fin de mes, ves gr\u00e1fico de tu progreso. Si tu presi\u00f3n sube mucho, recib\u00eds alerta.</p>"},{"location":"#y-lo-del-agente-de-voz","title":"\ud83e\udd16 \u00bfY lo del agente de voz?","text":"<p>Eso es el objetivo final. Imaginate esto:</p> <ol> <li>Hoy: Abr\u00eds la app en tu celular, hac\u00e9s click, complet\u00e1s formularios</li> <li>Ma\u00f1ana (v0.2): Le escrib\u00eds al agente \"Agregar 2 litros de leche al inventario\"</li> <li>Pasado (v1.0): Le dec\u00eds en voz alta desde la cocina \"\u00bfQu\u00e9 pastas podemos comer?\" y te responde</li> </ol> <p>Integrando con Home Assistant, cada habitaci\u00f3n podr\u00eda tener un parlante que entiende comandos sobre tu casa.</p>"},{"location":"#por-que-eco","title":"\ud83d\udca1 \u00bfPor qu\u00e9 ECO?","text":""},{"location":"#el-problema","title":"El problema","text":"<p>Tu vida dom\u00e9stica tiene datos distribuidos en: - \ud83d\udcf1 Notas en el celular - \ud83d\udcdd Post-its en la heladera - \ud83e\udde0 Tu memoria (olvidadiza) - \ud83d\udce7 Emails con turnos m\u00e9dicos - \ud83d\udcac Chats con tu pareja</p> <p>Resultado: Caos. Tareas olvidadas. Comida vencida. Compras duplicadas.</p>"},{"location":"#la-solucion-eco","title":"La soluci\u00f3n: ECO","text":"<p>Un solo lugar donde todo \"hace eco\". Registr\u00e1s una vez, el sistema recuerda por vos.</p> <ul> <li>Sistema: Recurrencia inteligente, no repetir \"sacar basura\" 100 veces</li> <li>Memoria: Historial de todo (qu\u00e9 compraste, cu\u00e1ndo, a qu\u00e9 precio)</li> <li>Proactividad: Te avisa antes que se venza, que falte stock, que tengas un turno</li> </ul>"},{"location":"#por-que-construirlo-yo-mismo","title":"\u00bfPor qu\u00e9 construirlo yo mismo?","text":"<ol> <li>Aprender: Next.js, Prisma, PostgreSQL, IA conversacional</li> <li>Control: Mis datos son m\u00edos, no de Google/Amazon</li> <li>Personalizaci\u00f3n: Exactamente lo que necesito, sin bloatware</li> <li>Diversi\u00f3n: Es mi hobby :)</li> </ol>"},{"location":"#con-que-esta-hecho","title":"\ud83d\udee0\ufe0f \u00bfCon qu\u00e9 est\u00e1 hecho?","text":"Frontend Next.js 15 TypeScript Tailwind CSS Backend Prisma ORM PostgreSQL GraphQL Deploy Vercel GitHub Actions Futuro OpenAI API Home Assistant Whisper (voz)"},{"location":"#queres-saber-mas","title":"\ud83d\udcd6 \u00bfQuer\u00e9s saber m\u00e1s?","text":"\ud83d\udcca Estado del Proyecto <p>Qu\u00e9 funciona hoy, qu\u00e9 est\u00e1 en desarrollo</p> \ud83d\uddfa\ufe0f Roadmap Completo <p>Plan a 12 meses con todas las features</p> \ud83c\udfd7\ufe0f Arquitectura T\u00e9cnica <p>Para desarrolladores: c\u00f3mo est\u00e1 construido</p> \ud83c\udfaf Gesti\u00f3n de Historias <p>Panel visual para revisar y priorizar todas las historias</p>"},{"location":"#colaborar","title":"\ud83e\udd1d \u00bfColaborar?","text":"<p>Este es un proyecto personal de aprendizaje, pero todo el c\u00f3digo es abierto.</p> <p>Si quer\u00e9s: - \ud83d\udc1b Reportar un bug \u2192 GitHub Issues - \ud83d\udca1 Sugerir una feature \u2192 Crear discussion - \ud83d\udc68\u200d\ud83d\udcbb Contribuir c\u00f3digo \u2192 Ver gu\u00eda de contribuci\u00f3n</p> <p>Hecho con \u2615 y \u2764\ufe0f por falberio</p> <p> GitHub \u00b7     Issues \u00b7     Retomar desarrollo </p>"},{"location":"01-contexto-general/","title":"ECO \u2013 01 Contexto General","text":"<p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Sprint actual: Sprint 0 (Cierre: 09 Feb 2026)</p>"},{"location":"01-contexto-general/#proposito-de-este-documento","title":"\ud83d\udccb Prop\u00f3sito de este Documento","text":"<p>Orientar r\u00e1pidamente sobre qu\u00e9 es ECO, c\u00f3mo est\u00e1 organizado y cu\u00e1les son sus l\u00edmites. Este documento NO duplica detalle funcional ni t\u00e9cnico \u2013 eso vive en el Documento Funcional.</p>"},{"location":"01-contexto-general/#1-vision-y-objetivo","title":"\ud83c\udfaf 1. Visi\u00f3n y Objetivo","text":""},{"location":"01-contexto-general/#vision","title":"Visi\u00f3n","text":"<p>Construir un sistema personal/modular para gestionar vida dom\u00e9stica con foco en registro, historial y simplicidad operativa.</p>"},{"location":"01-contexto-general/#principios-rectores","title":"Principios Rectores","text":"<ul> <li>\u2705 Descargar la mente: Nada cr\u00edtico reside solo en memoria</li> <li>\u2705 Registro antes que automatizaci\u00f3n: Capturar primero, asistir despu\u00e9s</li> <li>\u2705 Historial primero: Todo evento debe ser trazable</li> <li>\u2705 Asistencia progresiva: El sistema aprende de lo registrado</li> <li>\u2705 Modularidad clara: Separaci\u00f3n de responsabilidades funcionales</li> </ul>"},{"location":"01-contexto-general/#2-alcance-y-no-objetivos-v1","title":"\ud83d\udeab 2. Alcance y No-Objetivos (v1)","text":""},{"location":"01-contexto-general/#alcance-v1","title":"Alcance v1","text":"<ul> <li>\u2705 Operaci\u00f3n con un solo backend/API</li> <li>\u2705 Modelo de datos \u00fanico y extensible</li> <li>\u2705 Foco mobile-first</li> <li>\u2705 Uso personal/familiar (no multihogar colaborativo avanzado)</li> </ul>"},{"location":"01-contexto-general/#no-objetivos-limites-conscientes","title":"No-Objetivos (l\u00edmites conscientes)","text":""},{"location":"01-contexto-general/#alacena","title":"ALACENA","text":"<ul> <li>\u274c Sin escaneo de c\u00f3digos de barras</li> <li>\u274c Sin recetas/men\u00fa semanal</li> <li>\u274c Sin sincronizaci\u00f3n con comercios</li> </ul>"},{"location":"01-contexto-general/#mantia","title":"MANTIA","text":"<ul> <li>\u274c Sin recordatorios push</li> <li>\u274c Sin integraciones de calendario externo</li> <li>\u274c Sin dependencias entre tareas</li> </ul>"},{"location":"01-contexto-general/#ecosalud","title":"ECOSALUD","text":"<ul> <li>\u274c Sin correlaciones avanzadas</li> <li>\u274c Sin dashboards complejos</li> </ul>"},{"location":"01-contexto-general/#lista-de-compras","title":"Lista de Compras","text":"<ul> <li>\u274c Sin m\u00faltiples listas por hogar</li> <li>\u274c Sin compartir listas fuera del sistema</li> </ul>"},{"location":"01-contexto-general/#plataforma","title":"Plataforma","text":"<ul> <li>\u274c Sin multilenguaje</li> <li>\u274c Sin modelo multi-hogar colaborativo avanzado</li> </ul> <p>Nota: Los No-Objetivos no son descartes permanentes, son l\u00edmites conscientes para v1.</p>"},{"location":"01-contexto-general/#3-modulos-y-transversales","title":"\ud83e\udde9 3. M\u00f3dulos y Transversales","text":""},{"location":"01-contexto-general/#modulos-funcionales","title":"M\u00f3dulos Funcionales","text":"<ul> <li>\ud83c\udffa ALACENA: Gesti\u00f3n de inventario dom\u00e9stico</li> <li>\ud83d\udccb MANTIA: Tareas y mantenimiento del hogar</li> <li>\ud83d\udc8a ECOSALUD: Registro de salud y bienestar</li> <li>\ud83c\udfe0 HUESHA: Gesti\u00f3n de espacios f\u00edsicos (futuro)</li> <li>\ud83d\udcb0 FINANCIA: Gesti\u00f3n financiera dom\u00e9stica (futuro)</li> </ul>"},{"location":"01-contexto-general/#transversales","title":"Transversales","text":"<ul> <li>\ud83d\uded2 Lista de Compras: Alimentada por todos los m\u00f3dulos</li> <li>\ud83d\udcca Historial Global: Trazabilidad completa de eventos</li> </ul>"},{"location":"01-contexto-general/#capa-de-soporte","title":"Capa de Soporte","text":"<ul> <li>\ud83d\udc65 Usuarios y hogares</li> <li>\ud83d\udd12 Permisos (aislamiento por hogar)</li> <li>\ud83d\udd10 Autenticaci\u00f3n b\u00e1sica</li> </ul>"},{"location":"01-contexto-general/#4-arquitectura-resumen-ejecutivo","title":"\ud83c\udfd7\ufe0f 4. Arquitectura (Resumen Ejecutivo)","text":""},{"location":"01-contexto-general/#decisiones-clave-adrs","title":"Decisiones Clave (ADRs)","text":"<ul> <li>\u2705 ADR-001: Monolito modular con una sola API (no microservicios)</li> <li>\u2705 ADR-002: Aislamiento por hogar (multi-tenancy b\u00e1sico)</li> <li>\u2705 ADR-003: Autenticaci\u00f3n b\u00e1sica (email/password)</li> <li>\u2705 ADR-004: Periodicidad declarativa en MANTIA</li> <li>\u2705 ADR-005: Lista de Compras como entidad transversal</li> </ul> <p>Ver detalles completos en Arquitectura</p>"},{"location":"01-contexto-general/#stack-actual","title":"Stack Actual","text":"<ul> <li>Frontend: Next.js + React (Vercel)</li> <li>Backend: Node.js + Express (Fly.io)</li> <li>Database: PostgreSQL (Supabase)</li> <li>Auth: Supabase Auth</li> <li>Media: Cloudinary</li> </ul>"},{"location":"01-contexto-general/#5-estado-del-proyecto","title":"\ud83d\udccd 5. Estado del Proyecto","text":""},{"location":"01-contexto-general/#sprint-actual","title":"Sprint Actual","text":"<p>Sprint 0 \u2013 Extendido hasta 09/Feb/2026 - Objetivo: Consolidar marco del producto (documentaci\u00f3n, backlog, ADRs) - Sesiones planeadas:   - Mi\u00e9rcoles 04/02 (200 min) \u2013 Estructura documental   - Jueves 05/02 (200 min) \u2013 Consolidaci\u00f3n t\u00e9cnica   - Viernes 06/02 (200 min) \u2013 Plan de proyecto final</p>"},{"location":"01-contexto-general/#proximo-sprint","title":"Pr\u00f3ximo Sprint","text":"<p>Sprint 1 \u2013 10 Feb \u2192 23 Feb 2026 - Objetivo: MVP operable (uso real diario) - Alcance: ALACENA, MANTIA, ECOSALUD (m\u00ednimo) y Lista</p>"},{"location":"01-contexto-general/#6-donde-profundizar","title":"\ud83d\udcda 6. D\u00f3nde Profundizar","text":"Documento Prop\u00f3sito 02 - Documento Funcional Fuente de verdad: modelo de datos, ADRs funcionales, backlog 03 - Libro de Sesiones Minutas de trabajo, decisiones y acuerdos 04 - Backlog Maestro \u00c9picas, historias y tareas 05 - Roadmap Visi\u00f3n trimestral y planificaci\u00f3n 06 - UX &amp; Navegaci\u00f3n Flujos, estados vac\u00edos, patrones UI 07 - Cheatsheet Comandos r\u00e1pidos para trabajar con Copilot"},{"location":"01-contexto-general/#notas-de-uso","title":"\ud83d\udd04 Notas de Uso","text":"<ul> <li>Este documento cambia muy poco</li> <li>Si cambia la visi\u00f3n o l\u00edmites, actualizar y referenciar en el DF</li> <li>Toda definici\u00f3n concreta (entidades, historias, reglas) vive en el Documento Funcional</li> </ul> <p>\u00daltima revisi\u00f3n: 04 Febrero 2026 Pr\u00f3xima revisi\u00f3n planeada: Post Sprint 1</p>"},{"location":"02-documento-funcional/","title":"ECO \u2013 02 Documento Funcional y de Arquitectura (v1.0)","text":"<p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Estado: \u2705 Alineado con sistema deployado Repo: falberio/eco (nombre pendiente de actualizaci\u00f3n)</p> <p>Fuente de verdad del proyecto ECO. Alineado con el estado actual del proyecto ya deployado, con repo activo en GitHub y base de datos existente. Este documento gu\u00eda su evoluci\u00f3n, priorizando claridad, trazabilidad, ritmo sostenido y decisiones conscientes.</p>"},{"location":"02-documento-funcional/#1-proposito-del-documento","title":"\ud83d\udccb 1. Prop\u00f3sito del Documento","text":"<p>Este Documento Funcional y de Arquitectura (DF) define:</p> <ul> <li>\u2705 Qu\u00e9 es ECO y qu\u00e9 no es (No-Objetivos)</li> <li>\u2705 C\u00f3mo se estructura funcionalmente</li> <li>\u2705 C\u00f3mo se organiza su arquitectura</li> <li>\u2705 Qu\u00e9 decisiones ya fueron tomadas (ADRs)</li> <li>\u2705 C\u00f3mo se planifica el trabajo (ceremonias, sesiones, ritmo)</li> <li>\u2705 C\u00f3mo se traduce el MVP operativo al backlog y la ejecuci\u00f3n</li> </ul> <p>El DF acompa\u00f1a al repositorio existente, no lo reemplaza. Cualquier diferencia entre c\u00f3digo y documento debe resolverse actualizando el DF.</p>"},{"location":"02-documento-funcional/#2-principios-rectores","title":"\ud83c\udfaf 2. Principios Rectores","text":""},{"location":"02-documento-funcional/#21-principios-funcionales","title":"2.1 Principios Funcionales","text":"Principio Descripci\u00f3n Descargar la mente Nada cr\u00edtico reside solo en memoria Registro antes que automatizaci\u00f3n Capturar primero, asistir despu\u00e9s Historial primero Todo evento debe ser trazable Asistencia progresiva El sistema aprende de lo registrado Modularidad clara Separaci\u00f3n de responsabilidades"},{"location":"02-documento-funcional/#22-principios-tecnicos","title":"2.2 Principios T\u00e9cnicos","text":"Principio Implementaci\u00f3n Un solo backend Confirmado por repo actual Modelo de datos \u00fanico Extensible por m\u00f3dulos Mobile-first real PWA antes que apps nativas Decisiones reversibles ADRs documentados, cambios conscientes Infraestructura simple Servicios gestionados, sin DevOps complejo"},{"location":"02-documento-funcional/#23-no-objetivos-limites-de-diseno-v1","title":"2.3 No-Objetivos (l\u00edmites de dise\u00f1o v1)","text":"<p>Los No-Objetivos evitan que ECO se expanda sin control. No son descartes permanentes: solo l\u00edmites conscientes para ahora.</p>"},{"location":"02-documento-funcional/#alacena","title":"ALACENA","text":"<ul> <li>\u274c No escaneo de c\u00f3digos de barras</li> <li>\u274c No recetas, no men\u00fa semanal</li> <li>\u274c No sincronizaci\u00f3n con comercios</li> </ul>"},{"location":"02-documento-funcional/#mantia","title":"MANTIA","text":"<ul> <li>\u274c No recordatorios push</li> <li>\u274c No integraci\u00f3n con calendarios externos</li> <li>\u274c No tareas dependientes ni automatizadas</li> </ul>"},{"location":"02-documento-funcional/#ecosalud","title":"ECOSALUD","text":"<ul> <li>\u274c No correlaciones avanzadas</li> <li>\u274c No dashboards complejos</li> </ul>"},{"location":"02-documento-funcional/#lista-de-compras","title":"Lista de Compras","text":"<ul> <li>\u274c No m\u00faltiples listas por hogar</li> <li>\u274c No compartir listas fuera del sistema</li> </ul>"},{"location":"02-documento-funcional/#plataforma","title":"Plataforma","text":"<ul> <li>\u274c No multilenguaje</li> <li>\u274c No modelo multi-hogar colaborativo avanzado</li> </ul>"},{"location":"02-documento-funcional/#3-arquitectura-general-de-eco","title":"\ud83c\udfd7\ufe0f 3. Arquitectura General de ECO","text":"<p>ECO est\u00e1 construido alrededor de:</p> <ol> <li>M\u00f3dulos funcionales: ALACENA, MANTIA, ECOSALUD, HUESHA, FINANCIA</li> <li>Elementos transversales: Lista de Compras, Historial global</li> <li>Capa de soporte: Usuarios, hogares, permisos</li> </ol> <p>Confirmado: Una sola API, un repositorio unificado.</p>"},{"location":"02-documento-funcional/#diagrama-conceptual","title":"Diagrama Conceptual","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              FRONTEND (Next.js)                 \u2502\n\u2502   ALACENA | MANTIA | ECOSALUD | Lista | Config  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502           BACKEND API (Node/Express)            \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502  \u2502  M\u00f3dulos: ALACENA | MANTIA | ECOSALUD    \u2502   \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524   \u2502\n\u2502  \u2502  Transversal: Lista | Historial          \u2502   \u2502\n\u2502  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524   \u2502\n\u2502  \u2502  Soporte: Auth | Hogares | Permisos      \u2502   \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n                     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502       DATABASE (PostgreSQL / Supabase)          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"02-documento-funcional/#4-modelo-de-datos-alineado-al-repo-actual","title":"\ud83d\uddc4\ufe0f 4. Modelo de Datos (alineado al repo actual)","text":"<p>IMPORTANTE: Este modelo se actualiza en base a la DB existente. Las entidades listadas reflejan lo que ECO ya implementa y las extensiones necesarias para Sprint 1.</p>"},{"location":"02-documento-funcional/#41-capa-de-soporte","title":"4.1 Capa de Soporte","text":""},{"location":"02-documento-funcional/#usuario","title":"Usuario","text":"<pre><code>model User {\n  id            String\n  email         String    @unique\n  password_hash String\n  created_at    DateTime\n  updated_at    DateTime\n}\n</code></pre>"},{"location":"02-documento-funcional/#hogar","title":"Hogar","text":"<pre><code>model Household {\n  id         String\n  nombre     String\n  created_at DateTime\n}\n</code></pre>"},{"location":"02-documento-funcional/#usuariohogar","title":"UsuarioHogar","text":"<pre><code>model UserHousehold {\n  user_id      String\n  household_id String\n  role         String  // \"owner\" | \"member\"\n}\n</code></pre>"},{"location":"02-documento-funcional/#42-alacena","title":"4.2 ALACENA","text":""},{"location":"02-documento-funcional/#itemalacena","title":"ItemAlacena","text":"<pre><code>model PantryItem {\n  id           String\n  household_id String\n  nombre       String\n  categoria    String?\n  stock_actual Float\n  unidad       String\n  notas        String?\n  created_at   DateTime\n  updated_at   DateTime\n}\n</code></pre>"},{"location":"02-documento-funcional/#movimientoalacena","title":"MovimientoAlacena","text":"<pre><code>model PantryMovement {\n  id         String\n  item_id    String\n  tipo       String   // \"ingreso\" | \"consumo\" | \"ajuste\"\n  cantidad   Float\n  fecha      DateTime\n  user_id    String\n  notas      String?\n}\n</code></pre>"},{"location":"02-documento-funcional/#43-mantia","title":"4.3 MANTIA","text":""},{"location":"02-documento-funcional/#tarea","title":"Tarea","text":"<pre><code>model Task {\n  id              String\n  household_id    String\n  titulo          String\n  descripcion     String?\n  categoria       String?\n  periodicidad    String?   // \"diaria\" | \"semanal\" | \"mensual\" | null\n  estado          String    // \"activa\" | \"pausada\" | \"completada\"\n  proxima_sugerida DateTime?\n  created_at      DateTime\n  updated_at      DateTime\n}\n</code></pre>"},{"location":"02-documento-funcional/#ejecucion","title":"Ejecuci\u00f3n","text":"<pre><code>model TaskExecution {\n  id       String\n  task_id  String\n  fecha    DateTime\n  user_id  String\n  notas    String?\n}\n</code></pre>"},{"location":"02-documento-funcional/#44-lista-de-compras","title":"4.4 Lista de Compras","text":""},{"location":"02-documento-funcional/#listaitem","title":"ListaItem","text":"<pre><code>model ShoppingListItem {\n  id            String\n  household_id  String\n  nombre        String\n  cantidad      Float?\n  unidad        String?\n  origen        String    // \"manual\" | \"alacena\" | \"mantia\"\n  origen_ref_id String?   // ID del item de origen\n  estado        String    // \"pendiente\" | \"comprado\"\n  created_at    DateTime\n}\n</code></pre>"},{"location":"02-documento-funcional/#45-ecosalud-modelo-minimo-v1","title":"4.5 ECOSALUD (modelo m\u00ednimo v1)","text":""},{"location":"02-documento-funcional/#registrosalud","title":"RegistroSalud","text":"<pre><code>model HealthRecord {\n  id           String\n  household_id String\n  user_id      String\n  tipo         String    // \"peso\" | \"presion\" | \"glucosa\" | \"nota\"\n  valor        String    // JSON flexible\n  fecha        DateTime\n  notas        String?\n}\n</code></pre>"},{"location":"02-documento-funcional/#5-adrs-decisiones-de-arquitectura-v1","title":"\ud83d\udcdc 5. ADRs \u2013 Decisiones de Arquitectura (v1)","text":"<p>Registros livianos de decisiones estructurales. Ver detalles completos en ADRs</p>"},{"location":"02-documento-funcional/#adr-001-un-solo-backend-monolitico-modular","title":"ADR-001 \u2013 Un solo backend monol\u00edtico modular","text":"<ul> <li>Estado: \u2705 Aceptada</li> <li>Decisi\u00f3n: Monolito modular en lugar de microservicios</li> <li>Raz\u00f3n: Simplicidad operativa, menor overhead, proyecto personal</li> </ul>"},{"location":"02-documento-funcional/#adr-002-aislamiento-por-hogar","title":"ADR-002 \u2013 Aislamiento por hogar","text":"<ul> <li>Estado: \u2705 Aceptada</li> <li>Decisi\u00f3n: Multi-tenancy b\u00e1sico a nivel de hogar</li> <li>Raz\u00f3n: Soportar uso familiar sin complejidad empresarial</li> </ul>"},{"location":"02-documento-funcional/#adr-003-autenticacion-basica","title":"ADR-003 \u2013 Autenticaci\u00f3n b\u00e1sica","text":"<ul> <li>Estado: \u2705 Aceptada</li> <li>Decisi\u00f3n: Email/password con Supabase Auth</li> <li>Raz\u00f3n: Suficiente para v1, escalable si se necesita</li> </ul>"},{"location":"02-documento-funcional/#adr-004-periodicidad-declarativa-en-mantia","title":"ADR-004 \u2013 Periodicidad declarativa en MANTIA","text":"<ul> <li>Estado: \u2705 Aceptada</li> <li>Decisi\u00f3n: Tareas con atributo <code>periodicidad</code> sin cron jobs</li> <li>Raz\u00f3n: Simplicidad, c\u00e1lculo on-demand de pr\u00f3ximas fechas</li> </ul>"},{"location":"02-documento-funcional/#adr-005-lista-de-compras-como-entidad-transversal","title":"ADR-005 \u2013 Lista de Compras como entidad transversal","text":"<ul> <li>Estado: \u2705 Aceptada</li> <li>Decisi\u00f3n: Una lista por hogar, poblada desde m\u00faltiples m\u00f3dulos</li> <li>Raz\u00f3n: Centralizar necesidades, evitar duplicaci\u00f3n</li> </ul>"},{"location":"02-documento-funcional/#6-modulos-funcionales-v1","title":"\u2699\ufe0f 6. M\u00f3dulos Funcionales (v1)","text":""},{"location":"02-documento-funcional/#alacena-gestion-de-inventario","title":"\ud83c\udffa ALACENA \u2013 Gesti\u00f3n de Inventario","text":"<p>Objetivo: Registrar y controlar stock de alimentos/productos del hogar</p> <p>Funcionalidades v1: - \u2705 Alta/edici\u00f3n/baja de items - \u2705 Registro de movimientos (ingreso/consumo/ajuste) - \u2705 Vista de stock actual - \u2705 Categorizaci\u00f3n b\u00e1sica - \u23f3 Sistema de taras para frascos (implementado)</p> <p>Funcionalidades futuras: - \ud83d\udccb Control de vencimientos - \ud83d\udcca Reportes de consumo - \ud83d\udd14 Alertas de stock m\u00ednimo</p>"},{"location":"02-documento-funcional/#mantia-tareas-y-mantenimiento","title":"\ud83d\udccb MANTIA \u2013 Tareas y Mantenimiento","text":"<p>Objetivo: Gestionar tareas del hogar con historial de ejecuciones</p> <p>Funcionalidades v1: - \u2705 Alta/edici\u00f3n de tareas - \u2705 Marcar como hecha (registra ejecuci\u00f3n) - \u2705 Vista de pendientes y vencidas - \u2705 Periodicidad declarativa - \u23f3 C\u00e1lculo de pr\u00f3xima fecha sugerida</p> <p>Funcionalidades futuras: - \ud83d\udcca Estad\u00edsticas de cumplimiento - \ud83d\udc65 Asignaci\u00f3n de responsables - \ud83d\udcc5 Vista de calendario</p>"},{"location":"02-documento-funcional/#ecosalud-registro-de-salud","title":"\ud83d\udc8a ECOSALUD \u2013 Registro de Salud","text":"<p>Objetivo: Registro m\u00ednimo de datos de salud y bienestar</p> <p>Funcionalidades v1: - \u23f3 Registro manual b\u00e1sico (peso, presi\u00f3n, notas) - \u23f3 Hist\u00f3rico cronol\u00f3gico</p> <p>Funcionalidades futuras: - \ud83d\udcca Gr\u00e1ficos de tendencias - \ud83d\udd14 Recordatorios de medicaci\u00f3n - \ud83d\udccb Registro de s\u00edntomas</p>"},{"location":"02-documento-funcional/#lista-de-compras-transversal","title":"\ud83d\uded2 Lista de Compras (Transversal)","text":"<p>Objetivo: Centralizar necesidades de compra de todos los m\u00f3dulos</p> <p>Funcionalidades v1: - \u23f3 Alta manual de items - \u23f3 Alta desde ALACENA (stock bajo) - \u23f3 Marcar como comprado - \u23f3 Vista por categor\u00edas</p>"},{"location":"02-documento-funcional/#7-estrategia-agil-y-pautas-de-trabajo","title":"\ud83d\udd04 7. Estrategia \u00c1gil y Pautas de Trabajo","text":"<p>ECO es un proyecto personal pero tratado como un producto profesional. Las ceremonias se adaptan a un \"equipo de uno\", manteniendo disciplina.</p>"},{"location":"02-documento-funcional/#71-ritmo-de-trabajo","title":"7.1 Ritmo de Trabajo","text":"<ul> <li>\ud83d\udcc5 Sesi\u00f3n semanal fija (review + planificaci\u00f3n de 30 min)</li> <li>\ud83d\udcbb Sesi\u00f3n t\u00e9cnica opcional dos veces por semana</li> <li>\ud83d\udcdd Registro continuo de avances en GitHub</li> <li>\ud83d\udd04 Retro quincenal: qu\u00e9 funcion\u00f3 / qu\u00e9 ajustar</li> </ul>"},{"location":"02-documento-funcional/#72-ceremonias","title":"7.2 Ceremonias","text":""},{"location":"02-documento-funcional/#review-semanal","title":"Review Semanal","text":"<ul> <li>Repasar lo que se hizo</li> <li>Confirmar si el DF cambia</li> <li>Actualizar estado en Libro de Sesiones</li> </ul>"},{"location":"02-documento-funcional/#planificacion-semanal","title":"Planificaci\u00f3n Semanal","text":"<ul> <li>Elegir 2-5 issues para avanzar</li> <li>Verificar capacidad real</li> <li>Actualizar Roadmap</li> </ul>"},{"location":"02-documento-funcional/#retro-quincenal","title":"Retro Quincenal","text":"<ul> <li>Ajustar h\u00e1bitos, flujo y decisiones</li> <li>Identificar bloqueos</li> <li>Actualizar ADRs si es necesario</li> </ul>"},{"location":"02-documento-funcional/#sesiones-tematicas-a-demanda","title":"Sesiones Tem\u00e1ticas (a demanda)","text":"<ul> <li>\ud83d\uddc4\ufe0f Modelo de datos</li> <li>\ud83c\udfa8 UI/UX</li> <li>\ud83c\udfd7\ufe0f Arquitectura</li> <li>\ud83e\uddf9 Limpieza de issues</li> </ul>"},{"location":"02-documento-funcional/#73-rutina-semanal-detallada","title":"7.3 Rutina Semanal Detallada","text":"D\u00eda Actividad Duraci\u00f3n Lunes Revisi\u00f3n del DF + planificaci\u00f3n de issues de la semana 30 min Mi\u00e9rcoles Sesi\u00f3n t\u00e9cnica breve (bloqueos o definiciones) 30 min Viernes Mini-review + registro de aprendizajes 20 min"},{"location":"02-documento-funcional/#8-sprint-0-estado-final-29-ene-09-feb-2026","title":"\ud83d\udcc5 8. Sprint 0 \u2013 Estado Final (29 Ene \u2192 09 Feb 2026)","text":"<p>Objetivo: Dejar el marco del producto s\u00f3lido para Sprint 1</p> <p>Fecha de cierre: 09/Feb/2026</p>"},{"location":"02-documento-funcional/#entregables-confirmados","title":"Entregables Confirmados","text":"<ul> <li>\u2705 Definici\u00f3n funcional de m\u00f3dulos</li> <li>\u2705 Modelo de datos revisado seg\u00fan repo</li> <li>\u2705 ADRs v1</li> <li>\u23f3 Backlog maestro preparado</li> <li>\u2705 Repositorio deployado y operativo</li> <li>\u23f3 Documentaci\u00f3n consolidada en Markdown</li> <li>\u23f3 MkDocs configurado para docs web</li> </ul>"},{"location":"02-documento-funcional/#sesiones-sprint-0","title":"Sesiones Sprint 0","text":"<ul> <li>04/Feb (200 min): Estructura documental \u2190 AHORA</li> <li>05/Feb (200 min): Consolidaci\u00f3n t\u00e9cnica</li> <li>06/Feb (200 min): Plan de proyecto final</li> </ul>"},{"location":"02-documento-funcional/#9-sprint-1-mvp-operable-10-feb-23-feb-2026","title":"\ud83d\ude80 9. Sprint 1 \u2013 MVP Operable (10 Feb \u2192 23 Feb 2026)","text":""},{"location":"02-documento-funcional/#91-objetivo","title":"9.1 Objetivo","text":"<p>Que ECO pueda ser usado por vos mismo de forma real y diaria.</p>"},{"location":"02-documento-funcional/#92-alcance-funcional","title":"9.2 Alcance Funcional","text":""},{"location":"02-documento-funcional/#alacena_1","title":"ALACENA","text":"<ul> <li>\u2705 Alta, edici\u00f3n, baja de items</li> <li>\u2705 Consumo manual</li> <li>\u2705 Vista de stock</li> <li>\u2705 Sistema de taras (ya implementado)</li> </ul>"},{"location":"02-documento-funcional/#mantia_1","title":"MANTIA","text":"<ul> <li>\u23f3 Alta, edici\u00f3n de tareas</li> <li>\u23f3 Marcar hecha</li> <li>\u23f3 Registrar ejecuci\u00f3n</li> <li>\u23f3 Vista pendientes y vencidas</li> </ul>"},{"location":"02-documento-funcional/#ecosalud_1","title":"ECOSALUD","text":"<ul> <li>\u23f3 Registro manual m\u00ednimo</li> </ul>"},{"location":"02-documento-funcional/#lista-de-compras_1","title":"Lista de Compras","text":"<ul> <li>\u23f3 Alta manual</li> <li>\u23f3 Alta desde ALACENA</li> <li>\u23f3 Marcar comprado</li> </ul>"},{"location":"02-documento-funcional/#93-alcance-tecnico","title":"9.3 Alcance T\u00e9cnico","text":"<ul> <li>\u2705 API unificada (existente)</li> <li>\u23f3 DB extendida seg\u00fan tareas</li> <li>\u23f3 Logs estructurados simples</li> <li>\u23f3 Estados vac\u00edos</li> <li>\u23f3 Validaciones b\u00e1sicas</li> </ul>"},{"location":"02-documento-funcional/#94-criterio-de-exito-del-sprint","title":"9.4 Criterio de \u00c9xito del Sprint","text":"<ul> <li>\ud83d\udcca \u2265 20 registros reales en la semana</li> <li>\u2705 No romper flujo de uso</li> <li>\ud83d\udcc5 Usarlo 7 d\u00edas consecutivos</li> </ul>"},{"location":"02-documento-funcional/#10-backlog-de-sprint-1-version-resumida","title":"\ud83d\udcda 10. Backlog de Sprint 1 (versi\u00f3n resumida)","text":"<p>Ver detalles completos en Backlog Maestro</p>"},{"location":"02-documento-funcional/#ep-01-base-eco","title":"EP-01: Base ECO","text":"<ul> <li>Hogar y usuarios base</li> <li>Autenticaci\u00f3n b\u00e1sica</li> <li>Navegaci\u00f3n principal</li> </ul>"},{"location":"02-documento-funcional/#ep-02-alacena-mvp","title":"EP-02: ALACENA MVP","text":"<ul> <li>CRUD items</li> <li>Movimientos</li> <li>Vista stock</li> <li>\u2705 Sistema de taras (completado)</li> </ul>"},{"location":"02-documento-funcional/#ep-03-mantia-mvp","title":"EP-03: MANTIA MVP","text":"<ul> <li>CRUD tareas</li> <li>Ejecuciones</li> <li>Vista pendientes</li> </ul>"},{"location":"02-documento-funcional/#ep-04-lista-de-compras","title":"EP-04: Lista de Compras","text":"<ul> <li>CRUD items lista</li> <li>Integraci\u00f3n con ALACENA</li> <li>Marcar comprado</li> </ul>"},{"location":"02-documento-funcional/#11-definition-of-ready-definition-of-done","title":"\u2705 11. Definition of Ready &amp; Definition of Done","text":""},{"location":"02-documento-funcional/#111-definition-of-ready-dor","title":"11.1 Definition of Ready (DoR)","text":"<p>Una historia est\u00e1 lista si:</p> <ul> <li>\u2705 Tiene objetivo claro</li> <li>\u2705 Criterios de aceptaci\u00f3n testables</li> <li>\u2705 Impacto en datos definido</li> <li>\u2705 Flujo feliz escrito</li> </ul>"},{"location":"02-documento-funcional/#112-definition-of-done-dod","title":"11.2 Definition of Done (DoD)","text":"<p>Est\u00e1 hecha si:</p> <ul> <li>\u2705 Mergeado a main</li> <li>\u2705 Migraciones aplicadas (si hay cambios en DB)</li> <li>\u2705 Log b\u00e1sico funcionando</li> <li>\u2705 Probado desde m\u00f3vil</li> <li>\u2705 Deployado a producci\u00f3n</li> </ul>"},{"location":"02-documento-funcional/#12-glosario","title":"\ud83d\udcd6 12. Glosario","text":"T\u00e9rmino Definici\u00f3n Hogar \u00c1mbito aislado de datos (multi-tenancy b\u00e1sico) Tarea Unidad persistente de MANTIA Ejecuci\u00f3n Evento hist\u00f3rico de realizaci\u00f3n de tarea Item de Alacena Recurso del hogar (alimento/producto) Lista Item Elemento comprable en Lista de Compras DF Documento Funcional (este documento) ADR Architecture Decision Record"},{"location":"02-documento-funcional/#13-enlaces-de-referencia","title":"\ud83d\udd17 13. Enlaces de Referencia","text":"<ul> <li>Contexto General</li> <li>Libro de Sesiones</li> <li>Backlog Maestro</li> <li>Roadmap</li> <li>ADRs T\u00e9cnicos</li> <li>Modelo de Datos</li> <li>UX &amp; Navegaci\u00f3n</li> </ul> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Pr\u00f3xima revisi\u00f3n: Post Sprint 1 (24 Feb 2026)</p> <p>Este documento evoluciona con cada sprint y refleja siempre la verdad del c\u00f3digo.</p>"},{"location":"03-libro-sesiones/","title":"ECO \u2013 03 Libro de Sesiones","text":"<p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Sesiones totales: 5 registradas</p>"},{"location":"03-libro-sesiones/#proposito","title":"\ud83d\udccb Prop\u00f3sito","text":"<p>Registro oficial y evolutivo de todas las sesiones del proyecto ECO. Este documento consolida decisiones, acuerdos, temas abiertos y acciones de cada encuentro.</p>"},{"location":"03-libro-sesiones/#estructura-de-cada-sesion","title":"\ud83d\udcda Estructura de Cada Sesi\u00f3n","text":"<p>Cada sesi\u00f3n se documenta con la siguiente estructura est\u00e1ndar:</p> <pre><code>### Sesi\u00f3n N \u2013 AAAA-MM-DD \u2013 [Tema]\n\n- **Objetivo de la sesi\u00f3n:** [Qu\u00e9 se buscaba lograr]\n- **Decisiones tomadas (D-###):** [Decisiones con ID \u00fanico]\n- **Acuerdos (A-###):** [Acuerdos con ID \u00fanico]\n- **Temas abiertos (TO-###):** [Pendientes sin resolver]\n- **Impacto en DF:** [Cambios en Documento Funcional]\n- **Impacto en Arquitectura:** [Cambios t\u00e9cnicos/ADRs]\n- **Impacto en Backlog/Project:** [Nuevas historias/issues]\n- **Acciones y responsables:** [Qui\u00e9n debe hacer qu\u00e9]\n- **Pr\u00f3xima sesi\u00f3n / Pr\u00f3ximos pasos:** [Qu\u00e9 sigue]\n</code></pre>"},{"location":"03-libro-sesiones/#nomenclatura-de-ids","title":"Nomenclatura de IDs","text":"<ul> <li>D-### \u2192 Decisi\u00f3n</li> <li>A-### \u2192 Acuerdo</li> <li>TO-### \u2192 Tema abierto</li> </ul>"},{"location":"03-libro-sesiones/#historial-de-sesiones","title":"\ud83d\udcd6 Historial de Sesiones","text":""},{"location":"03-libro-sesiones/#sesion-1-2026-01-26-definicion-de-metodologia","title":"Sesi\u00f3n 1 \u2013 2026-01-26 \u2013 Definici\u00f3n de metodolog\u00eda","text":"<p>\u26a0\ufe0f Pendiente de completar con informaci\u00f3n detallada; borrador creado para reconstrucci\u00f3n posterior</p> <ul> <li>Objetivo de la sesi\u00f3n: Por completar</li> <li>Decisiones tomadas (D-001): Por completar</li> <li>Acuerdos (A-001): Por completar</li> <li>Temas abiertos (TO-001): Por completar</li> <li>Impacto en DF: Por completar</li> <li>Impacto en Arquitectura: Por completar</li> <li>Impacto en Backlog / Project: Por completar</li> <li>Acciones y responsables: Por completar</li> <li>Pr\u00f3xima sesi\u00f3n / Pr\u00f3ximos pasos: Por completar</li> </ul>"},{"location":"03-libro-sesiones/#sesion-2-2026-01-27-backlog-maestro-parcial","title":"Sesi\u00f3n 2 \u2013 2026-01-27 \u2013 Backlog Maestro (parcial)","text":"<p>\u26a0\ufe0f Pendiente de completar con informaci\u00f3n detallada; borrador creado para reconstrucci\u00f3n posterior</p> <ul> <li>Objetivo de la sesi\u00f3n: Por completar</li> <li>Decisiones tomadas (D-002): Por completar</li> <li>Acuerdos (A-002): Por completar</li> <li>Temas abiertos (TO-002): Por completar</li> <li>Impacto en DF: Por completar</li> <li>Impacto en Arquitectura: Por completar</li> <li>Impacto en Backlog / Project: Por completar</li> <li>Acciones y responsables: Por completar</li> <li>Pr\u00f3xima sesi\u00f3n / Pr\u00f3ximos pasos: Por completar</li> </ul>"},{"location":"03-libro-sesiones/#sesion-3-2026-01-28-project-setup-sprint-0","title":"Sesi\u00f3n 3 \u2013 2026-01-28 \u2013 Project &amp; Setup Sprint 0","text":"<p>\u26a0\ufe0f Pendiente de completar con informaci\u00f3n detallada; borrador creado para reconstrucci\u00f3n posterior</p> <ul> <li>Objetivo de la sesi\u00f3n: Por completar</li> <li>Decisiones tomadas (D-003): Por completar</li> <li>Acuerdos (A-003): Por completar</li> <li>Temas abiertos (TO-003): Por completar</li> <li>Impacto en DF: Por completar</li> <li>Impacto en Arquitectura: Por completar</li> <li>Impacto en Backlog / Project: Por completar</li> <li>Acciones y responsables: Por completar</li> <li>Pr\u00f3xima sesi\u00f3n / Pr\u00f3ximos pasos: Por completar</li> </ul>"},{"location":"03-libro-sesiones/#sesion-4-2026-01-29-tema-a-completar","title":"Sesi\u00f3n 4 \u2013 2026-01-29 \u2013 (tema a completar)","text":"<p>\u26a0\ufe0f Pendiente de completar con informaci\u00f3n detallada; borrador creado para reconstrucci\u00f3n posterior</p> <ul> <li>Objetivo de la sesi\u00f3n: Por completar</li> <li>Decisiones tomadas (D-004): Por completar</li> <li>Acuerdos (A-004): Por completar</li> <li>Temas abiertos (TO-004): Por completar</li> <li>Impacto en DF: Por completar</li> <li>Impacto en Arquitectura: Por completar</li> <li>Impacto en Backlog / Project: Por completar</li> <li>Acciones y responsables: Por completar</li> <li>Pr\u00f3xima sesi\u00f3n / Pr\u00f3ximos pasos: Por completar</li> </ul>"},{"location":"03-libro-sesiones/#sesion-5-2026-01-29-formalizacion-de-estructura-documental","title":"Sesi\u00f3n 5 \u2013 2026-01-29 \u2013 Formalizaci\u00f3n de estructura documental","text":"<ul> <li> <p>Objetivo de la sesi\u00f3n: Formalizar la estructura documental del proyecto ECO y establecer el mecanismo para retomar contexto en futuras conversaciones.</p> </li> <li> <p>Decisiones tomadas (D-005):</p> </li> <li>D-005-1: Se confirma la estructura de tres documentos maestros (DF, Operaci\u00f3n &amp; Gobierno, Contexto Vivo) como base permanente.</li> <li>D-005-2: Se crea y adopta el Libro de Sesiones como registro oficial de minutas.</li> <li> <p>D-005-3: Se define el comando operativo \"Retomemos donde quedamos\" como disparador para que Copilot vuelva a leer y sincronizar informaci\u00f3n desde el Contexto Vivo del Proyecto.</p> </li> <li> <p>Acuerdos (A-005):</p> </li> <li>A-005-1: Las sesiones previas (26/01 \u2192 29/01) ser\u00e1n reconstruidas retrospectivamente en pr\u00f3ximas iteraciones.</li> <li> <p>A-005-2: Fran proveer\u00e1 fragmentos de conversaciones pasadas si falta informaci\u00f3n para completarlas.</p> </li> <li> <p>Temas abiertos (TO-005):</p> </li> <li>TO-005-1: Completar minutas de sesiones 1 a 4 con reconstrucci\u00f3n basada en conversaciones de la semana.</li> <li> <p>TO-005-2: Consolidar backlog y DF en base al material previo.</p> </li> <li> <p>Impacto en DF: Ninguno directo todav\u00eda; pendiente de reconstrucci\u00f3n de sesiones previas.</p> </li> <li> <p>Impacto en Arquitectura: Ninguno directo; se documentar\u00e1 cuando revisemos decisiones t\u00e9cnicas pasadas.</p> </li> <li> <p>Impacto en Backlog / Project: Pendiente de reconstrucci\u00f3n de sesiones previas.</p> </li> <li> <p>Acciones y responsables:</p> </li> <li>Fran: Traer fragmentos relevantes de conversaciones pasadas para reconstruir sesiones 1-4.</li> <li> <p>Copilot: Generar minutas y actualizarlas en el Libro + sincronizar en Contexto Vivo.</p> </li> <li> <p>Pr\u00f3xima sesi\u00f3n / Pr\u00f3ximos pasos: Reconstruir Sesi\u00f3n 1 (Kickoff) en la pr\u00f3xima iteraci\u00f3n.</p> </li> </ul>"},{"location":"03-libro-sesiones/#sesion-6-2026-02-04-consolidacion-documental-y-mejoras-ux-sprint-0-dia-1","title":"Sesi\u00f3n 6 \u2013 2026-02-04 \u2013 Consolidaci\u00f3n documental y mejoras UX (Sprint 0 D\u00eda 1)","text":"<p>Sprint: Sprint 0 Duraci\u00f3n: ~180 min (de 200 planificados)</p> <ul> <li> <p>Objetivo de la sesi\u00f3n: Crear estructura documental definitiva en Markdown, migrar contenido de ECO.htm, configurar MkDocs Material, implementar mejoras UX/dise\u00f1o, y preparar workflow de gesti\u00f3n de historias.</p> </li> <li> <p>Decisiones tomadas (D-006):</p> </li> <li>D-006-1: Adoptar Markdown como formato est\u00e1ndar para toda la documentaci\u00f3n.</li> <li>D-006-2: Estructura mixta: documentos core (01-03), carpetas organizadas (04-planificacion, 05-arquitectura).</li> <li>D-006-3: Renombrar repo de 'alacena' a 'eco' (ya renombrado en GitHub remote).</li> <li>D-006-4: Implementar MkDocs Material con 24 features avanzadas (navigation.path, toc.integrate, announce.dismiss, etc.).</li> <li>D-006-5: Usar documentaci\u00f3n como source of truth, GitHub Issues como tracking operativo.</li> <li> <p>D-006-6: Nomenclatura de sesiones: numeraci\u00f3n absoluta (Sesi\u00f3n 1, 2, 3...) + contexto Sprint cuando aplique.</p> </li> <li> <p>Acuerdos (A-006):</p> </li> <li>A-006-1: Sprint 0 hasta 09/Feb/2026 con 3 sesiones de trabajo (04, 05, 06 Feb).</li> <li>A-006-2: Sesi\u00f3n 7 (05/Feb): Backlog Sprint 1 completo + Docs t\u00e9cnicas (200 min).</li> <li>A-006-3: Sesi\u00f3n 8 (06/Feb): ADRs backfill + Flujos UX + Cierre Sprint 0 (200 min).</li> <li> <p>A-006-4: Sesiones 1-4 quedan como placeholders hasta tener informaci\u00f3n para reconstruirlas.</p> </li> <li> <p>Temas abiertos (TO-006):</p> </li> <li>TO-006-1: Backlog Sprint 1 sin DoR (15 historias sin criterios de aceptaci\u00f3n detallados) - Bloquea arranque Sprint 1.</li> <li>TO-006-2: Setup local sin documentar paso a paso - Dificulta onboarding.</li> <li>TO-006-3: Modelo de datos desincronizado con Prisma schema actual.</li> <li>TO-006-4: ADRs 009-012 faltantes (decisiones recientes sin formalizar).</li> <li> <p>TO-006-5: Flujos UX de MANTIA, Lista, ECOSALUD sin documentar.</p> </li> <li> <p>Impacto en DF: Sin cambios directos (el DF ya estaba migrado).</p> </li> <li> <p>Impacto en Arquitectura: </p> </li> <li>Estructura <code>docs/05-arquitectura/</code> creada con ADRs, modelo de datos, inventario AS-IS, procedimientos.</li> <li> <p>Logo ECO placeholder creado (SVG casa + hojas).</p> </li> <li> <p>Impacto en Backlog / Project: </p> </li> <li>An\u00e1lisis de gaps identific\u00f3 9 items cr\u00edticos/importantes.</li> <li> <p>Plan Sesi\u00f3n 7-8 definido con tareas espec\u00edficas.</p> </li> <li> <p>Logros completados:</p> </li> <li>\u2705 Estructura documental completa (22 archivos .md)</li> <li>\u2705 MkDocs Material configurado y desplegado en GitHub Pages (https://falberio.github.io/eco/)</li> <li>\u2705 Getting Started por rol (PM/Dev/UX/QA) - 3,200 palabras</li> <li>\u2705 FAQ completo (40+ preguntas) - 2,800 palabras</li> <li>\u2705 Glosario A-Z (60+ t\u00e9rminos) - 2,400 palabras</li> <li>\u2705 Mejoras UX: CSS custom (220 l\u00edneas), JS custom (150 l\u00edneas), announcement bar, navegaci\u00f3n con emojis</li> <li>\u2705 Templates GitHub Issues (feature, bug, tech, docs) + config.yml</li> <li>\u2705 Index.md redise\u00f1ado con hero section, tabs por rol, status badges</li> <li> <p>\u2705 4 commits: estructura documental, mejoras UX, templates GitHub, fix typo</p> </li> <li> <p>Acciones y responsables:</p> </li> <li> <p>Sesi\u00f3n 7 (05/Feb):</p> <ul> <li>Completar 15 historias Sprint 1 con criterios de aceptaci\u00f3n (110 min)</li> <li>Crear 15 issues en GitHub con links bidireccionales</li> <li>Documentar setup local paso a paso (30 min)</li> <li>Sincronizar modelo datos con Prisma (30 min)</li> <li>Troubleshooting b\u00e1sico (10 min)</li> <li>Revisi\u00f3n y pulido (20 min)</li> </ul> </li> <li> <p>Pr\u00f3xima sesi\u00f3n: Sesi\u00f3n 7 \u2013 05/Feb \u2013 Backlog Sprint 1 + Docs t\u00e9cnicas</p> </li> </ul>"},{"location":"03-libro-sesiones/#como-se-mantiene-este-libro","title":"\ud83d\udd04 C\u00f3mo Se Mantiene Este Libro","text":""},{"location":"03-libro-sesiones/#flujo-de-trabajo","title":"Flujo de Trabajo","text":"<ol> <li>Despu\u00e9s de cada sesi\u00f3n (o conversaci\u00f3n relevante), Copilot genera una minuta</li> <li>La minuta se agrega aqu\u00ed con su numeraci\u00f3n correspondiente</li> <li>Los IDs se generan seg\u00fan nomenclatura est\u00e1ndar:</li> <li>D-### \u2192 Decisi\u00f3n</li> <li>A-### \u2192 Acuerdo</li> <li>TO-### \u2192 Tema abierto</li> <li>Los cambios relevantes se reflejan tambi\u00e9n en:</li> <li>DF (cambios funcionales)</li> <li>Arquitectura (ADRs, cambios t\u00e9cnicos)</li> <li>Backlog / Project (issues, historias)</li> </ol>"},{"location":"03-libro-sesiones/#politica-de-actualizacion","title":"Pol\u00edtica de Actualizaci\u00f3n","text":"<ul> <li>La fuente operativa para continuar conversaciones es este documento</li> <li>Se mantiene sincronizado con el repo en cada commit</li> <li>Ante discrepancias, este documento prevalece</li> </ul>"},{"location":"03-libro-sesiones/#enlaces-relacionados","title":"\ud83d\udd17 Enlaces Relacionados","text":"<ul> <li>Contexto General</li> <li>Documento Funcional</li> <li>Backlog Maestro</li> <li>Roadmap</li> <li>ADRs</li> </ul> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Pr\u00f3xima sesi\u00f3n planeada: 05 Febrero 2026 (200 min)</p>"},{"location":"06-ux-navegacion/","title":"\ud83c\udfa8 UX &amp; Navegaci\u00f3n","text":"<p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Sprint: Sprint 0</p>"},{"location":"06-ux-navegacion/#proposito","title":"\ud83c\udfaf Prop\u00f3sito","text":"<p>Dise\u00f1ar navegaci\u00f3n clara, estados vac\u00edos \u00fatiles y patrones UI consistentes, priorizando mobile-first. ADRs y alcance funcional en Documento Funcional.</p>"},{"location":"06-ux-navegacion/#principios-ux","title":"\ud83d\udcf1 Principios UX","text":""},{"location":"06-ux-navegacion/#1-mobile-first-real","title":"1. Mobile-First Real","text":"<ul> <li>Dise\u00f1o primero para m\u00f3vil, luego desktop</li> <li>Touch targets \u2265 44x44px</li> <li>Navegaci\u00f3n con pulgares en mente</li> <li>Sin hover dependencies</li> </ul>"},{"location":"06-ux-navegacion/#2-estados-vacios-que-ensenan","title":"2. Estados Vac\u00edos que Ense\u00f1an","text":"<ul> <li>Cada m\u00f3dulo con estado inicial educativo</li> <li>CTAs claros (\"Crear tu primer...\")</li> <li>Ilustraciones simples y amigables</li> <li>Onboarding impl\u00edcito</li> </ul>"},{"location":"06-ux-navegacion/#3-consistencia-entre-modulos","title":"3. Consistencia Entre M\u00f3dulos","text":"<ul> <li>Mismos patrones de navegaci\u00f3n</li> <li>Colores y tipograf\u00eda unificados</li> <li>Botones de acci\u00f3n en mismos lugares</li> <li>Terminolog\u00eda consistente</li> </ul>"},{"location":"06-ux-navegacion/#4-simplicidad-de-captura","title":"4. Simplicidad de Captura","text":"<ul> <li>Formularios m\u00ednimos</li> <li>Defaults inteligentes</li> <li>Validaci\u00f3n en tiempo real</li> <li>Guardar r\u00e1pido (enter to submit)</li> </ul>"},{"location":"06-ux-navegacion/#mapa-de-navegacion","title":"\ud83d\uddfa\ufe0f Mapa de Navegaci\u00f3n","text":""},{"location":"06-ux-navegacion/#estructura-general","title":"Estructura General","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502          Header / Nav               \u2502\n\u2502  [Logo] [ALACENA][MANTIA][+][\ud83d\udc64]    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502                                     \u2502\n\u2502         Contenido Principal         \u2502\n\u2502                                     \u2502\n\u2502                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\u2502         Bottom Nav (Mobile)         \u2502\n\u2502  [\ud83c\udffa][\ud83d\udccb][\u2795][\ud83d\uded2][\ud83d\udc64]                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"06-ux-navegacion/#flujos-por-modulo","title":"\ud83d\udccd Flujos por M\u00f3dulo","text":""},{"location":"06-ux-navegacion/#alacena","title":"\ud83c\udffa ALACENA","text":""},{"location":"06-ux-navegacion/#flujo-principal","title":"Flujo Principal","text":"<pre><code>Inicio (Lista de Items)\n  \u251c\u2500&gt; [+ Nuevo Item] \u2192 Formulario Alta \u2192 Item Creado\n  \u251c\u2500&gt; [Item Card] \u2192 Detalle Item\n  \u2502     \u251c\u2500&gt; [Editar] \u2192 Formulario Edici\u00f3n\n  \u2502     \u251c\u2500&gt; [+ Movimiento] \u2192 Registro Ingreso/Consumo\n  \u2502     \u251c\u2500&gt; [Agregar a Lista] \u2192 Item en Lista de Compras\n  \u2502     \u2514\u2500&gt; [Historial] \u2192 Lista de Movimientos\n  \u2514\u2500&gt; [\ud83d\udd0d Buscar] \u2192 Filtrar items\n</code></pre>"},{"location":"06-ux-navegacion/#navegacion","title":"Navegaci\u00f3n","text":"<ul> <li>Bottom Nav: \ud83c\udffa ALACENA (icono de frasco)</li> <li>Acciones primarias:</li> <li>\u2795 Crear item (FAB bottom-right)</li> <li>\ud83d\udd0d Buscar (header)</li> <li>\ud83c\udff7\ufe0f Filtrar por categor\u00eda</li> </ul>"},{"location":"06-ux-navegacion/#estados-vacios","title":"Estados Vac\u00edos","text":"<p>Sin items: <pre><code>       [Ilustraci\u00f3n: Estanter\u00eda vac\u00eda]\n\n    No hay items en tu alacena\n\n    Comenz\u00e1 agregando tu primer item\n    para empezar a registrar tu stock\n\n         [+ Crear Primer Item]\n</code></pre></p> <p>Sin movimientos: <pre><code>    No hay movimientos registrados\n\n    Cuando agregues o consumas este item,\n    ver\u00e1s el historial aqu\u00ed\n</code></pre></p>"},{"location":"06-ux-navegacion/#mantia","title":"\ud83d\udccb MANTIA","text":""},{"location":"06-ux-navegacion/#flujo-principal_1","title":"Flujo Principal","text":"<pre><code>Inicio (Tareas Pendientes)\n  \u251c\u2500&gt; [+ Nueva Tarea] \u2192 Formulario Alta \u2192 Tarea Creada\n  \u251c\u2500&gt; [Tarea Card] \u2192 Detalle Tarea\n  \u2502     \u251c\u2500&gt; [Editar] \u2192 Formulario Edici\u00f3n\n  \u2502     \u251c\u2500&gt; [\u2713 Marcar Hecha] \u2192 Registro Ejecuci\u00f3n\n  \u2502     \u2514\u2500&gt; [Historial] \u2192 Lista de Ejecuciones\n  \u251c\u2500&gt; [Tabs: Pendientes | Todas | Completadas]\n  \u2514\u2500&gt; [\ud83d\udd0d Buscar] \u2192 Filtrar tareas\n</code></pre>"},{"location":"06-ux-navegacion/#navegacion_1","title":"Navegaci\u00f3n","text":"<ul> <li>Bottom Nav: \ud83d\udccb MANTIA (icono de checklist)</li> <li>Tabs:</li> <li>\ud83d\udd14 Pendientes (default)</li> <li>\ud83d\udccb Todas</li> <li>\u2705 Completadas</li> <li>Acciones primarias:</li> <li>\u2795 Crear tarea (FAB)</li> <li>\u2713 Marcar hecha (quick action)</li> </ul>"},{"location":"06-ux-navegacion/#estados-vacios_1","title":"Estados Vac\u00edos","text":"<p>Sin tareas: <pre><code>       [Ilustraci\u00f3n: Lista vac\u00eda]\n\n    No hay tareas creadas\n\n    Cre\u00e1 tu primera tarea para mantener\n    tu hogar organizado\n\n         [+ Crear Primera Tarea]\n</code></pre></p> <p>Sin pendientes: <pre><code>       [Ilustraci\u00f3n: Checklist completo]\n\n    \u00a1Todo al d\u00eda! \ud83c\udf89\n\n    No hay tareas pendientes por ahora\n</code></pre></p>"},{"location":"06-ux-navegacion/#lista-de-compras","title":"\ud83d\uded2 Lista de Compras","text":""},{"location":"06-ux-navegacion/#flujo-principal_2","title":"Flujo Principal","text":"<pre><code>Lista de Compras\n  \u251c\u2500&gt; [+ Agregar Item] \u2192 Input R\u00e1pido \u2192 Item Agregado\n  \u251c\u2500&gt; [+ Desde Alacena] \u2192 Seleccionar Items \u2192 Items Agregados\n  \u251c\u2500&gt; [Item Card]\n  \u2502     \u251c\u2500&gt; [\u2713 Marcar Comprado] \u2192 Item Marcado\n  \u2502     \u251c\u2500&gt; [\u270f\ufe0f Editar] \u2192 Editar cantidad/unidad\n  \u2502     \u2514\u2500&gt; [\ud83d\uddd1\ufe0f Eliminar]\n  \u251c\u2500&gt; [Mostrar: Pendientes | Todos]\n  \u2514\u2500&gt; [\ud83d\uddd1\ufe0f Limpiar Comprados] \u2192 Confirmar \u2192 Lista Limpia\n</code></pre>"},{"location":"06-ux-navegacion/#navegacion_2","title":"Navegaci\u00f3n","text":"<ul> <li>Bottom Nav: \ud83d\uded2 Lista (icono de carrito)</li> <li>Acciones primarias:</li> <li>\u2795 Agregar manual (input siempre visible)</li> <li>\ud83c\udffa Desde ALACENA (bot\u00f3n secundario)</li> <li>\u2713 Marcar comprado (swipe o tap)</li> </ul>"},{"location":"06-ux-navegacion/#estados-vacios_2","title":"Estados Vac\u00edos","text":"<p>Sin items: <pre><code>       [Ilustraci\u00f3n: Carrito vac\u00edo]\n\n    Tu lista est\u00e1 vac\u00eda\n\n    Agreg\u00e1 items manualmente o desde ALACENA\n\n    [+ Agregar Item]  [\ud83c\udffa Desde Alacena]\n</code></pre></p>"},{"location":"06-ux-navegacion/#ecosalud-basico","title":"\ud83d\udc8a ECOSALUD (B\u00e1sico)","text":""},{"location":"06-ux-navegacion/#flujo-principal_3","title":"Flujo Principal","text":"<pre><code>Inicio (Hist\u00f3rico)\n  \u251c\u2500&gt; [+ Nuevo Registro] \u2192 Formulario Alta \u2192 Registro Creado\n  \u2502     \u251c\u2500&gt; Tipo: Peso / Presi\u00f3n / Glucosa / Nota\n  \u2502     \u251c\u2500&gt; Valor\n  \u2502     \u2514\u2500&gt; Notas (opcional)\n  \u251c\u2500&gt; [Registro Card] \u2192 Detalle\n  \u2514\u2500&gt; [Filtros: Tipo | Fecha]\n</code></pre>"},{"location":"06-ux-navegacion/#navegacion_3","title":"Navegaci\u00f3n","text":"<ul> <li>Bottom Nav: \ud83d\udc8a Salud (icono de coraz\u00f3n/pulso)</li> <li>Acciones primarias:</li> <li>\u2795 Nuevo registro (FAB)</li> <li>\ud83d\udcca Ver hist\u00f3rico (default)</li> </ul>"},{"location":"06-ux-navegacion/#estados-vacios_3","title":"Estados Vac\u00edos","text":"<p>Sin registros: <pre><code>       [Ilustraci\u00f3n: Calendario vac\u00edo]\n\n    No hay registros de salud\n\n    Comenz\u00e1 a registrar tus datos\n    para llevar un seguimiento\n\n         [+ Primer Registro]\n</code></pre></p>"},{"location":"06-ux-navegacion/#componentes-y-patrones-ui","title":"\ud83c\udfa8 Componentes y Patrones UI","text":""},{"location":"06-ux-navegacion/#cards-de-items","title":"Cards de Items","text":"<p>Card de ALACENA: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 [Img] Arroz Integral            \u2502\n\u2502       Granos | 1.5kg             \u2502\n\u2502       Stock: 500g                \u2502\n\u2502                         [\u2022\u2022\u2022]    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p> <p>Card de MANTIA: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 [\u2713] Cambiar filtro de agua      \u2502\n\u2502     Mantenimiento | Mensual      \u2502\n\u2502     Pr\u00f3xima: 15 Feb              \u2502\n\u2502                         [\u2022\u2022\u2022]    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p> <p>Card de Lista: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 [ ] Leche                        \u2502\n\u2502     2 litros | Desde ALACENA     \u2502\n\u2502                         [\u2713][X]   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"06-ux-navegacion/#formularios","title":"Formularios","text":"<p>Principios: - Labels siempre visibles - Placeholders como ejemplos - Validaci\u00f3n inline - Bot\u00f3n de acci\u00f3n fijo en bottom (mobile)</p> <p>Ejemplo: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Nombre *                        \u2502\n\u2502 [...........................]   \u2502\n\u2502                                 \u2502\n\u2502 Categor\u00eda                       \u2502\n\u2502 [\u25bc Seleccionar...............]  \u2502\n\u2502                                 \u2502\n\u2502 Stock Actual *                  \u2502\n\u2502 [........] [\u25bc kg............]   \u2502\n\u2502                                 \u2502\n\u2502 Notas                           \u2502\n\u2502 [...........................]   \u2502\n\u2502                                 \u2502\n\u2502                                 \u2502\n\u2502        [Guardar Item]           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p>"},{"location":"06-ux-navegacion/#botones-de-accion","title":"Botones de Acci\u00f3n","text":"<p>FAB (Floating Action Button): - Posici\u00f3n: Bottom-right - Tama\u00f1o: 56x56px - Color: Primary (amber) - Acci\u00f3n principal del m\u00f3dulo</p> <p>Botones R\u00e1pidos: - En cards: Iconos peque\u00f1os (\u2022\u2022\u2022, \u2713, X) - Acciones secundarias en menu contextual</p> <p>Swipe Actions: - Swipe right: \u2713 Completar/Marcar - Swipe left: \ud83d\uddd1\ufe0f Eliminar</p>"},{"location":"06-ux-navegacion/#navegacion_4","title":"Navegaci\u00f3n","text":"<p>Top Header (Desktop): <pre><code>[Logo ECO] [ALACENA] [MANTIA] [ECOSALUD] [Lista]     [\ud83d\udc64]\n</code></pre></p> <p>Bottom Nav (Mobile): <pre><code>[\ud83c\udffa]  [\ud83d\udccb]  [\u2795]  [\ud83d\uded2]  [\ud83d\udc64]\n</code></pre></p> <p>Tabs Internas (dentro de m\u00f3dulo): <pre><code>[Pendientes] [Todas] [Completadas]\n</code></pre></p>"},{"location":"06-ux-navegacion/#filtros-y-busqueda","title":"Filtros y B\u00fasqueda","text":"<p>Buscador: <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 \ud83d\udd0d [Buscar items...........]    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre></p> <p>Filtros por Categor\u00eda: <pre><code>[Todas] [Granos] [L\u00e1cteos] [Enlatados] [+]\n</code></pre></p> <p>Filtros por Estado (MANTIA): <pre><code>[Pendientes] [Vencidas] [Completadas]\n</code></pre></p>"},{"location":"06-ux-navegacion/#paleta-de-colores","title":"\ud83c\udfa8 Paleta de Colores","text":""},{"location":"06-ux-navegacion/#colores-primarios","title":"Colores Primarios","text":"<ul> <li>Primary: Amber (#F59E0B) - C\u00e1lido, acogedor</li> <li>Secondary: Slate (#64748B) - Neutral, profesional</li> </ul>"},{"location":"06-ux-navegacion/#colores-de-estado","title":"Colores de Estado","text":"<ul> <li>Success: Green (#10B981) - Completado, OK</li> <li>Warning: Orange (#F97316) - Atenci\u00f3n, stock bajo</li> <li>Error: Red (#EF4444) - Error, cr\u00edtico</li> <li>Info: Blue (#3B82F6) - Informaci\u00f3n</li> </ul>"},{"location":"06-ux-navegacion/#fondos","title":"Fondos","text":"<ul> <li>Background: White (#FFFFFF)</li> <li>Surface: Gray-50 (#F9FAFB)</li> <li>Border: Gray-200 (#E5E7EB)</li> </ul>"},{"location":"06-ux-navegacion/#espaciado-y-tipografia","title":"\ud83d\udccf Espaciado y Tipograf\u00eda","text":""},{"location":"06-ux-navegacion/#espaciado-tailwind","title":"Espaciado (Tailwind)","text":"<ul> <li>xs: 4px</li> <li>sm: 8px</li> <li>md: 16px (default para cards)</li> <li>lg: 24px</li> <li>xl: 32px</li> </ul>"},{"location":"06-ux-navegacion/#tipografia","title":"Tipograf\u00eda","text":"<ul> <li>Headings: Aptos Display (sans-serif)</li> <li>Body: Aptos (sans-serif)</li> <li>Mono: Monospace (para c\u00f3digos)</li> </ul>"},{"location":"06-ux-navegacion/#tamanos","title":"Tama\u00f1os","text":"<ul> <li>H1: 24px (mobile) / 32px (desktop)</li> <li>H2: 20px / 24px</li> <li>H3: 18px / 20px</li> <li>Body: 16px</li> <li>Small: 14px</li> </ul>"},{"location":"06-ux-navegacion/#accesibilidad","title":"\u267f Accesibilidad","text":""},{"location":"06-ux-navegacion/#principios","title":"Principios","text":"<ul> <li>\u2705 Contraste m\u00ednimo 4.5:1 para texto</li> <li>\u2705 Touch targets \u2265 44x44px</li> <li>\u2705 Navegaci\u00f3n por teclado funcional</li> <li>\u2705 Labels en todos los inputs</li> <li>\u2705 Estados de foco visibles</li> </ul>"},{"location":"06-ux-navegacion/#aria","title":"ARIA","text":"<ul> <li>Usar roles sem\u00e1nticos</li> <li>Labels descriptivos</li> <li>Estados de loading anunciados</li> </ul>"},{"location":"06-ux-navegacion/#responsive-breakpoints","title":"\ud83d\udcf1 Responsive Breakpoints","text":"<pre><code>/* Mobile First */\nbase: 0-639px      /* M\u00f3vil */\nsm: 640px-767px    /* M\u00f3vil grande */\nmd: 768px-1023px   /* Tablet */\nlg: 1024px-1279px  /* Desktop */\nxl: 1280px+        /* Desktop grande */\n</code></pre>"},{"location":"06-ux-navegacion/#enlaces","title":"\ud83d\udd17 Enlaces","text":"<ul> <li>Documento Funcional</li> <li>Backlog</li> <li>ADRs</li> </ul> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Pr\u00f3xima revisi\u00f3n: Mensual (pr\u00f3xima: 04 Mar 2026)</p>"},{"location":"07-cheatsheet/","title":"\ud83c\udfaf Cheatsheet Operativo \u2013 Comandos R\u00e1pidos","text":"<p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026</p>"},{"location":"07-cheatsheet/#proposito","title":"\ud83d\udccb Prop\u00f3sito","text":"<p>Hoja r\u00e1pida con comandos listos para usar con Copilot. Acelera el trabajo, estandariza pedidos y evita ambig\u00fcedades.</p>"},{"location":"07-cheatsheet/#comandos-de-contexto","title":"\ud83d\udd04 Comandos de Contexto","text":""},{"location":"07-cheatsheet/#retomar-trabajo","title":"Retomar Trabajo","text":"<pre><code>Retomemos donde quedamos\n</code></pre> <p>Copilot cargar\u00e1 autom\u00e1ticamente: - Contexto General - Documento Funcional - \u00daltima sesi\u00f3n del Libro de Sesiones - Estado actual del Backlog</p>"},{"location":"07-cheatsheet/#estado-del-proyecto","title":"Estado del Proyecto","text":"<pre><code>\u00bfCu\u00e1l es el estado actual del proyecto ECO?\n</code></pre>"},{"location":"07-cheatsheet/#revisar-sprint-actual","title":"Revisar Sprint Actual","text":"<pre><code>Mu\u00e9strame el estado del Sprint actual\n</code></pre>"},{"location":"07-cheatsheet/#backlog-epicas","title":"\ud83d\udcdd Backlog &amp; \u00c9picas","text":""},{"location":"07-cheatsheet/#crear-epica","title":"Crear \u00c9pica","text":"<pre><code>Cre\u00e1 la \u00e9pica EP-XX: &lt;Nombre&gt; con objetivo, alcance y criterios de \u00e9xito\n</code></pre> <p>Ejemplo: <pre><code>Cre\u00e1 la \u00e9pica EP-06: Reportes ALACENA con objetivo, alcance y criterios de \u00e9xito\n</code></pre></p>"},{"location":"07-cheatsheet/#crear-historia-de-usuario","title":"Crear Historia de Usuario","text":"<pre><code>Agreg\u00e1 la historia &lt;M\u00d3DULO-##&gt;: &lt;T\u00edtulo&gt; con criterios de aceptaci\u00f3n: &lt;...&gt;\n</code></pre> <p>Ejemplo: <pre><code>Agreg\u00e1 la historia ALACENA-12: Ver historial de movimientos con criterios: 1) filtrar por fecha, 2) exportar CSV\n</code></pre></p>"},{"location":"07-cheatsheet/#editar-historia","title":"Editar Historia","text":"<pre><code>Actualiz\u00e1 &lt;ID-HISTORIA&gt; cambiando &lt;CAMPO&gt; por: &lt;VALOR&gt;\n</code></pre> <p>Ejemplo: <pre><code>Actualiz\u00e1 MANTIA-03 cambiando criterios por: 1) mostrar solo pendientes, 2) ordenar por fecha\n</code></pre></p>"},{"location":"07-cheatsheet/#sprints","title":"\ud83d\ude80 Sprints","text":""},{"location":"07-cheatsheet/#crear-sprint","title":"Crear Sprint","text":"<pre><code>Cre\u00e1 Sprint N \u2013 DD/MM \u2192 DD/MM con estas historias: &lt;lista&gt;\n</code></pre> <p>Ejemplo: <pre><code>Cre\u00e1 Sprint 2 \u2013 24/02 \u2192 09/03 con estas historias: MANTIA-01, MANTIA-02, LISTA-01\n</code></pre></p>"},{"location":"07-cheatsheet/#actualizar-sprint","title":"Actualizar Sprint","text":"<pre><code>Ajust\u00e1 Sprint N moviendo &lt;hist\u00f3rias&gt; y actualiz\u00e1 Roadmap\n</code></pre>"},{"location":"07-cheatsheet/#roadmap","title":"\ud83d\uddfa\ufe0f Roadmap","text":""},{"location":"07-cheatsheet/#mover-hito","title":"Mover Hito","text":"<pre><code>Mov\u00e9 el hito &lt;Nombre&gt; a QX 2026 y revis\u00e1 riesgos/dependencias\n</code></pre>"},{"location":"07-cheatsheet/#agregar-hito","title":"Agregar Hito","text":"<pre><code>Agreg\u00e1 el hito &lt;Nombre&gt; con objetivos/entregables &lt;...&gt;\n</code></pre>"},{"location":"07-cheatsheet/#libro-de-sesiones","title":"\ud83d\udcd6 Libro de Sesiones","text":""},{"location":"07-cheatsheet/#crear-sesion","title":"Crear Sesi\u00f3n","text":"<pre><code>Agreg\u00e1 Sesi\u00f3n N \u2013 AAAAMMDD \u2013 &lt;Tema&gt; con D-###, A-###, TO-### y pr\u00f3ximos pasos\n</code></pre> <p>Ejemplo: <pre><code>Agreg\u00e1 Sesi\u00f3n 7 \u2013 20260205 \u2013 Backlog Sprint 1 con decisiones, acuerdos y pr\u00f3ximos pasos\n</code></pre></p>"},{"location":"07-cheatsheet/#adrs","title":"\ud83c\udfd7\ufe0f ADRs","text":""},{"location":"07-cheatsheet/#crear-adr","title":"Crear ADR","text":"<pre><code>Cre\u00e1 ADR-00X \u2013 &lt;T\u00edtulo&gt; con contexto, decisi\u00f3n y consecuencias\n</code></pre> <p>Ejemplo: <pre><code>Cre\u00e1 ADR-006 \u2013 Uso de Redis para cache con contexto, decisi\u00f3n y consecuencias\n</code></pre></p>"},{"location":"07-cheatsheet/#ubicacion-de-adrs","title":"Ubicaci\u00f3n de ADRs","text":"<ul> <li>Funcional/arquitect\u00f3nico \u2192 02-documento-funcional.md</li> <li>T\u00e9cnico operativo \u2192 05-arquitectura/adrs.md</li> </ul>"},{"location":"07-cheatsheet/#ux-navegacion","title":"\ud83c\udfa8 UX &amp; Navegaci\u00f3n","text":""},{"location":"07-cheatsheet/#actualizar-navegacion","title":"Actualizar Navegaci\u00f3n","text":"<pre><code>Actualiz\u00e1 navegaci\u00f3n para &lt;M\u00d3DULO&gt; agregando &lt;FEATURE&gt;\n</code></pre> <p>Ejemplo: <pre><code>Actualiz\u00e1 navegaci\u00f3n para MANTIA agregando b\u00fasqueda local\n</code></pre></p>"},{"location":"07-cheatsheet/#proponer-estado-vacio","title":"Proponer Estado Vac\u00edo","text":"<pre><code>Propon\u00e9 estado vac\u00edo para &lt;M\u00d3DULO&gt; cuando &lt;CONDICI\u00d3N&gt;\n</code></pre> <p>Ejemplo: <pre><code>Propon\u00e9 estado vac\u00edo para ALACENA cuando no existan items\n</code></pre></p>"},{"location":"07-cheatsheet/#deploys-backfill","title":"\ud83d\ude80 Deploys &amp; Backfill","text":""},{"location":"07-cheatsheet/#registrar-deploy","title":"Registrar Deploy","text":"<pre><code>Registr\u00e1 deploy &lt;COMPONENTE&gt; \u2013 AAAA-MM-DD: &lt;descripci\u00f3n&gt;\n</code></pre> <p>Ejemplo: <pre><code>Registr\u00e1 deploy Backend \u2013 2026-02-04: migraci\u00f3n de taras autom\u00e1ticas\n</code></pre></p>"},{"location":"07-cheatsheet/#backfill-regularizacion","title":"Backfill (Regularizaci\u00f3n)","text":"<pre><code>A\u00f1ad\u00ed Backfill: &lt;hecho pasado&gt; y registralo seg\u00fan plantilla\n</code></pre> <p>Ejemplo: <pre><code>A\u00f1ad\u00ed Backfill: deploy inicial de ALACENA en Noviembre 2025\n</code></pre></p>"},{"location":"07-cheatsheet/#actualizacion-de-documentos","title":"\ud83d\udcca Actualizaci\u00f3n de Documentos","text":""},{"location":"07-cheatsheet/#actualizar-fecha","title":"Actualizar Fecha","text":"<pre><code>Actualiz\u00e1 \u00faltima actualizaci\u00f3n de &lt;DOCUMENTO&gt;\n</code></pre>"},{"location":"07-cheatsheet/#mantener-coherencia","title":"Mantener Coherencia","text":"<pre><code>Registr\u00e1 impactos cruzados en DF, Backlog, Roadmap y Sesiones\n</code></pre>"},{"location":"07-cheatsheet/#desarrollo","title":"\ud83d\udd27 Desarrollo","text":""},{"location":"07-cheatsheet/#revisar-errores","title":"Revisar Errores","text":"<pre><code>Revis\u00e1 errores en &lt;ARCHIVO&gt;\n</code></pre>"},{"location":"07-cheatsheet/#crear-componente","title":"Crear Componente","text":"<pre><code>Cre\u00e1 componente &lt;NOMBRE&gt; para &lt;FUNCIONALIDAD&gt; con &lt;PROPS&gt;\n</code></pre>"},{"location":"07-cheatsheet/#agregar-endpoint","title":"Agregar Endpoint","text":"<pre><code>Agreg\u00e1 endpoint GET /api/&lt;RECURSO&gt; con &lt;PAR\u00c1METROS&gt;\n</code></pre>"},{"location":"07-cheatsheet/#archivos-estructura","title":"\ud83d\udcc1 Archivos &amp; Estructura","text":""},{"location":"07-cheatsheet/#listar-archivos","title":"Listar Archivos","text":"<pre><code>Mostr\u00e1 archivos en &lt;CARPETA&gt;\n</code></pre>"},{"location":"07-cheatsheet/#buscar-en-codigo","title":"Buscar en C\u00f3digo","text":"<pre><code>Busc\u00e1 &lt;T\u00c9RMINO&gt; en el proyecto\n</code></pre>"},{"location":"07-cheatsheet/#leer-archivo","title":"Leer Archivo","text":"<pre><code>Mostr\u00e1 &lt;ARCHIVO&gt; l\u00edneas &lt;N&gt; a &lt;M&gt;\n</code></pre>"},{"location":"07-cheatsheet/#plantillas-rapidas","title":"\ud83c\udfaf Plantillas R\u00e1pidas","text":""},{"location":"07-cheatsheet/#historia-de-usuario","title":"Historia de Usuario","text":"<pre><code>Como [ROL]\nQuiero [ACCI\u00d3N]\nPara [BENEFICIO]\n\nCriterios de Aceptaci\u00f3n:\n1. [CRITERIO 1]\n2. [CRITERIO 2]\n3. [CRITERIO 3]\n</code></pre>"},{"location":"07-cheatsheet/#adr","title":"ADR","text":"<pre><code># ADR-XXX \u2013 [T\u00edtulo]\n\n**Estado:** Propuesta | Aceptada | Rechazada | Obsoleta\n**Fecha:** AAAA-MM-DD\n**Autor:** [Nombre]\n\n## Contexto\n[Situaci\u00f3n que motiva la decisi\u00f3n]\n\n## Decisi\u00f3n\n[Qu\u00e9 se decidi\u00f3 hacer]\n\n## Consecuencias\n**Positivas:**\n- [Pro 1]\n- [Pro 2]\n\n**Negativas:**\n- [Contra 1]\n- [Contra 2]\n\n## Alternativas Consideradas\n- [Alternativa 1]: [Por qu\u00e9 se descart\u00f3]\n- [Alternativa 2]: [Por qu\u00e9 se descart\u00f3]\n</code></pre>"},{"location":"07-cheatsheet/#minuta-de-sesion","title":"Minuta de Sesi\u00f3n","text":"<pre><code>### Sesi\u00f3n N \u2013 AAAA-MM-DD \u2013 [Tema]\n\n- **Objetivo:** [Qu\u00e9 se buscaba lograr]\n- **Decisiones (D-###):** [Lista de decisiones]\n- **Acuerdos (A-###):** [Lista de acuerdos]\n- **Temas abiertos (TO-###):** [Pendientes]\n- **Impacto en DF:** [Cambios funcionales]\n- **Impacto en Arquitectura:** [Cambios t\u00e9cnicos]\n- **Impacto en Backlog:** [Nuevas historias]\n- **Acciones:** [Qui\u00e9n hace qu\u00e9]\n- **Pr\u00f3ximos pasos:** [Qu\u00e9 sigue]\n</code></pre>"},{"location":"07-cheatsheet/#enlaces-rapidos","title":"\ud83d\udd17 Enlaces R\u00e1pidos","text":"<ul> <li>Contexto General</li> <li>Documento Funcional</li> <li>Libro de Sesiones</li> <li>Backlog</li> <li>Roadmap</li> <li>ADRs</li> </ul> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Pr\u00f3xima revisi\u00f3n: Agregar comandos seg\u00fan necesidad</p>"},{"location":"API_REFERENCE/","title":"\ud83d\udce1 API Reference - ECO Platform","text":"<p>Documentaci\u00f3n completa de endpoints del backend</p> <p>Base URL (Producci\u00f3n): <code>https://alacena-backend.fly.dev</code> Base URL (Desarrollo): <code>http://localhost:4000</code> \u00daltima actualizaci\u00f3n: 2026-01-25</p>"},{"location":"API_REFERENCE/#autenticacion","title":"\ud83d\udd10 Autenticaci\u00f3n","text":""},{"location":"API_REFERENCE/#post-apiauthlogin","title":"POST /api/auth/login","text":"<p>Autenticar usuario y obtener JWT token.</p> <p>Request: <pre><code>{\n  \"email\": \"admin@alacena.com\",\n  \"password\": \"admin123\"\n}\n</code></pre></p> <p>Response (200): <pre><code>{\n  \"user\": {\n    \"id\": 1,\n    \"email\": \"admin@alacena.com\",\n    \"name\": \"Admin User\"\n  },\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n}\n</code></pre></p> <p>Errores: - <code>401</code> - Credenciales inv\u00e1lidas - <code>400</code> - Email o password faltantes</p>"},{"location":"API_REFERENCE/#post-apiauthregister","title":"POST /api/auth/register","text":"<p>Registrar nuevo usuario.</p> <p>Request: <pre><code>{\n  \"email\": \"nuevo@ejemplo.com\",\n  \"password\": \"password123\",\n  \"name\": \"Nombre Usuario\"\n}\n</code></pre></p> <p>Response (201): <pre><code>{\n  \"user\": {\n    \"id\": 2,\n    \"email\": \"nuevo@ejemplo.com\",\n    \"name\": \"Nombre Usuario\"\n  },\n  \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\"\n}\n</code></pre></p> <p>Errores: - <code>409</code> - Email ya existe - <code>400</code> - Datos inv\u00e1lidos (email mal formado, password &lt; 6 caracteres)</p>"},{"location":"API_REFERENCE/#get-apiauthme","title":"GET /api/auth/me","text":"<p>Obtener informaci\u00f3n del usuario autenticado.</p> <p>Headers: <pre><code>Authorization: Bearer {token}\n</code></pre></p> <p>Response (200): <pre><code>{\n  \"id\": 1,\n  \"email\": \"admin@alacena.com\",\n  \"name\": \"Admin User\"\n}\n</code></pre></p> <p>Errores: - <code>401</code> - Token inv\u00e1lido o expirado - <code>401</code> - Token faltante</p>"},{"location":"API_REFERENCE/#modulo-alacena","title":"\ud83e\uddfa M\u00f3dulo Alacena","text":""},{"location":"API_REFERENCE/#items","title":"Items","text":""},{"location":"API_REFERENCE/#get-apialacenaitems","title":"GET /api/alacena/items","text":"<p>Listar items con paginaci\u00f3n.</p> <p>Query Params: - <code>skip</code> (number, default: 0) - Offset para paginaci\u00f3n - <code>take</code> (number, default: 100) - Cantidad de items por p\u00e1gina - <code>search</code> (string, optional) - Buscar por nombre o c\u00f3digo</p> <p>Example: <pre><code>GET /api/alacena/items?skip=0&amp;take=50\n</code></pre></p> <p>Response (200): <pre><code>{\n  \"data\": [\n    {\n      \"id\": 1,\n      \"code\": \"ARR-001\",\n      \"name\": \"Arroz Integral\",\n      \"unit\": \"kg\",\n      \"minStock\": 2,\n      \"maxStock\": 10,\n      \"currentStock\": 5.5,\n      \"createdAt\": \"2026-01-15T10:30:00.000Z\",\n      \"updatedAt\": \"2026-01-20T14:22:00.000Z\"\n    }\n  ],\n  \"pagination\": {\n    \"total\": 129,\n    \"limit\": 50,\n    \"offset\": 0,\n    \"hasNext\": true,\n    \"hasPrevious\": false\n  }\n}\n</code></pre></p>"},{"location":"API_REFERENCE/#get-apialacenaitemsid","title":"GET /api/alacena/items/:id","text":"<p>Obtener item espec\u00edfico por ID.</p> <p>Response (200): <pre><code>{\n  \"id\": 1,\n  \"code\": \"ARR-001\",\n  \"name\": \"Arroz Integral\",\n  \"unit\": \"kg\",\n  \"minStock\": 2,\n  \"maxStock\": 10,\n  \"currentStock\": 5.5,\n  \"batches\": [\n    {\n      \"id\": 10,\n      \"expiryDate\": \"2026-06-30\",\n      \"quantity\": 2.5\n    }\n  ],\n  \"reserves\": [\n    {\n      \"id\": 5,\n      \"quantity\": 1.0,\n      \"reason\": \"Comida del s\u00e1bado\"\n    }\n  ]\n}\n</code></pre></p> <p>Errores: - <code>404</code> - Item no encontrado</p>"},{"location":"API_REFERENCE/#post-apialacenaitems","title":"POST /api/alacena/items","text":"<p>Crear nuevo item.</p> <p>Headers: <pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre></p> <p>Request: <pre><code>{\n  \"code\": \"LEN-001\",\n  \"name\": \"Lentejas\",\n  \"unit\": \"kg\",\n  \"minStock\": 1,\n  \"maxStock\": 5\n}\n</code></pre></p> <p>Response (201): <pre><code>{\n  \"id\": 130,\n  \"code\": \"LEN-001\",\n  \"name\": \"Lentejas\",\n  \"unit\": \"kg\",\n  \"minStock\": 1,\n  \"maxStock\": 5,\n  \"currentStock\": 0,\n  \"createdAt\": \"2026-01-25T12:00:00.000Z\",\n  \"updatedAt\": \"2026-01-25T12:00:00.000Z\"\n}\n</code></pre></p> <p>Errores: - <code>401</code> - No autenticado - <code>409</code> - C\u00f3digo ya existe - <code>400</code> - Datos inv\u00e1lidos (validaci\u00f3n Zod)</p>"},{"location":"API_REFERENCE/#put-apialacenaitemsid","title":"PUT /api/alacena/items/:id","text":"<p>Actualizar item existente.</p> <p>Headers: <pre><code>Authorization: Bearer {token}\nContent-Type: application/json\n</code></pre></p> <p>Request: <pre><code>{\n  \"name\": \"Lentejas Rojas\",\n  \"minStock\": 2,\n  \"maxStock\": 8\n}\n</code></pre></p> <p>Response (200): <pre><code>{\n  \"id\": 130,\n  \"code\": \"LEN-001\",\n  \"name\": \"Lentejas Rojas\",\n  \"unit\": \"kg\",\n  \"minStock\": 2,\n  \"maxStock\": 8,\n  \"currentStock\": 0,\n  \"updatedAt\": \"2026-01-25T12:05:00.000Z\"\n}\n</code></pre></p> <p>Errores: - <code>401</code> - No autenticado - <code>404</code> - Item no encontrado - <code>400</code> - Datos inv\u00e1lidos</p>"},{"location":"API_REFERENCE/#delete-apialacenaitemsid","title":"DELETE /api/alacena/items/:id","text":"<p>Eliminar item (soft delete).</p> <p>Headers: <pre><code>Authorization: Bearer {token}\n</code></pre></p> <p>Response (200): <pre><code>{\n  \"message\": \"Item eliminado\",\n  \"id\": 130\n}\n</code></pre></p> <p>Errores: - <code>401</code> - No autenticado - <code>404</code> - Item no encontrado - <code>409</code> - No se puede eliminar (tiene batches/reservas activas)</p>"},{"location":"API_REFERENCE/#locations-ubicaciones","title":"Locations (Ubicaciones)","text":""},{"location":"API_REFERENCE/#get-apialacenalocations","title":"GET /api/alacena/locations","text":"<p>Listar ubicaciones con paginaci\u00f3n.</p> <p>Query Params: - <code>skip</code> (number, default: 0) - <code>take</code> (number, default: 50)</p> <p>Response (200): <pre><code>{\n  \"data\": [\n    {\n      \"id\": 1,\n      \"code\": \"JAR-001\",\n      \"name\": \"Frasco Grande 1\",\n      \"type\": \"JAR\",\n      \"capacity\": 2.0,\n      \"currentCapacity\": 1.5,\n      \"shelfCode\": \"EST-A-1\",\n      \"qrCode\": \"https://api.qrserver.com/v1/create-qr-code/?data=JAR-001&amp;size=200x200\"\n    }\n  ],\n  \"pagination\": {\n    \"total\": 45,\n    \"limit\": 50,\n    \"offset\": 0\n  }\n}\n</code></pre></p>"},{"location":"API_REFERENCE/#post-apialacenalocations","title":"POST /api/alacena/locations","text":"<p>Crear nueva ubicaci\u00f3n.</p> <p>Request: <pre><code>{\n  \"code\": \"JAR-015\",\n  \"name\": \"Frasco Mediano 5\",\n  \"type\": \"JAR\",\n  \"capacity\": 1.5,\n  \"shelfCode\": \"EST-B-2\"\n}\n</code></pre></p> <p>Response (201): <pre><code>{\n  \"id\": 46,\n  \"code\": \"JAR-015\",\n  \"name\": \"Frasco Mediano 5\",\n  \"type\": \"JAR\",\n  \"capacity\": 1.5,\n  \"currentCapacity\": 0,\n  \"shelfCode\": \"EST-B-2\",\n  \"qrCode\": \"https://api.qrserver.com/v1/create-qr-code/?data=JAR-015&amp;size=200x200\"\n}\n</code></pre></p>"},{"location":"API_REFERENCE/#batches-lotes","title":"Batches (Lotes)","text":""},{"location":"API_REFERENCE/#post-apialacenabatches","title":"POST /api/alacena/batches","text":"<p>Crear nuevo lote (entrada de stock).</p> <p>Request: <pre><code>{\n  \"itemId\": 1,\n  \"locationId\": 5,\n  \"quantity\": 2.5,\n  \"expiryDate\": \"2026-12-31\",\n  \"grossWeight\": 2.7,\n  \"tare\": 0.2\n}\n</code></pre></p> <p>Response (201): <pre><code>{\n  \"id\": 150,\n  \"itemId\": 1,\n  \"locationId\": 5,\n  \"quantity\": 2.5,\n  \"netWeight\": 2.5,\n  \"grossWeight\": 2.7,\n  \"tare\": 0.2,\n  \"expiryDate\": \"2026-12-31T00:00:00.000Z\",\n  \"createdAt\": \"2026-01-25T12:30:00.000Z\"\n}\n</code></pre></p>"},{"location":"API_REFERENCE/#reserves-reservas","title":"Reserves (Reservas)","text":""},{"location":"API_REFERENCE/#get-apialacenareserves","title":"GET /api/alacena/reserves","text":"<p>Listar reservas activas.</p> <p>Response (200): <pre><code>{\n  \"data\": [\n    {\n      \"id\": 1,\n      \"itemId\": 3,\n      \"item\": {\n        \"code\": \"ARR-001\",\n        \"name\": \"Arroz Integral\"\n      },\n      \"quantity\": 1.5,\n      \"reason\": \"Paella del viernes\",\n      \"status\": \"ACTIVE\",\n      \"createdAt\": \"2026-01-24T10:00:00.000Z\"\n    }\n  ],\n  \"pagination\": {\n    \"total\": 12,\n    \"limit\": 50,\n    \"offset\": 0\n  }\n}\n</code></pre></p>"},{"location":"API_REFERENCE/#post-apialacenareserves","title":"POST /api/alacena/reserves","text":"<p>Crear reserva de ingrediente.</p> <p>Request: <pre><code>{\n  \"itemId\": 3,\n  \"quantity\": 1.5,\n  \"reason\": \"Paella del viernes\"\n}\n</code></pre></p> <p>Response (201): <pre><code>{\n  \"id\": 13,\n  \"itemId\": 3,\n  \"quantity\": 1.5,\n  \"reason\": \"Paella del viernes\",\n  \"status\": \"ACTIVE\",\n  \"createdAt\": \"2026-01-25T13:00:00.000Z\"\n}\n</code></pre></p> <p>Errores: - <code>400</code> - Stock insuficiente - <code>404</code> - Item no encontrado</p>"},{"location":"API_REFERENCE/#put-apialacenareservesidcomplete","title":"PUT /api/alacena/reserves/:id/complete","text":"<p>Completar reserva (descontar del stock).</p> <p>Response (200): <pre><code>{\n  \"id\": 13,\n  \"status\": \"COMPLETED\",\n  \"completedAt\": \"2026-01-25T18:00:00.000Z\"\n}\n</code></pre></p>"},{"location":"API_REFERENCE/#delete-apialacenareservesid","title":"DELETE /api/alacena/reserves/:id","text":"<p>Cancelar reserva.</p> <p>Response (200): <pre><code>{\n  \"id\": 13,\n  \"status\": \"CANCELLED\"\n}\n</code></pre></p>"},{"location":"API_REFERENCE/#menu","title":"Menu","text":""},{"location":"API_REFERENCE/#get-apialacenamenu","title":"GET /api/alacena/menu","text":"<p>Listar items del men\u00fa.</p> <p>Query Params: - <code>skip</code> (number, default: 0) - <code>take</code> (number, default: 50) - <code>category</code> (string, optional) - Filtrar por categor\u00eda</p> <p>Response (200): <pre><code>{\n  \"data\": [\n    {\n      \"id\": 1,\n      \"name\": \"Ensalada de Quinoa\",\n      \"category\": \"VIANDA\",\n      \"description\": \"Quinoa con verduras frescas\",\n      \"ingredients\": [\n        {\n          \"itemId\": 5,\n          \"item\": { \"code\": \"QUI-001\", \"name\": \"Quinoa\" },\n          \"quantity\": 0.3\n        }\n      ]\n    }\n  ],\n  \"pagination\": {\n    \"total\": 25,\n    \"limit\": 50,\n    \"offset\": 0\n  }\n}\n</code></pre></p>"},{"location":"API_REFERENCE/#shared-endpoints","title":"\ud83d\udd27 Shared Endpoints","text":""},{"location":"API_REFERENCE/#get-apisharedqrcode","title":"GET /api/shared/qr/:code","text":"<p>Generar c\u00f3digo QR para ubicaci\u00f3n.</p> <p>Example: <pre><code>GET /api/shared/qr/JAR-001\n</code></pre></p> <p>Response (200): <pre><code>{\n  \"code\": \"JAR-001\",\n  \"qrUrl\": \"https://api.qrserver.com/v1/create-qr-code/?data=JAR-001&amp;size=200x200\"\n}\n</code></pre></p>"},{"location":"API_REFERENCE/#get-health","title":"GET /health","text":"<p>Health check del servidor.</p> <p>Response (200): <pre><code>{\n  \"status\": \"ok\",\n  \"timestamp\": \"2026-01-25T14:00:00.000Z\",\n  \"uptime\": 123456\n}\n</code></pre></p>"},{"location":"API_REFERENCE/#convenciones-generales","title":"\ud83d\udcca Convenciones Generales","text":""},{"location":"API_REFERENCE/#paginacion","title":"Paginaci\u00f3n","text":"<p>Todos los endpoints de listado soportan: - <code>skip</code> - Offset (default: 0) - <code>take</code> - Limit (default var\u00eda por recurso)</p> <p>Respuesta: <pre><code>{\n  \"data\": [...],\n  \"pagination\": {\n    \"total\": number,\n    \"limit\": number,\n    \"offset\": number,\n    \"hasNext\": boolean,\n    \"hasPrevious\": boolean\n  }\n}\n</code></pre></p>"},{"location":"API_REFERENCE/#autenticacion_1","title":"Autenticaci\u00f3n","text":"<p>Endpoints protegidos requieren: <pre><code>Authorization: Bearer {JWT_TOKEN}\n</code></pre></p>"},{"location":"API_REFERENCE/#codigos-de-estado","title":"C\u00f3digos de Estado","text":"<ul> <li><code>200</code> - OK</li> <li><code>201</code> - Creado</li> <li><code>400</code> - Bad Request (datos inv\u00e1lidos)</li> <li><code>401</code> - No autenticado</li> <li><code>403</code> - No autorizado</li> <li><code>404</code> - No encontrado</li> <li><code>409</code> - Conflicto (duplicado)</li> <li><code>500</code> - Error del servidor</li> </ul>"},{"location":"API_REFERENCE/#formato-de-errores","title":"Formato de Errores","text":"<pre><code>{\n  \"error\": \"Mensaje descriptivo del error\",\n  \"code\": \"ERROR_CODE\",\n  \"details\": { ... }\n}\n</code></pre>"},{"location":"API_REFERENCE/#testing-con-curl","title":"\ud83e\uddea Testing con cURL","text":""},{"location":"API_REFERENCE/#login","title":"Login","text":"<pre><code>curl -X POST http://localhost:4000/api/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\":\"admin@alacena.com\",\"password\":\"admin123\"}'\n</code></pre>"},{"location":"API_REFERENCE/#listar-items","title":"Listar Items","text":"<pre><code>curl http://localhost:4000/api/alacena/items?take=10 \\\n  -H \"Authorization: Bearer YOUR_TOKEN\"\n</code></pre>"},{"location":"API_REFERENCE/#crear-item","title":"Crear Item","text":"<pre><code>curl -X POST http://localhost:4000/api/alacena/items \\\n  -H \"Authorization: Bearer YOUR_TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"code\":\"TEST-001\",\"name\":\"Item de Prueba\",\"unit\":\"kg\",\"minStock\":1,\"maxStock\":5}'\n</code></pre>"},{"location":"API_REFERENCE/#proximas-apis-mantia","title":"\ud83d\udcdd Pr\u00f3ximas APIs (Mantia)","text":""},{"location":"API_REFERENCE/#post-apimantiaaccounts","title":"POST /api/mantia/accounts","text":"<p>Crear cuenta financiera.</p>"},{"location":"API_REFERENCE/#get-apimantiatransactions","title":"GET /api/mantia/transactions","text":"<p>Listar transacciones con filtros.</p>"},{"location":"API_REFERENCE/#post-apimantiabudgets","title":"POST /api/mantia/budgets","text":"<p>Crear presupuesto mensual.</p> <p>Documentaci\u00f3n completa cuando Mantia est\u00e9 implementado.</p> <p>API Reference creada: 2026-01-25</p>"},{"location":"BACKLOG/","title":"\ud83d\udccc Backlog ECO Platform","text":"<p>Lista maestra de tareas pendientes, ordenadas por prioridad</p> <p>\u00daltima actualizaci\u00f3n: 2026-01-25</p>"},{"location":"BACKLOG/#must-have-criticas","title":"\ud83d\udd25 Must Have (Cr\u00edticas)","text":""},{"location":"BACKLOG/#must-001-modulo-mantia-modelo-de-datos","title":"[MUST-001] M\u00f3dulo Mantia - Modelo de Datos","text":"<ul> <li>Estado: \u2705 Done</li> <li>M\u00f3dulo: Mantia</li> <li>Estimaci\u00f3n: M (3-4 horas)</li> <li>Sprint: 2026-01-W04</li> <li>Descripci\u00f3n: Definir schema Prisma para Mantia_Account, Mantia_Transaction, Mantia_Budget, Mantia_Category</li> <li>Dependencias: Ninguna</li> <li>Completado: 2026-01-25</li> <li>Asignado: Copilot</li> </ul>"},{"location":"BACKLOG/#must-002-modulo-mantia-backend-crud","title":"[MUST-002] M\u00f3dulo Mantia - Backend CRUD","text":"<ul> <li>Estado: \u2705 Done</li> <li>M\u00f3dulo: Mantia</li> <li>Estimaci\u00f3n: L (6-8 horas)</li> <li>Sprint: 2026-01-W04</li> <li>Descripci\u00f3n: Implementar controllers, routes, schemas en backend/src/controllers/ y routes/</li> <li>Dependencias: MUST-001</li> <li>Completado: 2026-01-25</li> <li>Asignado: Copilot</li> </ul>"},{"location":"BACKLOG/#must-003-modulo-mantia-frontend-app","title":"[MUST-003] M\u00f3dulo Mantia - Frontend App","text":"<ul> <li>Estado: \u2705 Done</li> <li>M\u00f3dulo: Mantia</li> <li>Estimaci\u00f3n: L (6-8 horas)</li> <li>Sprint: 2026-01-W04</li> <li>Descripci\u00f3n: Crear mantia-app/ con tema azul, dashboard con cuentas/transacciones/presupuestos</li> <li>Dependencias: MUST-002</li> <li>Completado: 2026-01-25</li> <li>Asignado: Copilot</li> </ul>"},{"location":"BACKLOG/#should-have-alta-prioridad","title":"\ud83c\udfaf Should Have (Alta Prioridad)","text":""},{"location":"BACKLOG/#should-001-documentacion-de-arquitectura","title":"[SHOULD-001] Documentaci\u00f3n de Arquitectura","text":"<ul> <li>Estado: \u2705 Done</li> <li>M\u00f3dulo: Docs</li> <li>Estimaci\u00f3n: M (3-4 horas)</li> <li>Sprint: 2026-01-W04</li> <li>Descripci\u00f3n: Crear docs/architecture/ con OVERVIEW.md, DATABASE.md, FRONTEND.md, BACKEND.md</li> <li>Dependencias: Ninguna</li> <li>Completado: 2026-01-25</li> <li>Asignado: Copilot</li> </ul>"},{"location":"BACKLOG/#should-002-api-reference-completa","title":"[SHOULD-002] API Reference Completa","text":"<ul> <li>Estado: \u2705 Done</li> <li>M\u00f3dulo: Docs</li> <li>Estimaci\u00f3n: M (3-4 horas)</li> <li>Sprint: 2026-01-W04</li> <li>Descripci\u00f3n: Documentar todos los endpoints de Alacena + Shared en docs/API_REFERENCE.md</li> <li>Dependencias: Ninguna</li> <li>Completado: 2026-01-25</li> <li>Asignado: Copilot</li> </ul>"},{"location":"BACKLOG/#should-003-onboarding-guide","title":"[SHOULD-003] Onboarding Guide","text":"<ul> <li>Estado: \u2705 Done</li> <li>M\u00f3dulo: Docs</li> <li>Estimaci\u00f3n: S (2-3 horas)</li> <li>Sprint: 2026-01-W04</li> <li>Descripci\u00f3n: Crear docs/ONBOARDING.md con gu\u00eda paso a paso para nuevos devs</li> <li>Dependencias: SHOULD-001, SHOULD-002</li> <li>Completado: 2026-01-25</li> <li>Asignado: Copilot</li> </ul>"},{"location":"BACKLOG/#should-004-deployment-inventory","title":"[SHOULD-004] Deployment Inventory","text":"<ul> <li>Estado: \u2705 Done</li> <li>M\u00f3dulo: Docs</li> <li>Estimaci\u00f3n: S (1-2 horas)</li> <li>Sprint: 2026-01-W04</li> <li>Descripci\u00f3n: Documentar d\u00f3nde est\u00e1 cada servicio (Vercel, Fly.io, DB) con URLs y credenciales</li> <li>Dependencias: Ninguna</li> <li>Completado: 2026-01-25</li> <li>Asignado: Copilot</li> </ul>"},{"location":"BACKLOG/#should-006-documento-fundacional-eco","title":"[SHOULD-006] Documento Fundacional ECO","text":"<ul> <li>Estado: \u2705 Done</li> <li>M\u00f3dulo: Docs</li> <li>Estimaci\u00f3n: L (6-8 horas)</li> <li>Sprint: 2026-01-W04</li> <li>Descripci\u00f3n: Crear ECO_FUNDACIONAL.md con visi\u00f3n, misi\u00f3n, roadmap, arquitectura, casos de uso</li> <li>Dependencias: SHOULD-001</li> <li>Completado: 2026-01-25</li> <li>Asignado: Copilot</li> </ul>"},{"location":"BACKLOG/#should-007-documentacion-tecnica-arquitectura","title":"[SHOULD-007] Documentaci\u00f3n T\u00e9cnica Arquitectura","text":"<ul> <li>Estado: \u2705 Done</li> <li>M\u00f3dulo: Docs</li> <li>Estimaci\u00f3n: XL (10-12 horas)</li> <li>Sprint: 2026-01-W04</li> <li>Descripci\u00f3n: Crear DATABASE.md, FRONTEND.md, BACKEND.md con detalles t\u00e9cnicos completos</li> <li>Dependencias: SHOULD-001</li> <li>Completado: 2026-01-25</li> <li>Asignado: Copilot</li> </ul>"},{"location":"BACKLOG/#should-005-tests-unitarios-shared-hooks","title":"[SHOULD-005] Tests Unitarios - Shared Hooks","text":"<ul> <li>Estado: \ud83c\udd95 New</li> <li>M\u00f3dulo: Frontend / Shared</li> <li>Estimaci\u00f3n: M (3-4 horas)</li> <li>Sprint: 2026-02-W01</li> <li>Descripci\u00f3n: Tests para usePagination, useAuth con Jest + React Testing Library</li> <li>Dependencias: Ninguna</li> <li>Asignado: -</li> </ul>"},{"location":"BACKLOG/#could-have-media-prioridad","title":"\ud83d\udca1 Could Have (Media Prioridad)","text":""},{"location":"BACKLOG/#could-001-dark-mode","title":"[COULD-001] Dark Mode","text":"<ul> <li>Estado: \ud83c\udd95 New</li> <li>M\u00f3dulo: Frontend / Shared</li> <li>Estimaci\u00f3n: M (3-4 horas)</li> <li>Sprint: 2026-02-W01</li> <li>Descripci\u00f3n: Implementar tema oscuro en theme.base.ts con toggle en DashboardLayout</li> <li>Dependencias: Ninguna</li> <li>Asignado: -</li> </ul>"},{"location":"BACKLOG/#could-002-logs-estructurados-backend","title":"[COULD-002] Logs Estructurados Backend","text":"<ul> <li>Estado: \ud83c\udd95 New</li> <li>M\u00f3dulo: Backend / Shared</li> <li>Estimaci\u00f3n: S (2-3 horas)</li> <li>Sprint: 2026-02-W01</li> <li>Descripci\u00f3n: Implementar Winston o Pino para logging estructurado (JSON) con niveles</li> <li>Dependencias: Ninguna</li> <li>Asignado: -</li> </ul>"},{"location":"BACKLOG/#could-003-monitoreo-de-errores","title":"[COULD-003] Monitoreo de Errores","text":"<ul> <li>Estado: \ud83c\udd95 New</li> <li>M\u00f3dulo: Backend / Frontend</li> <li>Estimaci\u00f3n: M (3-4 horas)</li> <li>Sprint: 2026-02-W02</li> <li>Descripci\u00f3n: Integrar Sentry o similar para tracking de errores en producci\u00f3n</li> <li>Dependencias: Ninguna</li> <li>Asignado: -</li> </ul>"},{"location":"BACKLOG/#could-004-busqueda-global-en-items","title":"[COULD-004] B\u00fasqueda Global en Items","text":"<ul> <li>Estado: \ud83c\udd95 New</li> <li>M\u00f3dulo: Alacena</li> <li>Estimaci\u00f3n: S (2-3 horas)</li> <li>Sprint: 2026-02-W02</li> <li>Descripci\u00f3n: Input de b\u00fasqueda por nombre/c\u00f3digo en p\u00e1gina de items</li> <li>Dependencias: Ninguna</li> <li>Asignado: -</li> </ul>"},{"location":"BACKLOG/#could-005-export-a-csvexcel","title":"[COULD-005] Export a CSV/Excel","text":"<ul> <li>Estado: \ud83c\udd95 New</li> <li>M\u00f3dulo: Alacena</li> <li>Estimaci\u00f3n: S (2-3 horas)</li> <li>Sprint: 2026-02-W02</li> <li>Descripci\u00f3n: Bot\u00f3n para exportar items/ubicaciones/men\u00fa a CSV</li> <li>Dependencias: Ninguna</li> <li>Asignado: -</li> </ul>"},{"location":"BACKLOG/#wont-have-now-pospuestos","title":"\u2744\ufe0f Won't Have (Now) - Pospuestos","text":""},{"location":"BACKLOG/#wont-001-modulo-salud","title":"[WONT-001] M\u00f3dulo Salud","text":"<ul> <li>Estado: \u2744\ufe0f Frozen</li> <li>M\u00f3dulo: Salud</li> <li>Estimaci\u00f3n: XL (12+ horas)</li> <li>Sprint: TBD</li> <li>Descripci\u00f3n: M\u00f3dulo completo para tracking de salud y bienestar</li> <li>Raz\u00f3n: Prioridad en Mantia primero</li> <li>Asignado: -</li> </ul>"},{"location":"BACKLOG/#wont-002-modulo-financia","title":"[WONT-002] M\u00f3dulo Financia","text":"<ul> <li>Estado: \u2744\ufe0f Frozen</li> <li>M\u00f3dulo: Financia</li> <li>Estimaci\u00f3n: XL (12+ horas)</li> <li>Sprint: TBD</li> <li>Descripci\u00f3n: M\u00f3dulo para gesti\u00f3n financiera personal</li> <li>Raz\u00f3n: Overlap con Mantia, revisar alcance</li> <li>Asignado: -</li> </ul>"},{"location":"BACKLOG/#wont-003-modulo-huesha","title":"[WONT-003] M\u00f3dulo Huesha","text":"<ul> <li>Estado: \u2744\ufe0f Frozen</li> <li>M\u00f3dulo: Huesha</li> <li>Estimaci\u00f3n: XL (12+ horas)</li> <li>Sprint: TBD</li> <li>Descripci\u00f3n: M\u00f3dulo para [descripci\u00f3n pendiente]</li> <li>Raz\u00f3n: Alcance no definido a\u00fan</li> <li>Asignado: -</li> </ul>"},{"location":"BACKLOG/#bugs-conocidos","title":"\ud83d\udc1b Bugs Conocidos","text":""},{"location":"BACKLOG/#bug-001-env-vars-no-leidas-en-dev","title":"[BUG-001] Env Vars No Le\u00eddas en Dev","text":"<ul> <li>Estado: \u2705 Done</li> <li>M\u00f3dulo: Frontend / Next.js</li> <li>Prioridad: Must Have</li> <li>Resuelto: 2026-01-24</li> <li>Soluci\u00f3n: Cleared .next cache + hardcoded URLs removed</li> <li>Commit: [referencia]</li> </ul>"},{"location":"BACKLOG/#notas","title":"\ud83d\udcdd Notas","text":""},{"location":"BACKLOG/#como-agregar-tarea","title":"C\u00f3mo Agregar Tarea","text":"<pre><code>### [TIPO-NNN] T\u00edtulo Corto\n- **Estado:** \ud83c\udd95 New\n- **M\u00f3dulo:** Nombre\n- **Estimaci\u00f3n:** XS/S/M/L/XL\n- **Sprint:** YYYY-MM-WNN o TBD\n- **Descripci\u00f3n:** Qu\u00e9 hay que hacer\n- **Dependencias:** Otras tareas o \"Ninguna\"\n- **Asignado:** Nombre o \"-\"\n</code></pre>"},{"location":"BACKLOG/#estados","title":"Estados","text":"<ul> <li>\ud83c\udd95 New</li> <li>\ud83d\udd0d Analyzed</li> <li>\ud83c\udfc3 In Progress</li> <li>\u2705 Done</li> <li>\ud83d\udeab Blocked</li> <li>\u2744\ufe0f Frozen</li> </ul>"},{"location":"BACKLOG/#estimaciones","title":"Estimaciones","text":"<ul> <li>XS: &lt; 1 hora</li> <li>S: 1-2 horas</li> <li>M: 3-4 horas</li> <li>L: 6-8 horas</li> <li>XL: 12+ horas (dividir en tareas m\u00e1s chicas)</li> </ul> <p>Backlog creado: 2026-01-25</p>"},{"location":"CHANGELOG/","title":"\ud83d\udcdc Changelog ECO Platform","text":"<p>Todos los cambios notables del proyecto ser\u00e1n documentados aqu\u00ed.</p> <p>Formato basado en Keep a Changelog, versionado seg\u00fan Semantic Versioning.</p>"},{"location":"CHANGELOG/#unreleased","title":"[Unreleased]","text":""},{"location":"CHANGELOG/#en-desarrollo","title":"En Desarrollo","text":"<ul> <li>Mantia: Gr\u00e1ficos y visualizaciones</li> <li>Mantia: Transacciones recurrentes</li> <li>Mantia: Exportaci\u00f3n de datos</li> <li>Alacena: B\u00fasqueda y filtros avanzados</li> </ul>"},{"location":"CHANGELOG/#040-2026-01-25","title":"[0.4.0] - 2026-01-25","text":""},{"location":"CHANGELOG/#agregado","title":"Agregado","text":"<ul> <li>\ud83c\udf89 M\u00f3dulo Mantia - Gesti\u00f3n Financiera: Nuevo m\u00f3dulo completo</li> <li>Backend Mantia:</li> <li>4 Modelos: <code>Mantia_Account</code>, <code>Mantia_Transaction</code>, <code>Mantia_Category</code>, <code>Mantia_Budget</code></li> <li>4 Controllers con l\u00f3gica de negocio completa</li> <li>4 Schemas Zod para validaci\u00f3n</li> <li>Routes con autenticaci\u00f3n JWT</li> <li>Actualizaci\u00f3n autom\u00e1tica de balances en transacciones DB</li> <li>Frontend Mantia (<code>mantia-app</code>):</li> <li>Aplicaci\u00f3n Next.js 15 independiente (puerto 3001)</li> <li>Tema azul/financiero</li> <li>Dashboard con 4 m\u00f3dulos (cuentas, transacciones, categor\u00edas, presupuestos)</li> <li>Formularios de creaci\u00f3n</li> <li>Visualizaci\u00f3n de stats y balances</li> <li>Indicadores de presupuesto con alertas</li> <li>Base de Datos:</li> <li>Migraci\u00f3n <code>20260125050245_add_mantia_models</code></li> <li>3 Enums: <code>AccountType</code>, <code>TransactionType</code>, <code>BudgetPeriod</code></li> <li>Relaciones: Account \u2194 Transaction, Category \u2194 Transaction/Budget</li> <li>\u00cdndices para performance</li> <li>Seeding: Script <code>seed-mantia.js</code> con datos de ejemplo</li> <li>4 cuentas (efectivo, banco, tarjeta, digital)</li> <li>6 categor\u00edas (alimentaci\u00f3n, servicios, transporte, salud, entretenimiento, ingresos)</li> <li>4 transacciones de ejemplo</li> <li>2 presupuestos</li> <li>Documentaci\u00f3n: README completo de Mantia con API, uso y troubleshooting</li> </ul>"},{"location":"CHANGELOG/#modificado","title":"Modificado","text":"<ul> <li><code>backend/src/app.js</code>: Agregada ruta <code>/api/mantia</code></li> <li>Health check ahora reporta <code>modules: ['alacena', 'mantia']</code></li> <li>Tipos TypeScript regenerados con modelos Mantia</li> </ul>"},{"location":"CHANGELOG/#tecnico","title":"T\u00e9cnico","text":"<ul> <li>Decimal precision (12,2) para cantidades monetarias</li> <li>Soporte multi-moneda (ARS, USD, EUR)</li> <li>Transacciones DB para atomicidad en balances</li> <li>Validaci\u00f3n de reglas de negocio (transfers, account types)</li> </ul>"},{"location":"CHANGELOG/#030-2026-01-24","title":"[0.3.0] - 2026-01-24","text":""},{"location":"CHANGELOG/#agregado_1","title":"Agregado","text":"<ul> <li>Migraci\u00f3n ECO Platform: De Alacena individual a plataforma modular</li> <li>Estructura Backend Modular: <code>backend/src/modules/alacena/</code> y <code>backend/src/shared/</code></li> <li>Frontend Shared Code: <code>frontend/shared/</code> con componentes, hooks, lib, types</li> <li>Theme System: Base theme + per-app override (Alacena verde/natural)</li> <li>Auth Sharing: <code>createAuthConfig()</code> y <code>useAuth</code> hook compartidos</li> <li>DashboardLayout Compartido: Layout reutilizable con theming</li> <li>Paginaci\u00f3n: <code>usePagination</code> hook + <code>PaginationControls</code> component</li> <li>Type Generation: Script autom\u00e1tico desde Prisma a frontend (<code>npm run generate:types</code>)</li> <li>npm Workspaces: Configuraci\u00f3n para <code>@eco/shared</code> package</li> <li>Zod Validations Shared: Schemas compartidos backend \u2194 frontend</li> <li>Paginaci\u00f3n en Items (100/p\u00e1gina), Locations (50/p\u00e1gina), Menu (50/p\u00e1gina)</li> </ul>"},{"location":"CHANGELOG/#modificado_1","title":"Modificado","text":"<ul> <li>Frontend: 10 archivos ahora usan <code>process.env.NEXT_PUBLIC_API_URL</code></li> <li>Backend: 18 archivos migrados a estructura modular</li> <li><code>frontend/alacena-app/auth.ts</code> usa <code>createAuthConfig</code> de shared</li> <li><code>frontend/alacena-app/app/dashboard/layout.tsx</code> usa <code>SharedDashboardLayout</code> + <code>ThemeProvider</code></li> <li><code>frontend/alacena-app/app/dashboard/items/page.tsx</code> usa hooks y componentes compartidos</li> </ul>"},{"location":"CHANGELOG/#corregido","title":"Corregido","text":"<ul> <li>\u2705 [BUG-001] Paginaci\u00f3n no mostraba item #129 \"prueba\"</li> <li>\u2705 [BUG-002] Variables de entorno .env.local no le\u00eddas (Next.js cache)</li> <li>\u2705 [BUG-003] URLs hardcodeadas en 10 archivos (riesgo producci\u00f3n)</li> </ul>"},{"location":"CHANGELOG/#tecnico_1","title":"T\u00e9cnico","text":"<ul> <li>Prisma 5.22.0</li> <li>Next.js 15.5.9</li> <li>React 18</li> <li>Node.js 20</li> <li>PostgreSQL con tablas prefijadas por m\u00f3dulo</li> </ul>"},{"location":"CHANGELOG/#020-2026-01-24-tarde","title":"[0.2.0] - 2026-01-24 (Tarde)","text":""},{"location":"CHANGELOG/#agregado_2","title":"Agregado","text":"<ul> <li>Sistema de Taras: C\u00e1lculo autom\u00e1tico de peso neto</li> <li>Control Secuencial de Stock: Modal para ingreso masivo</li> <li>C\u00f3digos QR: Generaci\u00f3n autom\u00e1tica para ubicaciones</li> <li>Campos <code>tara</code> en contenedores y lotes</li> <li>Validaci\u00f3n de peso bruto vs tara</li> </ul>"},{"location":"CHANGELOG/#modificado_2","title":"Modificado","text":"<ul> <li>Schema Prisma con campos de tara</li> <li>Dashboard con flujos optimizados de entrada</li> </ul>"},{"location":"CHANGELOG/#010-2026-01-17","title":"[0.1.0] - 2026-01-17","text":""},{"location":"CHANGELOG/#agregado_3","title":"Agregado","text":"<ul> <li>Dashboard Completo: 4 p\u00e1ginas CRUD (Items, Ubicaciones, Reservas, Men\u00fa)</li> <li>Autenticaci\u00f3n JWT: Login/Register con backend</li> <li>Validaciones Zod: En formularios y backend</li> <li>Middleware de autenticaci\u00f3n Next.js</li> <li>Protecci\u00f3n de rutas <code>/dashboard/*</code></li> </ul>"},{"location":"CHANGELOG/#modificado_3","title":"Modificado","text":"<ul> <li>Frontend migrado a Next.js App Router</li> <li>Backend con Express + Prisma</li> </ul>"},{"location":"CHANGELOG/#001-2026-01-16","title":"[0.0.1] - 2026-01-16","text":""},{"location":"CHANGELOG/#agregado_4","title":"Agregado","text":"<ul> <li>Deploy Inicial: Frontend (Vercel) + Backend (Fly.io)</li> <li>PostgreSQL: Base de datos en la nube</li> <li>Alacena MVP: Gesti\u00f3n b\u00e1sica de alacena/despensa</li> <li>Modelos: User, Item, Location, Container, Batch, Reserve, MenuItem</li> <li>API REST b\u00e1sica</li> <li>Autenticaci\u00f3n simple</li> </ul>"},{"location":"CHANGELOG/#tecnico_2","title":"T\u00e9cnico","text":"<ul> <li>Primera versi\u00f3n desplegada accesible desde internet</li> <li>URLs: </li> <li>Frontend: https://alacena-frontend.vercel.app</li> <li>Backend: https://alacena-backend.fly.dev</li> </ul>"},{"location":"CHANGELOG/#tipos-de-cambios","title":"Tipos de Cambios","text":"<ul> <li>Agregado: para funcionalidades nuevas</li> <li>Modificado: para cambios en funcionalidades existentes</li> <li>Deprecado: para funcionalidades que se eliminar\u00e1n pronto</li> <li>Eliminado: para funcionalidades eliminadas</li> <li>Corregido: para correcci\u00f3n de bugs</li> <li>Seguridad: en caso de vulnerabilidades</li> <li>T\u00e9cnico: detalles de implementaci\u00f3n, dependencias, etc.</li> </ul> <p>Changelog iniciado: 2026-01-25</p>"},{"location":"COPILOT-INSTRUCCIONES/","title":"\ud83e\udd16 INSTRUCCIONES PARA TRABAJAR CON GITHUB COPILOT \u2014 ALACENA","text":"<p>\u00daltima actualizaci\u00f3n: 2026-01-12 Proyecto: ALACENA (Sistema gastron\u00f3mico integral) P\u00fablico: Fran + GitHub Copilot</p>"},{"location":"COPILOT-INSTRUCCIONES/#indice","title":"\ud83d\udccb \u00cdNDICE","text":"<ol> <li>Reglas de Comunicaci\u00f3n</li> <li>Ejecuci\u00f3n de Comandos</li> <li>Commits y Versionado</li> <li>C\u00f3digo y Desarrollo</li> <li>Documentaci\u00f3n y Diagramas</li> <li>Decisiones y Preguntas</li> <li>Testing y Verificaci\u00f3n</li> <li>C\u00f3mo Usar Este Documento</li> </ol>"},{"location":"COPILOT-INSTRUCCIONES/#1-reglas-de-comunicacion","title":"1\ufe0f\u20e3 REGLAS DE COMUNICACI\u00d3N","text":""},{"location":"COPILOT-INSTRUCCIONES/#estructura-de-respuestas","title":"Estructura de respuestas","text":"<ul> <li>\u2705 Un paso \u00fanico por mensaje (a menos que sean independientes y fast).</li> <li>\u2705 Preguntas confirmatorias antes de actuar (para que entiendas m\u00e1s).</li> <li>\u2705 Resumen breve al inicio (estado actual, qu\u00e9 va a pasar).</li> <li>\u2705 Lenguaje claro en espa\u00f1ol, sin tecnicismos innecesarios.</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#pedir-ayuda","title":"Pedir ayuda","text":"<ul> <li>Si no entiende algo, dilo: \"Expl\u00edcame por qu\u00e9 hacemos X as\u00ed\".</li> <li>Si quieres comparar opciones: \"\u00bfCu\u00e1l es mejor, opci\u00f3n A o B? Mu\u00e9strame la diferencia\".</li> <li>Si hay dudas: pregunta antes de que yo act\u00fae.</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#velocidad-vs-precision","title":"Velocidad vs. Precisi\u00f3n","text":"<ul> <li>Modo por defecto: Punto medio (c\u00f3digo funcional + explicaci\u00f3n).</li> <li>Si es urgente: dime \"r\u00e1pido\" y me salto explicaciones largas.</li> <li>Si es cr\u00edtico: dime \"detallado\" y comento cada l\u00ednea, hago tests, etc.</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#2-ejecucion-de-comandos","title":"2\ufe0f\u20e3 EJECUCI\u00d3N DE COMANDOS","text":""},{"location":"COPILOT-INSTRUCCIONES/#formato","title":"Formato","text":"<ul> <li>\u2705 SIEMPRE incluir ruta exacta al inicio del comando.</li> <li>\u2705 Usar <code>npm.cmd</code> en PowerShell/CMD (evitar <code>npm</code> directo por pol\u00edticas).</li> <li>\u2705 Ruta sint\u00e9tica permitida si es evidente (ej: \"anda a backend\" en lugar de full path).</li> <li>\u2705 Esperar salida y reportar antes de siguiente paso.</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#ejemplos-validos","title":"Ejemplos v\u00e1lidos","text":"<pre><code># Opci\u00f3n 1: Ruta completa (expl\u00edcito)\ncd C:\\Users\\Usuario\\alacena\\backend &amp;&amp; npm.cmd run prisma:generate\n\n# Opci\u00f3n 2: Ruta sint\u00e9tica (si es clara)\n# \"anda a backend y ejecuta:\" npm.cmd run prisma:seed\n</code></pre>"},{"location":"COPILOT-INSTRUCCIONES/#terminales-permitidas","title":"Terminales permitidas","text":"<ul> <li>\u2705 PowerShell (con <code>npm.cmd</code>, no <code>npm</code>)</li> <li>\u2705 CMD (con <code>npm.cmd</code>)</li> <li>\u2705 Bash (Git Bash, con <code>npm</code>)</li> <li>\u274c PowerShell directo sin <code>.cmd</code> (bloqueo de pol\u00edticas)</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#3-commits-y-versionado","title":"3\ufe0f\u20e3 COMMITS Y VERSIONADO","text":""},{"location":"COPILOT-INSTRUCCIONES/#formato-de-mensaje","title":"Formato de mensaje","text":"<pre><code>type: descripci\u00f3n breve (en espa\u00f1ol o ingl\u00e9s)\n\nEjemplos v\u00e1lidos:\n- feat: endpoint POST /api/spaces (crear ubicaciones)\n- fix: validaci\u00f3n de cantidad en reservas\n- docs: actualizar README con gu\u00eda de setup\n- refactor: reorganizar controllers en carpeta routes\n- seed: agregar datos iniciales de test\n</code></pre>"},{"location":"COPILOT-INSTRUCCIONES/#frequency","title":"Frequency","text":"<ul> <li>\u2705 Un commit por feature (o por paso l\u00f3gico importante).</li> <li>\u2705 No commits cada cambio de l\u00ednea (agrupar lo relacionado).</li> <li>\u2705 Descripci\u00f3n clara para que en 6 meses entiendas qu\u00e9 hiciste.</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#antes-de-commitear","title":"Antes de commitear","text":"<ul> <li>Verificar que no hay <code>.env</code> o secretos.</li> <li>Asegurar que el c\u00f3digo no quebr\u00f3 nada.</li> <li>Si es un cambio grande, hacer commit + prueba.</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#4-codigo-y-desarrollo","title":"4\ufe0f\u20e3 C\u00d3DIGO Y DESARROLLO","text":""},{"location":"COPILOT-INSTRUCCIONES/#estilo","title":"Estilo","text":"<ul> <li>\u2705 Nomenclatura camelCase para variables/funciones.</li> <li>\u2705 UPPERCASE para constantes.</li> <li>\u2705 Nombres descriptivos (no <code>x</code>, <code>y</code>, <code>temp</code>).</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#validacion","title":"Validaci\u00f3n","text":"<ul> <li>\u2705 Usar Zod para validar inputs de APIs.</li> <li>\u2705 Tipado en TypeScript donde sea posible (controller, routes, services).</li> <li>\u2705 Error handling claro (mensajes \u00fatiles para debug).</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#estructura","title":"Estructura","text":"<ul> <li>\u2705 Seguir estructura existente en <code>/backend/src</code>.</li> <li>\u2705 Controllers en <code>backend/src/controllers/</code>.</li> <li>\u2705 Routes en <code>backend/src/routes/</code>.</li> <li>\u2705 Services/l\u00f3gica en <code>backend/src/services/</code> si es reutilizable.</li> <li>\u2705 Prisma queries en services o controllers (seg\u00fan complejidad).</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#comments-en-codigo","title":"Comments en c\u00f3digo","text":"<ul> <li>\u2705 Espa\u00f1ol, visible en l\u00ednea.</li> <li>\u2705 Explicar WHY, no WHAT (el c\u00f3digo ya dice qu\u00e9; explica por qu\u00e9).</li> <li>\u2705 Brevemente (1-2 l\u00edneas m\u00e1ximo por comment).</li> </ul> <p>Ejemplo: <pre><code>// \u274c MAL\nconst users = prisma.user.findMany(); // obtener usuarios\n\n// \u2705 BIEN\n// Obtenemos usuarios activos para evitar mostrar cuentas deshabilitadas\nconst users = await prisma.user.findMany({ where: { active: true } });\n</code></pre></p>"},{"location":"COPILOT-INSTRUCCIONES/#5-documentacion-y-diagramas","title":"5\ufe0f\u20e3 DOCUMENTACI\u00d3N Y DIAGRAMAS","text":""},{"location":"COPILOT-INSTRUCCIONES/#documentacion-en-el-repo","title":"Documentaci\u00f3n en el repo","text":"<ul> <li>\u2705 README.md en ra\u00edz (descripci\u00f3n general, quick start).</li> <li>\u2705 docs/SETUP.md (instalaci\u00f3n, dependencias, variables de entorno).</li> <li>\u2705 docs/ARQUITECTURA.md (decisiones t\u00e9cnicas, stack, por qu\u00e9 PostgreSQL, etc.).</li> <li>\u2705 docs/MODELOS-DATOS.md (schema Prisma explicado, relaciones).</li> <li>\u2705 docs/API.md (endpoints disponibles, requests/responses).</li> <li>\u2705 docs/GUIA-DESARROLLO.md (c\u00f3mo contribuir, convenciones, tests).</li> <li>\u2705 docs/conversaciones/ (hist\u00f3rico de chats por fecha).</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#diagramas-visuales-importante","title":"Diagramas visuales (IMPORTANTE)","text":"<ul> <li>\u2705 Diagrama ER (Entity-Relationship) de la BD.</li> <li>\u2705 Diagrama de arquitectura (frontend, backend, DB, Vercel, etc.).</li> <li>\u2705 Flujos de usuario (ej: \"c\u00f3mo a\u00f1ade una reserva el usuario\").</li> <li>\u2705 Diagrama de componentes frontend (si aplica).</li> </ul> <p>Formatos permitidos: - Mermaid (sintaxis simple, incrustable en GitHub/MD) \u2014 RECOMENDADO. - PlantUML (m\u00e1s potente, visual). - Excalidraw (visual, collaborative). - Figma (si prefieres dise\u00f1o m\u00e1s elaborado).</p> <p>D\u00f3nde guardarlas: - Mermaid/PlantUML: en archivos <code>.md</code> dentro de <code>docs/</code>. - Excalidraw/Figma: exportar PNG/PDF a <code>docs/diagrams/</code>.</p> <p>Ejemplo Mermaid (ER diagram): <pre><code>```mermaid\nerDiagram\n    LOCATION ||--o{ RESERVE : has\n    CONTAINER ||--o{ RESERVE : stored-in\n    ITEM ||--o{ RESERVE : contains\n    RECIPE ||--o{ RECIPE-INGREDIENT : uses\n    ITEM ||--o{ RECIPE-INGREDIENT : ingredient-of\n```\n</code></pre></p>"},{"location":"COPILOT-INSTRUCCIONES/#actualizar-documentacion","title":"Actualizar documentaci\u00f3n","text":"<ul> <li>\u2705 Cada cambio importante \u2192 actualizar los docs relevantes.</li> <li>\u2705 Junto con el c\u00f3digo (no dejar docs desactualizados).</li> <li>\u2705 Revisar PRE-commit (si los docs dicen una cosa y el c\u00f3digo otra = bug).</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#6-decisiones-y-preguntas","title":"6\ufe0f\u20e3 DECISIONES Y PREGUNTAS","text":""},{"location":"COPILOT-INSTRUCCIONES/#antes-de-actuar","title":"Antes de actuar","text":"<ul> <li>\u2705 Si hay m\u00faltiples formas de hacer algo \u2192 preguntarte opciones.</li> <li>\u2705 Si es dise\u00f1o importante \u2192 confirmarte qu\u00e9 enfoque prefieres.</li> <li>\u2705 Si hay trade-offs (seguridad vs velocidad, ej) \u2192 explicarlos.</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#formato-de-pregunta","title":"Formato de pregunta","text":"<pre><code>Veo que necesitas crear endpoint para [X]. Hay 2 formas:\n\nA) Opci\u00f3n r\u00e1pida: [descripci\u00f3n, ventajas, desventajas]\nB) Opci\u00f3n robusta: [descripci\u00f3n, ventajas, desventajas]\n\n\u00bfCu\u00e1l prefieres? O te sugiero la A porque [raz\u00f3n].\n</code></pre>"},{"location":"COPILOT-INSTRUCCIONES/#decisiones-tomadas-guardar","title":"Decisiones tomadas = guardar","text":"<ul> <li>\u2705 Si decidimos algo importante (ej: \"autenticaci\u00f3n con JWT\"), guardar en <code>docs/DECISIONES.md</code>.</li> <li>\u2705 Formato: fecha, decisi\u00f3n, raz\u00f3n, alternativas descartadas.</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#7-testing-y-verificacion","title":"7\ufe0f\u20e3 TESTING Y VERIFICACI\u00d3N","text":""},{"location":"COPILOT-INSTRUCCIONES/#nivel-de-testing","title":"Nivel de testing","text":"<ul> <li>\u2705 Al inicio: prueba manual de comandos (ejecutar y verificar salida).</li> <li>\u2705 Conforme avanzo: si el c\u00f3digo no quebr\u00f3, asumir que est\u00e1 bien.</li> <li>\u2705 Si es cr\u00edtico: hacer tests expl\u00edcitos (ej: probar endpoint con curl).</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#antes-de-dar-por-terminado","title":"Antes de dar por terminado","text":"<ul> <li>\u2705 El comando/endpoint debe ejecutarse sin errores visibles.</li> <li>\u2705 Si hay warnings (no errors), reportar pero no frenar.</li> <li>\u2705 Decirte claramente si falta algo o si est\u00e1 listo.</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#8-como-usar-este-documento","title":"8\ufe0f\u20e3 C\u00d3MO USAR ESTE DOCUMENTO","text":""},{"location":"COPILOT-INSTRUCCIONES/#para-nuevas-sesiones-importante","title":"Para nuevas sesiones (IMPORTANTE)","text":"<p>Copia y pega esto al inicio de un nuevo chat con Copilot:</p> <pre><code>---\nLEE el archivo docs/COPILOT-INSTRUCCIONES.md y \u00fasalo como gu\u00eda para toda nuestra comunicaci\u00f3n.\n\nResumen r\u00e1pido:\n- Paso \u00fanico por mensaje (confirmaciones antes de actuar)\n- Incluir ruta en comandos (pero sint\u00e9tica est\u00e1 bien)\n- Un commit por feature\n- Documentar todo (README, SETUP, ARQUITECTURA, API, diagramas)\n- Preguntar antes si hay opciones\n- Testing manual b\u00e1sico\n- Comentarios en c\u00f3digo en espa\u00f1ol (WHY, no WHAT)\n\nEstamos en etapa: [Migraciones completadas | Endpoints CRUD | P\u00e1gina p\u00fablica] \u2190 actualizar seg\u00fan est\u00e9s\n\nPr\u00f3ximo objetivo: [qu\u00e9 hacemos ahora] \u2190 actualizar seg\u00fan sea\n---\n</code></pre>"},{"location":"COPILOT-INSTRUCCIONES/#actualizaciones-al-documento","title":"Actualizaciones al documento","text":"<ul> <li>Si surge una nueva regla importante \u2192 editar este archivo.</li> <li>Si algo no funcion\u00f3 o fue confuso \u2192 comentalo y ajustamos.</li> <li>Hacer commit cada vez que actualicemos este doc (<code>docs: actualizar COPILOT-INSTRUCCIONES</code>).</li> </ul>"},{"location":"COPILOT-INSTRUCCIONES/#referencia-rapida","title":"\ud83c\udfaf REFERENCIA R\u00c1PIDA","text":"Aspecto Regla Comandos Ruta + <code>npm.cmd</code> + esperar salida Commits <code>type: descripci\u00f3n</code> (1 por feature) C\u00f3digo Zod validation, TypeScript, camelCase, comments en espa\u00f1ol Docs README, SETUP, ARQUITECTURA, MODELOS, API, GU\u00cdA, conversaciones Diagramas Mermaid (preferred), PlantUML, o Excalidraw Preguntas Confirmatorias antes de actuar Testing Manual b\u00e1sico, reportar si quebr\u00f3 <p>\u00daltima revisi\u00f3n: 2026-01-12 Revisor: Fran + GitHub Copilot Pr\u00f3xima revisi\u00f3n: Seg\u00fan sea necesario</p>"},{"location":"MAPA_VISUAL/","title":"\ud83d\uddfa\ufe0f Mapa Visual - ALACENA Sistema Completo","text":""},{"location":"MAPA_VISUAL/#que-puedes-hacer-en-alacena","title":"\ud83c\udfaf \u00bfQu\u00e9 puedes hacer en Alacena?","text":""},{"location":"MAPA_VISUAL/#para-visitantes-sin-login","title":"\ud83d\udc64 Para Visitantes (Sin Login)","text":"<pre><code>https://alacena-frontend.vercel.app/\n         \u2193\n    [HOME PAGE]\n         \u2193\n    \u251c\u2500 Ver descripci\u00f3n del app\n    \u251c\u2500 Ir a Men\u00fa P\u00fablico \u2500\u2500\u2192 [/guest/menu]\n    \u2502                         \u251c\u2500 Ver items del men\u00fa\n    \u2502                         \u251c\u2500 Ver descripci\u00f3n de cada item\n    \u2502                         \u2514\u2500 Filtrar por secci\u00f3n\n    \u2514\u2500 Ir a Login \u2500\u2500\u2192 [/login]\n</code></pre>"},{"location":"MAPA_VISUAL/#para-administradores-con-login","title":"\ud83d\udd10 Para Administradores (Con Login)","text":"<pre><code>Login [/login]\n   \u2193\nadmin@alacena.com / admin123\n   \u2193\n[DASHBOARD HOME /dashboard]\n   \u251c\u2500 Ver cards con resumen\n   \u251c\u2500 Ver \u00faltimas actividades\n   \u251c\u2500 Navegar a cada secci\u00f3n\n   \u2502\n   \u251c\u2500 [\ud83d\udce6 ITEMS /dashboard/items]\n   \u2502  \u251c\u2500 Ver tabla de todos los items\n   \u2502  \u251c\u2500 Crear nuevo item (PRODUCT o RECIPE)\n   \u2502  \u251c\u2500 Editar item\n   \u2502  \u251c\u2500 Eliminar item\n   \u2502  \u2514\u2500 Filtrar por tipo/b\u00fasqueda\n   \u2502\n   \u251c\u2500 [\ud83d\udccd LOCATIONS /dashboard/locations]\n   \u2502  \u251c\u2500 Ver tabla de ubicaciones\n   \u2502  \u251c\u2500 Crear ubicaci\u00f3n (AREA, SECTION, SLOT)\n   \u2502  \u251c\u2500 Editar ubicaci\u00f3n\n   \u2502  \u251c\u2500 Eliminar ubicaci\u00f3n\n   \u2502  \u2514\u2500 Reordenar con sortIndex\n   \u2502\n   \u251c\u2500 [\ud83d\udccb RESERVES /dashboard/reserves]\n   \u2502  \u251c\u2500 Ver tabla de reservas/inventario\n   \u2502  \u251c\u2500 Crear reserva (vincular item + ubicaci\u00f3n)\n   \u2502  \u251c\u2500 Cambiar estado (ACTIVE, TRANSFORMED, etc)\n   \u2502  \u251c\u2500 Editar cantidad/unidad\n   \u2502  \u251c\u2500 Eliminar reserva\n   \u2502  \u2514\u2500 Ver notas de cada reserva\n   \u2502\n   \u251c\u2500 [\ud83c\udf7d\ufe0f MENU /dashboard/menu]\n   \u2502  \u251c\u2500 Ver tabla del men\u00fa p\u00fablico\n   \u2502  \u251c\u2500 Crear item de men\u00fa (vincular con item existente)\n   \u2502  \u251c\u2500 Cambiar nombre visible\n   \u2502  \u251c\u2500 Activar/desactivar items\n   \u2502  \u251c\u2500 Asignar a secci\u00f3n\n   \u2502  \u2514\u2500 Eliminar del men\u00fa\n   \u2502\n   \u2514\u2500 [\ud83d\udeaa Logout]\n      \u2514\u2500 Vuelve a /login\n</code></pre>"},{"location":"MAPA_VISUAL/#paginas-disponibles-urls","title":"\ud83d\udcf1 P\u00e1ginas Disponibles (URLs)","text":""},{"location":"MAPA_VISUAL/#publicas","title":"P\u00fablicas","text":"URL Descripci\u00f3n Login requerido <code>/</code> Home del sitio \u274c No <code>/login</code> P\u00e1gina de login \u274c No <code>/guest/menu</code> Men\u00fa p\u00fablico \u274c No"},{"location":"MAPA_VISUAL/#protegidas-requieren-login","title":"Protegidas (Requieren login)","text":"URL Descripci\u00f3n Componente <code>/dashboard</code> Home del dashboard DashboardHome con cards <code>/dashboard/items</code> CRUD de items Tabla + formulario <code>/dashboard/locations</code> CRUD de ubicaciones Tabla + formulario <code>/dashboard/reserves</code> CRUD de reservas Tabla + formulario <code>/dashboard/menu</code> CRUD del men\u00fa Tabla + formulario"},{"location":"MAPA_VISUAL/#endpoints-de-api-backend","title":"\ud83d\udd0c Endpoints de API (Backend)","text":""},{"location":"MAPA_VISUAL/#autenticacion","title":"Autenticaci\u00f3n","text":"<pre><code>POST   /api/auth/register    {\"email\":\"...\",\"password\":\"...\",\"name\":\"...\"}\nPOST   /api/auth/login       {\"email\":\"...\",\"password\":\"...\"}\nGET    /api/auth/profile     (requiere JWT)\n</code></pre>"},{"location":"MAPA_VISUAL/#items-crud","title":"Items (CRUD)","text":"<pre><code>GET    /api/items?limit=100          Listar todos\nPOST   /api/items                     Crear\nGET    /api/items/:id                 Obtener uno\nPUT    /api/items/:id                 Editar\nDELETE /api/items/:id                 Eliminar\n</code></pre>"},{"location":"MAPA_VISUAL/#locations-igual-estructura","title":"Locations (igual estructura)","text":"<pre><code>GET/POST/PUT/DELETE /api/locations\n</code></pre>"},{"location":"MAPA_VISUAL/#reserves-igual-estructura","title":"Reserves (igual estructura)","text":"<pre><code>GET/POST/PUT/DELETE /api/reserves\n</code></pre>"},{"location":"MAPA_VISUAL/#menu-items-igual-estructura","title":"Menu Items (igual estructura)","text":"<pre><code>GET/POST/PUT/DELETE /api/menu-items\n</code></pre>"},{"location":"MAPA_VISUAL/#containers-batches-igual-estructura","title":"Containers &amp; Batches (igual estructura)","text":"<pre><code>GET/POST/PUT/DELETE /api/containers\nGET/POST/PUT/DELETE /api/batches\n</code></pre>"},{"location":"MAPA_VISUAL/#health-check","title":"Health Check","text":"<pre><code>GET    /api/health    {\"status\":\"ok\",\"app\":\"alacena\",\"timestamp\":\"...\"}\n</code></pre>"},{"location":"MAPA_VISUAL/#modelos-de-base-de-datos","title":"\ud83d\udcbe Modelos de Base de Datos","text":""},{"location":"MAPA_VISUAL/#user-autenticacion","title":"User (Autenticaci\u00f3n)","text":"<pre><code>{\n  id: string (cuid)\n  email: string (unique)\n  name: string\n  passwordHash: string (bcrypted)\n  role: string (\"user\" | \"admin\")\n  isActive: boolean\n  createdAt: DateTime\n  updatedAt: DateTime\n}\n</code></pre>"},{"location":"MAPA_VISUAL/#item-productosrecetas","title":"Item (Productos/Recetas)","text":"<pre><code>{\n  id: string (cuid)\n  code: string (optional, unique)\n  name: string \u2705 requerido\n  kind: enum (\"PRODUCT\" | \"RECIPE\") \u2705 requerido\n  category: string (optional)\n  notes: string (optional)\n  defaultUnit: enum (\"GRAM\" | \"ML\" | \"UNIT\")\n  createdAt: DateTime\n  updatedAt: DateTime\n}\n</code></pre>"},{"location":"MAPA_VISUAL/#location-ubicaciones","title":"Location (Ubicaciones)","text":"<pre><code>{\n  id: string (cuid)\n  code: string (optional, unique)\n  name: string \u2705 requerido\n  kind: enum (\"AREA\" | \"SECTION\" | \"SLOT\") \u2705 requerido\n  parentId: string (para jerarqu\u00eda)\n  sortIndex: int (para ordenar)\n  notes: string (optional)\n  createdAt: DateTime\n  updatedAt: DateTime\n}\n</code></pre>"},{"location":"MAPA_VISUAL/#reserve-inventario","title":"Reserve (Inventario)","text":"<pre><code>{\n  id: string (cuid)\n  code: string (optional)\n  itemId: string \u2705 requerido\n  locationId: string (optional)\n  status: enum (\"ACTIVE\" | \"TRANSFORMED\" | \"CONSUMED\" | \"DISCARDED\")\n  qty: int (optional)\n  unit: enum (\"UNIT\" | \"GRAM\" | \"ML\")\n  notes: string (optional)\n  netWeight_g: int (optional)\n  netVolume_ml: int (optional)\n  grossWeight_g: int (optional)\n  createdAt: DateTime\n  updatedAt: DateTime\n}\n</code></pre>"},{"location":"MAPA_VISUAL/#menuitem-menu-publico","title":"MenuItem (Men\u00fa P\u00fablico)","text":"<pre><code>{\n  id: string (cuid)\n  name: string \u2705 requerido (nombre visible en men\u00fa)\n  itemId: string \u2705 requerido (vincul a Item)\n  section: string (optional) (ej: \"Tragos\", \"Pastas\")\n  isActive: boolean\n  notes: string (optional)\n  createdAt: DateTime\n  updatedAt: DateTime\n}\n</code></pre>"},{"location":"MAPA_VISUAL/#flujos-principales","title":"\ud83d\udd04 Flujos Principales","text":""},{"location":"MAPA_VISUAL/#flujo-1-crear-y-mostrar-producto-en-menu","title":"Flujo 1: Crear y mostrar producto en men\u00fa","text":"<pre><code>Admin entra a /dashboard/items\n    \u2193\nCrea item \"Guiso de Lentejas\" (type: RECIPE)\n    \u2193\nEntra a /dashboard/menu\n    \u2193\nCrea MenuItem vincul a ese item\n    \u2193\nVisitante va a /guest/menu\n    \u2193\nVe \"Guiso de Lentejas\" en el men\u00fa p\u00fablico\n</code></pre>"},{"location":"MAPA_VISUAL/#flujo-2-registrar-inventario","title":"Flujo 2: Registrar inventario","text":"<pre><code>Admin entra a /dashboard/items\n    \u2193\nCrea/selecciona item \"Frasco 750ml\"\n    \u2193\nEntra a /dashboard/locations\n    \u2193\nCrea/selecciona ubicaci\u00f3n \"Estante 2 - Frascos\"\n    \u2193\nEntra a /dashboard/reserves\n    \u2193\nCrea reserva:\n  - Item: Frasco 750ml\n  - Ubicaci\u00f3n: Estante 2\n  - Cantidad: 5\n  - Status: ACTIVE\n    \u2193\nAhora el inventario est\u00e1 registrado\n</code></pre>"},{"location":"MAPA_VISUAL/#flujo-3-gestionar-cambios-de-inventario","title":"Flujo 3: Gestionar cambios de inventario","text":"<pre><code>Reserva existe con status: ACTIVE\n    \u2193\nAdmin entra a /dashboard/reserves\n    \u2193\nEdita la reserva:\n  - Cambia cantidad 5 \u2192 3\n  - Cambia status ACTIVE \u2192 CONSUMED\n    \u2193\nGuarda cambios\n    \u2193\nLa reserva se actualiza en DB\n</code></pre>"},{"location":"MAPA_VISUAL/#casos-de-uso-tipicos","title":"\ud83c\udfaf Casos de Uso T\u00edpicos","text":""},{"location":"MAPA_VISUAL/#1-restaurantecocina","title":"1. Restaurante/Cocina","text":"<pre><code>\u2713 Crear productos (ingredientes, bebidas)\n\u2713 Definir recetas (ensamblar ingredientes)\n\u2713 Registrar locaciones (freezer, heladera, estante)\n\u2713 Trackear inventario (cantidad de items en cada lugar)\n\u2713 Publicar men\u00fa del d\u00eda\n\u2713 Marcar items como consumidos\n</code></pre>"},{"location":"MAPA_VISUAL/#2-almacen-de-despensa","title":"2. Almac\u00e9n de despensa","text":"<pre><code>\u2713 Catalogar todos los \u00edtems\n\u2713 Organizar por secciones\n\u2713 Registrar entrada de stock\n\u2713 Registrar salida de stock\n\u2713 Trackear por contenedor/batch\n\u2713 Reportar lo disponible\n</code></pre>"},{"location":"MAPA_VISUAL/#3-catering-delivery","title":"3. Catering / Delivery","text":"<pre><code>\u2713 Men\u00fa p\u00fablico configurable\n\u2713 Inventario en tiempo real\n\u2713 Multiples ubicaciones\n\u2713 Trazabilidad de lotes\n\u2713 Control de porciones\n</code></pre>"},{"location":"MAPA_VISUAL/#validaciones-implementadas","title":"\ud83d\udd10 Validaciones Implementadas","text":""},{"location":"MAPA_VISUAL/#login","title":"Login","text":"<pre><code>- Email: formato v\u00e1lido (xxx@yyy.zzz)\n- Contrase\u00f1a: m\u00ednimo 6 caracteres\n- Email debe existir en DB\n- Contrase\u00f1a correcta\n</code></pre>"},{"location":"MAPA_VISUAL/#crear-item","title":"Crear Item","text":"<pre><code>- Nombre: requerido\n- Tipo (PRODUCT|RECIPE): requerido\n- C\u00f3digo: opcional\n- Categor\u00eda: opcional\n</code></pre>"},{"location":"MAPA_VISUAL/#crear-location","title":"Crear Location","text":"<pre><code>- Nombre: requerido\n- Tipo (AREA|SECTION|SLOT): requerido\n- C\u00f3digo: opcional\n- Sort index: opcional (default 0)\n</code></pre>"},{"location":"MAPA_VISUAL/#crear-reserve","title":"Crear Reserve","text":"<pre><code>- Item: requerido (debe existir)\n- Status: ACTIVE por defecto\n- Cantidad: opcional\n- Unidad: opcional (UNIT|GRAM|ML)\n</code></pre>"},{"location":"MAPA_VISUAL/#estadisticas-del-sistema","title":"\ud83d\udcca Estad\u00edsticas del Sistema","text":"M\u00e9trica Valor P\u00e1ginas CRUD 4 Endpoints API 13+ Tablas DB 7 Validaciones Zod 6 Controllers 7 Total de rutas 30+"},{"location":"MAPA_VISUAL/#performance","title":"\ud83d\ude80 Performance","text":""},{"location":"MAPA_VISUAL/#frontend","title":"Frontend","text":"<ul> <li>Build size: ~2MB</li> <li>Load time: &lt;2s</li> <li>TTFB: &lt;500ms (Vercel CDN)</li> </ul>"},{"location":"MAPA_VISUAL/#backend","title":"Backend","text":"<ul> <li>Response time: &lt;100ms (avg)</li> <li>DB query: &lt;50ms (avg)</li> <li>Cold start: ~5s (Fly.io)</li> </ul>"},{"location":"MAPA_VISUAL/#database","title":"Database","text":"<ul> <li>Ubicaci\u00f3n: Supabase (Buenos Aires)</li> <li>Backup: Autom\u00e1tico diario</li> <li>Replicaci\u00f3n: Enabled</li> </ul> <p>Actualizado: 17-01-2026 P\u00fablico: S\u00ed, documentaci\u00f3n abierta al repositorio</p>"},{"location":"MEJORAS-ESTETICAS/","title":"\ud83c\udfa8 Gu\u00eda de Mejoras Est\u00e9ticas para ALACENA","text":""},{"location":"MEJORAS-ESTETICAS/#estado-actual-vs-vision","title":"Estado Actual vs. Visi\u00f3n","text":"<p>Estado Actual: - Dise\u00f1o funcional pero b\u00e1sico - Colores simples (azul/gris) - Sin animaciones ni transiciones - Formularios est\u00e1ndar de Tailwind - Feedback visual limitado</p> <p>Visi\u00f3n Mejorada: - Interfaz moderna y profesional - Experiencia de usuario fluida - Elementos visuales atractivos - Feedback inmediato y claro</p>"},{"location":"MEJORAS-ESTETICAS/#nivel-1-mejoras-rapidas-1-2-horas","title":"\ud83d\ude80 Nivel 1: Mejoras R\u00e1pidas (1-2 horas)","text":""},{"location":"MEJORAS-ESTETICAS/#11-componentes-ui-con-shadcnui","title":"1.1 Componentes UI con shadcn/ui","text":"<p>\u00bfQu\u00e9 es? Biblioteca de componentes React con dise\u00f1o moderno y accesible.</p> <p>Instalaci\u00f3n: <pre><code>cd frontend/alacena-app\nnpx shadcn-ui@latest init\n</code></pre></p> <p>Componentes a agregar: <pre><code>npx shadcn-ui@latest add button\nnpx shadcn-ui@latest add card\nnpx shadcn-ui@latest add input\nnpx shadcn-ui@latest add table\nnpx shadcn-ui@latest add dialog\nnpx shadcn-ui@latest add toast\nnpx shadcn-ui@latest add badge\n</code></pre></p> <p>Beneficios: - \u2705 Dise\u00f1o consistente autom\u00e1tico - \u2705 Componentes accesibles (ARIA) - \u2705 F\u00e1cil personalizaci\u00f3n - \u2705 Animaciones suaves incluidas</p>"},{"location":"MEJORAS-ESTETICAS/#12-paleta-de-colores-profesional","title":"1.2 Paleta de Colores Profesional","text":"<p>Opci\u00f3n 1: Cocina Moderna (Recomendado) <pre><code>/* tailwind.config.js */\ncolors: {\n  primary: {\n    50: '#fef7ee',\n    100: '#fdedd3',\n    500: '#f97316', /* Naranja c\u00e1lido */\n    600: '#ea580c',\n    700: '#c2410c',\n  },\n  accent: {\n    500: '#10b981', /* Verde fresco */\n    600: '#059669',\n  }\n}\n</code></pre></p> <p>Opci\u00f3n 2: Elegante Oscuro <pre><code>colors: {\n  primary: {\n    500: '#8b5cf6', /* Violeta */\n    600: '#7c3aed',\n  },\n  dark: {\n    800: '#1f2937',\n    900: '#111827',\n  }\n}\n</code></pre></p>"},{"location":"MEJORAS-ESTETICAS/#13-tipografia-mejorada","title":"1.3 Tipograf\u00eda Mejorada","text":"<p>Fuentes Google: <pre><code>// app/layout.tsx\nimport { Inter, Poppins } from 'next/font/google'\n\nconst inter = Inter({ subsets: ['latin'] })\nconst poppins = Poppins({ \n  weight: ['400', '600', '700'],\n  subsets: ['latin'] \n})\n\n// Usar:\n// inter para texto general\n// poppins para t\u00edtulos\n</code></pre></p>"},{"location":"MEJORAS-ESTETICAS/#nivel-2-transformacion-visual-3-5-horas","title":"\ud83c\udfa8 Nivel 2: Transformaci\u00f3n Visual (3-5 horas)","text":""},{"location":"MEJORAS-ESTETICAS/#21-dashboard-con-cards-modernas","title":"2.1 Dashboard con Cards Modernas","text":"<p>Antes: <pre><code>&lt;div className=\"space-y-6\"&gt;\n  &lt;h1&gt;Dashboard&lt;/h1&gt;\n  ...\n&lt;/div&gt;\n</code></pre></p> <p>Despu\u00e9s: <pre><code>&lt;div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-4\"&gt;\n  &lt;Card className=\"hover:shadow-lg transition-shadow\"&gt;\n    &lt;CardHeader className=\"flex flex-row items-center justify-between pb-2\"&gt;\n      &lt;CardTitle className=\"text-sm font-medium\"&gt;Total Items&lt;/CardTitle&gt;\n      &lt;Package className=\"h-4 w-4 text-muted-foreground\" /&gt;\n    &lt;/CardHeader&gt;\n    &lt;CardContent&gt;\n      &lt;div className=\"text-2xl font-bold\"&gt;245&lt;/div&gt;\n      &lt;p className=\"text-xs text-muted-foreground\"&gt;+12% desde el mes pasado&lt;/p&gt;\n    &lt;/CardContent&gt;\n  &lt;/Card&gt;\n  {/* M\u00e1s cards... */}\n&lt;/div&gt;\n</code></pre></p>"},{"location":"MEJORAS-ESTETICAS/#22-formularios-con-validacion-visual","title":"2.2 Formularios con Validaci\u00f3n Visual","text":"<p>Implementar: - Estados: normal, focus, error, success - Iconos de estado al lado de inputs - Mensajes de error animados - Loading states en botones</p> <p>Ejemplo: <pre><code>&lt;div className=\"relative\"&gt;\n  &lt;Input \n    className={cn(\n      \"pr-10\",\n      errors.name &amp;&amp; \"border-red-500 focus:ring-red-500\"\n    )}\n  /&gt;\n  {errors.name &amp;&amp; (\n    &lt;AlertCircle className=\"absolute right-3 top-3 h-4 w-4 text-red-500\" /&gt;\n  )}\n  {!errors.name &amp;&amp; formData.name &amp;&amp; (\n    &lt;CheckCircle className=\"absolute right-3 top-3 h-4 w-4 text-green-500\" /&gt;\n  )}\n&lt;/div&gt;\n</code></pre></p>"},{"location":"MEJORAS-ESTETICAS/#23-tablas-interactivas","title":"2.3 Tablas Interactivas","text":"<p>Mejoras: - Hover effects en filas - Colores alternados (zebra striping) - Sorting visual - Badges para estados/categor\u00edas - Acciones con iconos</p> <p>Ejemplo: <pre><code>&lt;Table&gt;\n  &lt;TableHeader&gt;\n    &lt;TableRow&gt;\n      &lt;TableHead className=\"w-[100px]\"&gt;C\u00f3digo&lt;/TableHead&gt;\n      &lt;TableHead&gt;Nombre&lt;/TableHead&gt;\n      &lt;TableHead&gt;Tipo&lt;/TableHead&gt;\n      &lt;TableHead className=\"text-right\"&gt;Acciones&lt;/TableHead&gt;\n    &lt;/TableRow&gt;\n  &lt;/TableHeader&gt;\n  &lt;TableBody&gt;\n    {items.map((item) =&gt; (\n      &lt;TableRow \n        key={item.id}\n        className=\"hover:bg-muted/50 transition-colors\"\n      &gt;\n        &lt;TableCell className=\"font-mono\"&gt;{item.code}&lt;/TableCell&gt;\n        &lt;TableCell className=\"font-medium\"&gt;{item.name}&lt;/TableCell&gt;\n        &lt;TableCell&gt;\n          &lt;Badge variant={item.kind === 'PRODUCT' ? 'default' : 'secondary'}&gt;\n            {item.kind}\n          &lt;/Badge&gt;\n        &lt;/TableCell&gt;\n        &lt;TableCell className=\"text-right\"&gt;\n          &lt;div className=\"flex gap-2 justify-end\"&gt;\n            &lt;Button variant=\"ghost\" size=\"icon\"&gt;\n              &lt;Edit className=\"h-4 w-4\" /&gt;\n            &lt;/Button&gt;\n            &lt;Button variant=\"ghost\" size=\"icon\"&gt;\n              &lt;Trash className=\"h-4 w-4 text-red-500\" /&gt;\n            &lt;/Button&gt;\n          &lt;/div&gt;\n        &lt;/TableCell&gt;\n      &lt;/TableRow&gt;\n    ))}\n  &lt;/TableBody&gt;\n&lt;/Table&gt;\n</code></pre></p>"},{"location":"MEJORAS-ESTETICAS/#24-sidebar-moderna","title":"2.4 Sidebar Moderna","text":"<p>Caracter\u00edsticas: - Iconos para cada secci\u00f3n - Hover states animados - Indicador de secci\u00f3n activa - Badges de notificaciones</p> <pre><code>&lt;nav className=\"space-y-1\"&gt;\n  {navigation.map((item) =&gt; (\n    &lt;Link\n      href={item.href}\n      className={cn(\n        \"flex items-center gap-3 rounded-lg px-3 py-2 text-sm transition-all\",\n        \"hover:bg-accent hover:text-accent-foreground\",\n        pathname === item.href &amp;&amp; \"bg-accent text-accent-foreground\"\n      )}\n    &gt;\n      &lt;item.icon className=\"h-5 w-5\" /&gt;\n      &lt;span&gt;{item.name}&lt;/span&gt;\n      {item.count &amp;&amp; (\n        &lt;Badge className=\"ml-auto\"&gt;{item.count}&lt;/Badge&gt;\n      )}\n    &lt;/Link&gt;\n  ))}\n&lt;/nav&gt;\n</code></pre>"},{"location":"MEJORAS-ESTETICAS/#nivel-3-experiencia-premium-5-10-horas","title":"\ud83c\udf1f Nivel 3: Experiencia Premium (5-10 horas)","text":""},{"location":"MEJORAS-ESTETICAS/#31-animaciones-con-framer-motion","title":"3.1 Animaciones con Framer Motion","text":"<p>Instalaci\u00f3n: <pre><code>npm install framer-motion\n</code></pre></p> <p>Efectos: - Fade in al cargar p\u00e1gina - Slide in para formularios - Smooth transitions entre estados - Animaciones de lista (stagger)</p> <p>Ejemplo: <pre><code>import { motion } from 'framer-motion'\n\n&lt;motion.div\n  initial={{ opacity: 0, y: 20 }}\n  animate={{ opacity: 1, y: 0 }}\n  transition={{ duration: 0.3 }}\n&gt;\n  &lt;Card&gt;...&lt;/Card&gt;\n&lt;/motion.div&gt;\n</code></pre></p>"},{"location":"MEJORAS-ESTETICAS/#32-toast-notifications","title":"3.2 Toast Notifications","text":"<p>En lugar de alerts: <pre><code>import { useToast } from \"@/components/ui/use-toast\"\n\nconst { toast } = useToast()\n\n// Al crear item:\ntoast({\n  title: \"\u2705 Item creado\",\n  description: `${item.name} ha sido agregado al inventario`,\n})\n\n// Al haber error:\ntoast({\n  variant: \"destructive\",\n  title: \"\u274c Error\",\n  description: \"No se pudo guardar el item\",\n})\n</code></pre></p>"},{"location":"MEJORAS-ESTETICAS/#33-loading-states-elegantes","title":"3.3 Loading States Elegantes","text":"<p>Skeleton Loaders: <pre><code>import { Skeleton } from \"@/components/ui/skeleton\"\n\n{loading ? (\n  &lt;div className=\"space-y-3\"&gt;\n    &lt;Skeleton className=\"h-12 w-full\" /&gt;\n    &lt;Skeleton className=\"h-12 w-full\" /&gt;\n    &lt;Skeleton className=\"h-12 w-full\" /&gt;\n  &lt;/div&gt;\n) : (\n  &lt;Table&gt;...&lt;/Table&gt;\n)}\n</code></pre></p>"},{"location":"MEJORAS-ESTETICAS/#34-dark-mode","title":"3.4 Dark Mode","text":"<p>Implementaci\u00f3n: <pre><code>npx shadcn-ui@latest add dropdown-menu\n</code></pre></p> <pre><code>// components/theme-toggle.tsx\nimport { useTheme } from \"next-themes\"\n\nexport function ThemeToggle() {\n  const { theme, setTheme } = useTheme()\n\n  return (\n    &lt;Button\n      variant=\"ghost\"\n      onClick={() =&gt; setTheme(theme === \"dark\" ? \"light\" : \"dark\")}\n    &gt;\n      {theme === \"dark\" ? &lt;Sun /&gt; : &lt;Moon /&gt;}\n    &lt;/Button&gt;\n  )\n}\n</code></pre>"},{"location":"MEJORAS-ESTETICAS/#plan-de-implementacion-sugerido","title":"\ud83c\udfaf Plan de Implementaci\u00f3n Sugerido","text":""},{"location":"MEJORAS-ESTETICAS/#semana-1-fundamentos","title":"Semana 1: Fundamentos","text":"<ul> <li> Instalar shadcn/ui</li> <li> Actualizar paleta de colores</li> <li> Mejorar tipograf\u00eda</li> <li> Implementar Cards en dashboard</li> </ul>"},{"location":"MEJORAS-ESTETICAS/#semana-2-componentes","title":"Semana 2: Componentes","text":"<ul> <li> Migrar formularios a shadcn</li> <li> Mejorar tablas (hover, badges)</li> <li> A\u00f1adir toast notifications</li> <li> Mejorar sidebar</li> </ul>"},{"location":"MEJORAS-ESTETICAS/#semana-3-animaciones","title":"Semana 3: Animaciones","text":"<ul> <li> Instalar Framer Motion</li> <li> A\u00f1adir transiciones suaves</li> <li> Skeleton loaders</li> <li> Efectos hover avanzados</li> </ul>"},{"location":"MEJORAS-ESTETICAS/#semana-4-polish","title":"Semana 4: Polish","text":"<ul> <li> Dark mode</li> <li> Responsive final touches</li> <li> Iconograf\u00eda consistente</li> <li> Testing UX en m\u00f3vil</li> </ul>"},{"location":"MEJORAS-ESTETICAS/#recursos-de-inspiracion","title":"\ud83d\udcda Recursos de Inspiraci\u00f3n","text":""},{"location":"MEJORAS-ESTETICAS/#sitios-de-referencia","title":"Sitios de Referencia","text":"<ul> <li>Vercel Dashboard: https://vercel.com/dashboard</li> <li>Linear App: https://linear.app</li> <li>Notion: https://notion.so</li> </ul>"},{"location":"MEJORAS-ESTETICAS/#librerias-recomendadas","title":"Librer\u00edas Recomendadas","text":"<ul> <li>shadcn/ui: https://ui.shadcn.com</li> <li>Lucide Icons: https://lucide.dev</li> <li>Framer Motion: https://www.framer.com/motion</li> <li>Radix UI: https://www.radix-ui.com</li> </ul>"},{"location":"MEJORAS-ESTETICAS/#paletas-de-color","title":"Paletas de Color","text":"<ul> <li>Coolors: https://coolors.co</li> <li>Tailwind Color Generator: https://uicolors.app</li> </ul>"},{"location":"MEJORAS-ESTETICAS/#tips-generales","title":"\ud83d\udca1 Tips Generales","text":"<ol> <li>Consistencia &gt; Cantidad</li> <li> <p>Mejor pocos elementos bien dise\u00f1ados que muchos mediocres</p> </li> <li> <p>Espaciado es clave</p> </li> <li>Usa m\u00e1s whitespace de lo que crees necesario</li> <li> <p>Mant\u00e9n m\u00e1rgenes consistentes (4px, 8px, 16px, 24px, 32px)</p> </li> <li> <p>Jerarqu\u00eda Visual</p> </li> <li>Tama\u00f1os de fuente: 12px, 14px, 16px, 20px, 24px, 32px</li> <li> <p>Peso: 400 (normal), 600 (semi-bold), 700 (bold)</p> </li> <li> <p>Feedback Inmediato</p> </li> <li>Siempre mostrar estado de loading</li> <li>Confirmar acciones destructivas</li> <li> <p>Celebrar \u00e9xitos (animaciones sutiles)</p> </li> <li> <p>Mobile First</p> </li> <li>Dise\u00f1ar primero para m\u00f3vil</li> <li>Expandir para desktop</li> <li>Testear en diferentes tama\u00f1os</li> </ol> <p>\u00bfPor d\u00f3nde empezar?</p> <p>Si solo tienes tiempo para UNA cosa, instala shadcn/ui y migra los botones y formularios. El impacto visual ser\u00e1 inmediato.</p> <p>Si tienes una tarde libre, implementa el Nivel 1 completo (shadcn + colores + tipograf\u00eda). Ver\u00e1s una transformaci\u00f3n dram\u00e1tica.</p>"},{"location":"ONBOARDING/","title":"\ud83c\udf93 Onboarding Guide - ECO Platform","text":"<p>Gu\u00eda completa para nuevos desarrolladores</p> <p>Tiempo estimado: 4-6 horas (setup + learning)</p>"},{"location":"ONBOARDING/#bienvenido-a-eco","title":"\ud83d\udc4b Bienvenido a ECO","text":"<p>ECO es una plataforma modular que aloja m\u00faltiples aplicaciones: - Alacena - Gesti\u00f3n de alacena/despensa - Mantia - Gesti\u00f3n financiera (en desarrollo) - Salud, Financia, Huesha - Planificados</p> <p>Stack: Next.js 15, React 18, Node.js 20, Express, Prisma, PostgreSQL, Zod</p>"},{"location":"ONBOARDING/#checklist-de-onboarding","title":"\ud83d\udccb Checklist de Onboarding","text":""},{"location":"ONBOARDING/#dia-1-setup-2-horas","title":"D\u00eda 1: Setup (2 horas)","text":"<ul> <li> 1. Clonar repositorio</li> <li> 2. Instalar dependencias</li> <li> 3. Configurar variables de entorno</li> <li> 4. Levantar base de datos</li> <li> 5. Iniciar backend</li> <li> 6. Iniciar frontend</li> <li> 7. Hacer primer test</li> <li> 8. Leer documentaci\u00f3n base</li> </ul>"},{"location":"ONBOARDING/#dia-2-3-arquitectura-4-horas","title":"D\u00eda 2-3: Arquitectura (4 horas)","text":"<ul> <li> 9. Entender arquitectura general</li> <li> 10. Explorar schema de base de datos</li> <li> 11. Revisar c\u00f3digo de Alacena (referencia)</li> <li> 12. Entender shared code</li> <li> 13. Probar type generation</li> </ul>"},{"location":"ONBOARDING/#dia-4-5-primera-tarea-6-horas","title":"D\u00eda 4-5: Primera Tarea (6 horas)","text":"<ul> <li> 14. Tomar issue del backlog</li> <li> 15. Crear branch de feature</li> <li> 16. Implementar cambios</li> <li> 17. Testear manualmente</li> <li> 18. Commit + push</li> </ul>"},{"location":"ONBOARDING/#paso-a-paso","title":"\ud83d\ude80 Paso a Paso","text":""},{"location":"ONBOARDING/#1-clonar-repositorio","title":"1. Clonar Repositorio","text":"<pre><code># Si hay GitHub repo\ngit clone https://github.com/usuario/eco.git\ncd eco\n\n# O usar carpeta local existente\ncd c:\\Users\\Usuario\\eco\n</code></pre>"},{"location":"ONBOARDING/#2-instalar-dependencias","title":"2. Instalar Dependencias","text":"<p>Backend: <pre><code>cd backend\nnpm install\n</code></pre></p> <p>Frontend: <pre><code>cd frontend\nnpm install  # Instala para todas las apps (workspaces)\n</code></pre></p> <p>Verificar: <pre><code># Backend\ncd backend\nnpm list --depth=0\n\n# Frontend\ncd frontend/alacena-app\nnpm list --depth=0\n</code></pre></p>"},{"location":"ONBOARDING/#3-configurar-variables-de-entorno","title":"3. Configurar Variables de Entorno","text":"<p>Backend:</p> <p>Crear <code>backend/.env</code>: <pre><code>DATABASE_URL=\"postgresql://user:password@localhost:5432/eco_db\"\nJWT_SECRET=\"tu_secreto_super_seguro_aqui\"\nNODE_ENV=\"development\"\nPORT=4000\n</code></pre></p> <p>Frontend:</p> <p>Crear <code>frontend/alacena-app/.env.local</code>: <pre><code>NEXT_PUBLIC_API_URL=http://localhost:4000\nNEXTAUTH_SECRET=tu_secreto_nextauth_aqui\nNEXTAUTH_URL=http://localhost:3000\n</code></pre></p> <p>Importante: - \u274c NUNCA comitear archivos <code>.env</code> o <code>.env.local</code> - \u2705 Usar <code>.env.example</code> como referencia - \ud83d\udd10 Pedir credenciales al mentor si necesitas acceso a DB de dev</p>"},{"location":"ONBOARDING/#4-levantar-base-de-datos","title":"4. Levantar Base de Datos","text":"<p>Opci\u00f3n A: PostgreSQL Local</p> <pre><code># Instalar PostgreSQL (si no lo ten\u00e9s)\n# Windows: https://www.postgresql.org/download/windows/\n\n# Crear base de datos\npsql -U postgres\nCREATE DATABASE eco_db;\n\\q\n</code></pre> <p>Opci\u00f3n B: Docker</p> <pre><code>docker run --name eco-postgres \\\n  -e POSTGRES_PASSWORD=postgres \\\n  -e POSTGRES_DB=eco_db \\\n  -p 5432:5432 \\\n  -d postgres:15\n</code></pre> <p>Migrar schema:</p> <pre><code>cd backend\nnpx prisma migrate dev\n</code></pre> <p>Seedear datos de prueba:</p> <pre><code>npm run prisma:seed\n# O ejecutar seeds espec\u00edficos:\nnode prisma/seed-users.js\nnode prisma/seed-jars.js\n</code></pre>"},{"location":"ONBOARDING/#5-iniciar-backend","title":"5. Iniciar Backend","text":"<pre><code>cd backend\nnpm run dev  # Modo desarrollo con nodemon\n\n# Verificar que corre en http://localhost:4000\n</code></pre> <p>Test r\u00e1pido: <pre><code># PowerShell\nInvoke-WebRequest http://localhost:4000/health\n\n# Deber\u00eda retornar: {\"status\":\"ok\", ...}\n</code></pre></p>"},{"location":"ONBOARDING/#6-iniciar-frontend","title":"6. Iniciar Frontend","text":"<pre><code>cd frontend/alacena-app\nnpm run dev  # Corre en http://localhost:3000\n</code></pre> <p>Abrir en navegador: <pre><code>http://localhost:3000\n</code></pre></p>"},{"location":"ONBOARDING/#7-hacer-primer-test","title":"7. Hacer Primer Test","text":"<p>Login: 1. Ir a http://localhost:3000/login 2. Email: <code>admin@alacena.com</code> 3. Password: <code>admin123</code> 4. Click en \"Iniciar Sesi\u00f3n\"</p> <p>Crear Item: 1. Dashboard \u2192 Items 2. Click \"Nuevo Item\" 3. C\u00f3digo: <code>TEST-001</code> 4. Nombre: <code>Mi Primer Item</code> 5. Unidad: <code>kg</code> 6. Stock m\u00edn: <code>1</code>, m\u00e1x: <code>5</code> 7. Guardar</p> <p>Verificar: - Item aparece en la lista - Paginaci\u00f3n funciona - No hay errores en consola (F12)</p> <p>\u2705 Si todo funciona, \u00a1est\u00e1s listo para desarrollar!</p>"},{"location":"ONBOARDING/#8-leer-documentacion-base","title":"8. Leer Documentaci\u00f3n Base","text":"<p>Leer en este orden (30-45 min total):</p> <ol> <li>README.md - Visi\u00f3n general</li> <li>docs/README.md - \u00cdndice de docs</li> <li>architecture/OVERVIEW.md - Arquitectura</li> <li>PROJECT_MANAGEMENT.md - Metodolog\u00eda</li> </ol>"},{"location":"ONBOARDING/#dia-2-3-entender-la-arquitectura","title":"\ud83d\udcda D\u00eda 2-3: Entender la Arquitectura","text":""},{"location":"ONBOARDING/#9-arquitectura-general","title":"9. Arquitectura General","text":"<p>Leer: architecture/OVERVIEW.md</p> <p>Conceptos clave a entender: - \u2705 Monolito modular backend vs microservicios - \u2705 Single DB con prefijos (Mantia_, Salud_) - \u2705 npm workspaces para shared code - \u2705 Theme system (base + override) - \u2705 Type generation autom\u00e1tica</p> <p>Ejercicio: <pre><code># Ver estructura de m\u00f3dulos\ncd backend/src\ntree /F\n\n# Observar:\n# - modules/alacena/ (implementado)\n# - modules/mantia/ (vac\u00edo)\n# - shared/ (auth, qr, validations)\n</code></pre></p>"},{"location":"ONBOARDING/#10-explorar-schema-de-db","title":"10. Explorar Schema de DB","text":"<p>Leer: <code>backend/prisma/schema.prisma</code></p> <p>Ejercicio: <pre><code>cd backend\nnpx prisma studio  # Abre UI en http://localhost:5555\n</code></pre></p> <p>Explorar: - Tabla <code>User</code> (compartida) - Tabla <code>Item</code> (Alacena) - Relaciones: <code>Item \u2192 Batch</code>, <code>Batch \u2192 Location</code> - Enums: <code>LocationType</code>, <code>ReserveStatus</code></p> <p>Preguntas para responder: - \u00bfC\u00f3mo se relaciona User con Item? - \u00bfQu\u00e9 significa <code>currentStock</code> en Item? - \u00bfC\u00f3mo se calcula el peso neto de un Batch?</p>"},{"location":"ONBOARDING/#11-revisar-codigo-de-alacena","title":"11. Revisar C\u00f3digo de Alacena","text":"<p>M\u00f3dulo de referencia: Todo nuevo m\u00f3dulo debe seguir este patr\u00f3n.</p> <p>Backend - Explorar: <pre><code>cd backend/src/modules/alacena\n\n# Abrir en editor:\ncode controllers/itemController.js\ncode routes/itemRoutes.js\ncode schemas/itemSchema.js\n</code></pre></p> <p>Entender: - Controller: L\u00f3gica de negocio, interacci\u00f3n con Prisma - Route: Definici\u00f3n de endpoints, middlewares - Schema: Validaciones con Zod</p> <p>Frontend - Explorar: <pre><code>cd frontend/alacena-app/app/dashboard\n\ncode items/page.tsx\ncode layout.tsx\n</code></pre></p> <p>Entender: - Uso de <code>usePagination</code> hook - Integraci\u00f3n con <code>@eco/shared</code> - Patr\u00f3n de fetch con <code>api-client</code></p>"},{"location":"ONBOARDING/#12-entender-shared-code","title":"12. Entender Shared Code","text":"<p>Backend Shared: <pre><code>cd backend/src/shared\nls -R\n\n# Revisar:\ncode auth/authMiddleware.js  # C\u00f3mo funciona JWT\ncode validations/common.js    # Schemas Zod compartidos\n</code></pre></p> <p>Frontend Shared: <pre><code>cd frontend/shared\nls -R\n\n# Revisar:\ncode components/layout/DashboardLayout.tsx  # Layout compartido\ncode hooks/usePagination.ts                 # Hook reutilizable\ncode styles/theme.base.ts                   # Sistema de theming\ncode types/prisma.generated.ts              # Types auto-generados\n</code></pre></p> <p>Ejercicio: - Importar <code>usePagination</code> en un componente nuevo - Ver c\u00f3mo <code>DashboardLayout</code> recibe <code>theme</code> prop - Observar types en <code>prisma.generated.ts</code></p>"},{"location":"ONBOARDING/#13-probar-type-generation","title":"13. Probar Type Generation","text":"<pre><code># Hacer un cambio en schema\ncd backend/prisma\ncode schema.prisma\n\n# Agregar campo temporal a Item:\n# ej: testField String?\n\n# Generar types\ncd ..\nnpm run generate:types\n\n# Ver cambio reflejado\ncd ../frontend/shared/types\ncode prisma.generated.ts\n\n# \u00a1El campo testField apareci\u00f3 en la interfaz Item!\n\n# Revertir cambio en schema.prisma\n</code></pre> <p>Entender: - Cualquier cambio en Prisma se propaga autom\u00e1ticamente - Frontend siempre tiene types sincronizados - Comando: <code>cd backend &amp;&amp; npm run generate:types</code></p>"},{"location":"ONBOARDING/#dia-4-5-primera-tarea","title":"\ud83c\udfaf D\u00eda 4-5: Primera Tarea","text":""},{"location":"ONBOARDING/#14-tomar-issue-del-backlog","title":"14. Tomar Issue del Backlog","text":"<p>Leer: BACKLOG.md</p> <p>Buscar issue: - Estado: \ud83c\udd95 New o \ud83d\udd0d Analyzed - Prioridad: Could Have (para empezar) - Estimaci\u00f3n: XS o S (&lt; 2 horas)</p> <p>Ejemplo de buenos primeros issues: - <code>[COULD-004]</code> B\u00fasqueda en Items - <code>[COULD-005]</code> Export a CSV - Agregar validaci\u00f3n en formulario - Mejorar UI de componente existente</p> <p>Comunicar: <pre><code>\"Voy a trabajar en [COULD-004] - B\u00fasqueda Global en Items\"\n</code></pre></p> <p>Mentor actualiza estado a \ud83c\udfc3 In Progress</p>"},{"location":"ONBOARDING/#15-crear-branch-de-feature","title":"15. Crear Branch de Feature","text":"<pre><code>git checkout -b feature/COULD-004-search-items\n\n# Convenci\u00f3n de nombres:\n# feature/{ISSUE-ID}-descripcion-corta\n# bugfix/{BUG-ID}-descripcion-corta\n</code></pre>"},{"location":"ONBOARDING/#16-implementar-cambios","title":"16. Implementar Cambios","text":"<p>Ejemplo: B\u00fasqueda en Items</p> <p>Backend: <pre><code>// backend/src/modules/alacena/controllers/itemController.js\n\nasync getAllItems(req, res) {\n  const { skip, take, search } = req.query  // \u2190 Agregar search\n\n  const where = search ? {\n    OR: [\n      { name: { contains: search, mode: 'insensitive' } },\n      { code: { contains: search, mode: 'insensitive' } }\n    ]\n  } : {}\n\n  const items = await prisma.item.findMany({ skip, take, where })\n  // ...\n}\n</code></pre></p> <p>Frontend: <pre><code>// frontend/alacena-app/app/dashboard/items/page.tsx\n\nconst [search, setSearch] = useState('')\n\n// En el fetch:\nconst url = `/api/alacena/items?${params}&amp;search=${search}`\n\n// En el JSX:\n&lt;input \n  value={search} \n  onChange={(e) =&gt; setSearch(e.target.value)}\n  placeholder=\"Buscar por nombre o c\u00f3digo...\"\n/&gt;\n</code></pre></p>"},{"location":"ONBOARDING/#17-testear-manualmente","title":"17. Testear Manualmente","text":"<p>Checklist: - [ ] Backend responde correctamente   <pre><code>curl \"http://localhost:4000/api/alacena/items?search=arroz\"\n</code></pre> - [ ] Frontend muestra resultados filtrados - [ ] Sin errores en consola (F12) - [ ] Funciona con b\u00fasqueda vac\u00eda - [ ] Funciona con b\u00fasqueda sin resultados - [ ] Paginaci\u00f3n sigue funcionando</p> <p>Casos edge: - Buscar con caracteres especiales: <code>\u00f1</code>, <code>\u00e1</code> - Buscar string muy largo - Buscar con espacios</p>"},{"location":"ONBOARDING/#18-commit-push","title":"18. Commit + Push","text":"<pre><code>git add .\ngit commit -m \"feat(alacena): agregar b\u00fasqueda en items\n\n- Agregar query param 'search' en backend\n- Implementar input de b\u00fasqueda en frontend\n- B\u00fasqueda case-insensitive en nombre y c\u00f3digo\n\nCloses #COULD-004\"\n\ngit push origin feature/COULD-004-search-items\n</code></pre> <p>Buenas pr\u00e1cticas: - \u2705 Commit messages descriptivos - \u2705 Referenciar issue (<code>Closes #XXX</code>) - \u2705 Commits at\u00f3micos (una funcionalidad por commit) - \u274c No commitear <code>console.log()</code> de debug - \u274c No commitear c\u00f3digo comentado</p> <p>Notificar al mentor: <pre><code>\"Termin\u00e9 [COULD-004]. Branch: feature/COULD-004-search-items\nListo para review\"\n</code></pre></p>"},{"location":"ONBOARDING/#code-review-mentor","title":"\ud83d\udd0d Code Review (Mentor)","text":"<p>Mentor revisar\u00e1: - \u2705 C\u00f3digo sigue patrones de Alacena - \u2705 Sin errores de linting/typescript - \u2705 Funcionalidad testeada - \u2705 Sin breaking changes</p> <p>Feedback: - Cambios menores \u2192 Ajustar en mismo branch - Aprobado \u2192 Merge a main</p>"},{"location":"ONBOARDING/#recursos-de-aprendizaje","title":"\ud83d\udcda Recursos de Aprendizaje","text":""},{"location":"ONBOARDING/#documentacion-oficial","title":"Documentaci\u00f3n Oficial","text":"<ul> <li>Next.js Docs</li> <li>Prisma Docs</li> <li>Zod Docs</li> <li>TailwindCSS</li> </ul>"},{"location":"ONBOARDING/#eco-docs-internas","title":"ECO Docs Internas","text":"<ul> <li>API_REFERENCE.md - Endpoints disponibles</li> <li>architecture/DATABASE.md - Schema detallado</li> <li>CHANGELOG.md - Historial de cambios</li> </ul>"},{"location":"ONBOARDING/#metodologia","title":"Metodolog\u00eda","text":"<ul> <li>PROJECT_MANAGEMENT.md - Sprints, issues</li> <li>BACKLOG.md - Tareas disponibles</li> </ul>"},{"location":"ONBOARDING/#comunicacion","title":"\ud83d\udcac Comunicaci\u00f3n","text":""},{"location":"ONBOARDING/#daily-standup-opcional","title":"Daily Standup (opcional)","text":"<p>Al inicio de cada sesi\u00f3n: 1. \u00bfQu\u00e9 hice ayer? 2. \u00bfQu\u00e9 har\u00e9 hoy? 3. \u00bfHay blockers?</p>"},{"location":"ONBOARDING/#pedir-ayuda","title":"Pedir Ayuda","text":"<p>Antes de preguntar: - \u2705 Buscar en docs - \u2705 Revisar c\u00f3digo de Alacena - \u2705 Googlear error espec\u00edfico</p> <p>Al preguntar: <pre><code>\"Estoy trabajando en [ISSUE-XXX]\nTengo este error: [error exacto]\nYa prob\u00e9: [X, Y, Z]\n\u00bfAlguna idea?\"\n</code></pre></p>"},{"location":"ONBOARDING/#checklist-final","title":"\u2705 Checklist Final","text":"<p>Despu\u00e9s de 5 d\u00edas, deber\u00edas poder:</p> <ul> <li> Levantar backend + frontend en local</li> <li> Explicar arquitectura general de ECO</li> <li> Entender diferencia entre shared vs module code</li> <li> Crear una API endpoint nueva</li> <li> Crear una p\u00e1gina frontend nueva</li> <li> Usar <code>usePagination</code>, <code>useAuth</code>, <code>DashboardLayout</code></li> <li> Ejecutar <code>npm run generate:types</code></li> <li> Seguir flujo de Git (branch \u2192 commit \u2192 push)</li> <li> Leer y entender c\u00f3digo de Alacena</li> </ul>"},{"location":"ONBOARDING/#proximos-pasos","title":"\ud83c\udfaf Pr\u00f3ximos Pasos","text":""},{"location":"ONBOARDING/#semana-2","title":"Semana 2+","text":"<ul> <li>Tomar issues Should Have</li> <li>Participar en sprint planning</li> <li>Proponer mejoras</li> <li>Ayudar en code reviews</li> </ul>"},{"location":"ONBOARDING/#mes-2","title":"Mes 2+","text":"<ul> <li>Liderar una feature completa</li> <li>Contribuir a arquitectura</li> <li>Mentorar a nuevos devs</li> </ul>"},{"location":"ONBOARDING/#troubleshooting","title":"\ud83c\udd98 Troubleshooting","text":""},{"location":"ONBOARDING/#npm-install-falla","title":"\"npm install falla\"","text":"<pre><code># Limpiar cache\nnpm cache clean --force\nrm -rf node_modules package-lock.json\nnpm install\n</code></pre>"},{"location":"ONBOARDING/#prisma-no-genera-types","title":"\"Prisma no genera types\"","text":"<pre><code>cd backend\nrm -rf node_modules/.prisma\nnpx prisma generate\nnpm run generate:types\n</code></pre>"},{"location":"ONBOARDING/#frontend-no-lee-envlocal","title":"\"Frontend no lee .env.local\"","text":"<pre><code>cd frontend/alacena-app\nrm -rf .next\nnpm run dev\n</code></pre>"},{"location":"ONBOARDING/#puerto-4000-ya-en-uso","title":"\"Puerto 4000 ya en uso\"","text":"<pre><code># Windows PowerShell\nGet-Process -Id (Get-NetTCPConnection -LocalPort 4000).OwningProcess | Stop-Process\n</code></pre> <p>\u00a1Bienvenido al equipo! \ud83c\udf89</p> <p>Si ten\u00e9s dudas, revis\u00e1 docs/README.md o pregunt\u00e1 al mentor.</p> <p>Onboarding guide creada: 2026-01-25</p>"},{"location":"PROJECT_MANAGEMENT/","title":"\ud83d\udccb Gesti\u00f3n de Proyecto ECO - Metodolog\u00eda \u00c1gil","text":""},{"location":"PROJECT_MANAGEMENT/#sistema-de-trabajo","title":"\ud83c\udfaf Sistema de Trabajo","text":""},{"location":"PROJECT_MANAGEMENT/#sprints","title":"Sprints","text":"<ul> <li>Duraci\u00f3n: 1 semana (flexible seg\u00fan disponibilidad)</li> <li>Inicio: Lunes (cuando sea posible)</li> <li>Cierre: Domingo con retrospectiva</li> <li>Planificaci\u00f3n: Al inicio de cada sprint, definir objetivos claros</li> </ul>"},{"location":"PROJECT_MANAGEMENT/#features-vs-issues","title":"Features vs Issues","text":"<ul> <li>Feature: Nueva funcionalidad completa (ej: \"M\u00f3dulo Mantia - Gesti\u00f3n de Cuentas\")</li> <li>Issue: Bug, mejora, o tarea t\u00e9cnica espec\u00edfica (ej: \"Paginaci\u00f3n rota en items\")</li> <li>Epic: Agrupador de features relacionadas (ej: \"ECO Platform v1.0\")</li> </ul>"},{"location":"PROJECT_MANAGEMENT/#estructura-de-documentacion","title":"\ud83d\udcc1 Estructura de Documentaci\u00f3n","text":"<pre><code>docs/\n\u251c\u2500\u2500 README.md                          # \u00cdndice maestro de docs\n\u251c\u2500\u2500 PROJECT_MANAGEMENT.md              # Este archivo\n\u251c\u2500\u2500 ONBOARDING.md                      # Gu\u00eda para nuevos devs\n\u251c\u2500\u2500 API_REFERENCE.md                   # Endpoints y ejemplos\n\u251c\u2500\u2500 DEPLOYMENT.md                      # D\u00f3nde est\u00e1 cada servicio\n\u251c\u2500\u2500 CHANGELOG.md                       # Historial de versiones\n\u251c\u2500\u2500 ROADMAP.md                         # Features futuras\n\u2502\n\u251c\u2500\u2500 architecture/\n\u2502   \u251c\u2500\u2500 OVERVIEW.md                    # Arquitectura general\n\u2502   \u251c\u2500\u2500 DATABASE.md                    # Schema y relaciones\n\u2502   \u251c\u2500\u2500 FRONTEND.md                    # Next.js, shared code\n\u2502   \u2514\u2500\u2500 BACKEND.md                     # Express, Prisma, modules\n\u2502\n\u251c\u2500\u2500 modules/\n\u2502   \u251c\u2500\u2500 alacena/\n\u2502   \u2502   \u251c\u2500\u2500 README.md                  # Qu\u00e9 hace este m\u00f3dulo\n\u2502   \u2502   \u251c\u2500\u2500 API.md                     # Endpoints espec\u00edficos\n\u2502   \u2502   \u2514\u2500\u2500 FEATURES.md                # Funcionalidades\n\u2502   \u251c\u2500\u2500 mantia/\n\u2502   \u2502   \u2514\u2500\u2500 ... (mismo patr\u00f3n)\n\u2502   \u2514\u2500\u2500 ...\n\u2502\n\u251c\u2500\u2500 sprints/\n\u2502   \u251c\u2500\u2500 2026-01-W04.md                 # Sprint semana 4 de enero\n\u2502   \u251c\u2500\u2500 2026-02-W01.md\n\u2502   \u2514\u2500\u2500 TEMPLATE.md                    # Plantilla para nuevos sprints\n\u2502\n\u251c\u2500\u2500 sessions/\n\u2502   \u251c\u2500\u2500 INDEX.md                       # \u00cdndice de sesiones\n\u2502   \u251c\u2500\u2500 2026-01-24--mantia-planning.md\n\u2502   \u2514\u2500\u2500 TEMPLATE.md                    # Plantilla para sesiones\n\u2502\n\u2514\u2500\u2500 retrospectives/\n    \u251c\u2500\u2500 2026-01-W04.md                 # Qu\u00e9 sali\u00f3 bien/mal\n    \u2514\u2500\u2500 TEMPLATE.md\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#flujo-de-trabajo-por-sesion","title":"\ud83d\udd04 Flujo de Trabajo por Sesi\u00f3n","text":""},{"location":"PROJECT_MANAGEMENT/#1-inicio-de-sesion","title":"1. Inicio de Sesi\u00f3n","text":"<pre><code>1. Usuario dice: \"Empezamos una nueva sesi\u00f3n\"\n2. Copilot pregunta: \"\u00bfQu\u00e9 quer\u00e9s lograr hoy?\"\n3. Crear archivo docs/sessions/YYYY-MM-DD--HH-MM--titulo.md\n4. Revisar:\n   - docs/sessions/INDEX.md (pendientes de sesi\u00f3n anterior)\n   - docs/sprints/actual.md (objetivos del sprint)\n   - docs/BACKLOG.md (lista de tareas)\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#2-durante-la-sesion","title":"2. Durante la Sesi\u00f3n","text":"<pre><code>- Ir documentando cambios en memoria\n- Marcar tareas completadas en sprint actual\n- Crear issues nuevos si aparecen bugs\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#3-cierre-de-sesion","title":"3. Cierre de Sesi\u00f3n","text":"<pre><code>Usuario dice: \"Finalizamos la sesi\u00f3n\"\n\nCopilot ejecuta autom\u00e1ticamente:\n1. Guardar docs/sessions/YYYY-MM-DD--HH-MM--titulo.md\n   - Objetivos\n   - Cambios realizados\n   - Archivos modificados\n   - Comandos ejecutados\n   - Errores encontrados\n   - Pendientes\n\n2. Actualizar docs/sessions/INDEX.md\n   - Agregar nueva entrada\n\n3. Actualizar docs/CHANGELOG.md\n   - Versi\u00f3n nueva si corresponde\n   - Features/fixes de la sesi\u00f3n\n\n4. Actualizar docs/sprints/actual.md\n   - Marcar tareas completadas\n   - Agregar nuevas si aparecieron\n\n5. Actualizar docs/BACKLOG.md\n   - Nuevas tareas pendientes\n   - Prioridades ajustadas\n\n6. Resumen al usuario:\n   \"\u2705 Sesi\u00f3n guardada\n   \ud83d\udcdd Cambios: X archivos\n   \u2728 Completado: Y tareas\n   \ud83d\udccc Pendientes: Z items\"\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#backlog-y-priorizacion","title":"\ud83d\udcca Backlog y Priorizaci\u00f3n","text":""},{"location":"PROJECT_MANAGEMENT/#estados-de-tareas","title":"Estados de Tareas","text":"<ul> <li>\ud83c\udd95 New: Reci\u00e9n creada, sin analizar</li> <li>\ud83d\udd0d Analyzed: Analizada, lista para tomar</li> <li>\ud83c\udfc3 In Progress: En desarrollo actual</li> <li>\u2705 Done: Completada y validada</li> <li>\ud83d\udeab Blocked: Bloqueada por dependencia</li> <li>\u2744\ufe0f Frozen: Pospuesta indefinidamente</li> </ul>"},{"location":"PROJECT_MANAGEMENT/#prioridades-moscow","title":"Prioridades (MoSCoW)","text":"<ul> <li>Must Have: Cr\u00edtico, sin esto no funciona</li> <li>Should Have: Importante, alta prioridad</li> <li>Could Have: Deseable, media prioridad</li> <li>Won't Have (now): No para este sprint/versi\u00f3n</li> </ul>"},{"location":"PROJECT_MANAGEMENT/#formato-de-tarea","title":"Formato de Tarea","text":"<pre><code>### [MUST] Implementar autenticaci\u00f3n JWT\n- **M\u00f3dulo:** Shared / Auth\n- **Estado:** \ud83c\udfc3 In Progress\n- **Estimaci\u00f3n:** 4 horas\n- **Asignado:** Usuario + Copilot\n- **Issue:** #12\n- **Notas:** Necesario para todos los m\u00f3dulos\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#metodologia-agil-adaptada","title":"\ud83c\udfc3 Metodolog\u00eda \u00c1gil Adaptada","text":""},{"location":"PROJECT_MANAGEMENT/#daily-standup-inicio-de-sesion","title":"Daily Standup (Inicio de Sesi\u00f3n)","text":"<pre><code>\u00bfQu\u00e9 hicimos la \u00faltima sesi\u00f3n?\n\u00bfQu\u00e9 haremos hoy?\n\u00bfHay blockers?\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#sprint-planning-inicio-de-sprint","title":"Sprint Planning (Inicio de Sprint)","text":"<pre><code>- Revisar backlog\n- Seleccionar features/issues para sprint\n- Definir Definition of Done\n- Estimar esfuerzo (tallas: XS, S, M, L, XL)\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#sprint-review-fin-de-sprint","title":"Sprint Review (Fin de Sprint)","text":"<pre><code>- Demo de funcionalidades completadas\n- Actualizar CHANGELOG con versi\u00f3n\n- Deploy a producci\u00f3n si corresponde\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#sprint-retrospective-fin-de-sprint","title":"Sprint Retrospective (Fin de Sprint)","text":"<pre><code>\u00bfQu\u00e9 sali\u00f3 bien? \u2705\n\u00bfQu\u00e9 sali\u00f3 mal? \u274c\n\u00bfQu\u00e9 mejoramos para pr\u00f3ximo sprint? \ud83d\udd04\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#sistema-de-issues","title":"\ud83c\udfab Sistema de Issues","text":""},{"location":"PROJECT_MANAGEMENT/#tipos","title":"Tipos","text":"<ul> <li>\ud83d\udc1b Bug: Algo no funciona</li> <li>\u2728 Feature: Nueva funcionalidad</li> <li>\ud83d\udd27 Improvement: Mejora de algo existente</li> <li>\ud83d\udcdd Docs: Documentaci\u00f3n</li> <li>\ud83d\ude80 Deploy: Relacionado con deployment</li> <li>\ud83e\uddea Test: Testing y validaciones</li> </ul>"},{"location":"PROJECT_MANAGEMENT/#plantilla-de-issue","title":"Plantilla de Issue","text":"<pre><code>## [BUG] Paginaci\u00f3n no muestra item #129\n\n**M\u00f3dulo:** Alacena / Items\n**Prioridad:** Must Have\n**Estado:** \ud83c\udfc3 In Progress\n\n**Descripci\u00f3n:**\nAl crear el item #129 \"prueba\", no aparece en la lista.\n\n**Reproducci\u00f3n:**\n1. Ir a /dashboard/items\n2. Observar que solo aparecen 50 items\n\n**Causa:**\nFalta implementar paginaci\u00f3n (GET sin query params)\n\n**Soluci\u00f3n:**\n- [ ] Crear hook usePagination\n- [ ] Agregar PaginationControls component\n- [ ] Actualizar 3 p\u00e1ginas (items, locations, menu)\n\n**Archivos:**\n- frontend/shared/hooks/usePagination.ts\n- frontend/shared/components/PaginationControls.tsx\n- ...\n\n**Relacionado:** Sprint 2026-01-W04\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#versionado-semantic-versioning","title":"\ud83d\udcc8 Versionado (Semantic Versioning)","text":""},{"location":"PROJECT_MANAGEMENT/#formato-majorminorpatch","title":"Formato: <code>MAJOR.MINOR.PATCH</code>","text":"<ul> <li>MAJOR (1.x.x): Cambios incompatibles (breaking changes)</li> <li>MINOR (x.1.x): Nueva funcionalidad retrocompatible</li> <li>PATCH (x.x.1): Bug fixes, mejoras menores</li> </ul>"},{"location":"PROJECT_MANAGEMENT/#etiquetas","title":"Etiquetas","text":"<ul> <li><code>v1.0.0-alpha.1</code> - Versi\u00f3n temprana, inestable</li> <li><code>v1.0.0-beta.1</code> - Feature-complete, testeando</li> <li><code>v1.0.0-rc.1</code> - Release candidate, casi listo</li> <li><code>v1.0.0</code> - Producci\u00f3n estable</li> </ul>"},{"location":"PROJECT_MANAGEMENT/#ejemplo-de-progreso","title":"Ejemplo de Progreso","text":"<pre><code>v0.1.0 - Alacena inicial (MVP)\nv0.2.0 - Autenticaci\u00f3n + Dashboard\nv0.3.0 - Sistema de Taras\nv1.0.0 - ECO Platform lanzamiento\nv1.1.0 - M\u00f3dulo Mantia agregado\nv1.2.0 - M\u00f3dulo Salud agregado\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#onboarding-de-nuevos-devs","title":"\ud83e\udd1d Onboarding de Nuevos Devs","text":""},{"location":"PROJECT_MANAGEMENT/#dia-1-setup-2-horas","title":"D\u00eda 1: Setup (2 horas)","text":"<pre><code>1. Leer docs/ONBOARDING.md\n2. Clonar repo + instalar dependencias\n3. Levantar backend + frontend local\n4. Hacer primer test: crear un item\n5. Leer docs/architecture/OVERVIEW.md\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#dia-2-3-arquitectura-4-horas","title":"D\u00eda 2-3: Arquitectura (4 horas)","text":"<pre><code>1. Revisar docs/architecture/ completo\n2. Entender schema de DB (docs/architecture/DATABASE.md)\n3. Ver c\u00f3mo funciona autenticaci\u00f3n\n4. Explorar c\u00f3digo de Alacena (m\u00f3dulo de referencia)\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#dia-4-5-primera-tarea-6-horas","title":"D\u00eda 4-5: Primera Tarea (6 horas)","text":"<pre><code>1. Asignar issue simple (Could Have)\n2. Seguir flujo: branch \u2192 c\u00f3digo \u2192 test \u2192 PR\n3. Code review con mentor\n4. Merge + deploy a dev\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#semana-2-autonomia","title":"Semana 2+: Autonom\u00eda","text":"<pre><code>1. Tomar tareas Should Have\n2. Participar en sprint planning\n3. Proponer mejoras\n</code></pre>"},{"location":"PROJECT_MANAGEMENT/#herramientas-sugeridas","title":"\ud83d\udcf1 Herramientas Sugeridas","text":""},{"location":"PROJECT_MANAGEMENT/#control-de-versiones","title":"Control de Versiones","text":"<ul> <li>Git + GitHub: Para c\u00f3digo y branches</li> <li>GitHub Projects: Para sprints y backlog (opcional)</li> <li>GitHub Issues: Para tracking de bugs/features</li> </ul>"},{"location":"PROJECT_MANAGEMENT/#documentacion","title":"Documentaci\u00f3n","text":"<ul> <li>Markdown: Simple, versionable con git</li> <li>Draw.io / Excalidraw: Diagramas de arquitectura</li> <li>Notion / Obsidian: Docs colaborativas (opcional)</li> </ul>"},{"location":"PROJECT_MANAGEMENT/#comunicacion","title":"Comunicaci\u00f3n","text":"<ul> <li>Slack / Discord: Mensajes r\u00e1pidos del equipo</li> <li>GitHub Discussions: Decisiones t\u00e9cnicas documentadas</li> </ul>"},{"location":"PROJECT_MANAGEMENT/#checklist-de-calidad","title":"\u2705 Checklist de Calidad","text":"<p>Antes de cerrar una feature/issue:</p> <ul> <li> C\u00f3digo testeado manualmente</li> <li> Sin errores en consola</li> <li> Funciona en dev + producci\u00f3n</li> <li> Documentaci\u00f3n actualizada</li> <li> Types generados (si toc\u00e1s Prisma)</li> <li> Variables de entorno documentadas</li> <li> CHANGELOG actualizado</li> <li> Issue marcado como Done</li> </ul>"},{"location":"PROJECT_MANAGEMENT/#proximos-pasos","title":"\ud83c\udfaf Pr\u00f3ximos Pasos","text":"<ol> <li>Crear estructura de docs/ seg\u00fan esquema propuesto</li> <li>Iniciar Sprint 2026-01-W04 con objetivo: \"M\u00f3dulo Mantia MVP\"</li> <li>Primera sesi\u00f3n con nuevo sistema: Probar flujo completo</li> <li>Ajustar seg\u00fan feedback: Iterar en retrospectiva</li> </ol> <p>Sistema de gesti\u00f3n creado: 2026-01-25 \u00daltima actualizaci\u00f3n: 2026-01-25</p>"},{"location":"PROYECTO-ECO-ARQUITECTURA/","title":"Proyecto ECO - Arquitectura y Evoluci\u00f3n","text":"<p>Fecha de reestructuraci\u00f3n: 24 de enero de 2026 Estado: En migraci\u00f3n de Alacena \u2192 Eco</p>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#1-evolucion-del-proyecto","title":"1. Evoluci\u00f3n del Proyecto","text":""},{"location":"PROYECTO-ECO-ARQUITECTURA/#de-alacena-a-eco","title":"De Alacena a Eco","text":"<p>Alacena comenz\u00f3 como una aplicaci\u00f3n individual para gesti\u00f3n de despensa con: - Control de frascos y stock de alimentos - Sistema de ubicaciones (estanter\u00edas, heladera, freezer) - Gesti\u00f3n de reservas y batch tracking - Generaci\u00f3n de QR codes para frascos - Men\u00fa semanal con recetas</p> <p>Eco es la evoluci\u00f3n hacia una plataforma paraguas que integra 5 aplicaciones para gesti\u00f3n completa del hogar:</p> App Prop\u00f3sito Estado Alacena Gesti\u00f3n de despensa y cocina \u2705 Producci\u00f3n (migrar) Mantia Inventario del hogar + tareas de mantenimiento \ud83d\udd28 En desarrollo Financia Finanzas personales y presupuesto \ud83d\udccb Planificado Salud (nombre provisional) Tracking de m\u00e9tricas de salud y bienestar \ud83d\udccb Planificado Huesha Narrativa de vida, historia personal \ud83d\udccb Planificado"},{"location":"PROYECTO-ECO-ARQUITECTURA/#2-arquitectura-tecnica","title":"2. Arquitectura T\u00e9cnica","text":""},{"location":"PROYECTO-ECO-ARQUITECTURA/#stack-tecnologico","title":"Stack Tecnol\u00f3gico","text":"<pre><code>Frontend:\n- Next.js 15.5.9\n- React 18\n- TypeScript\n- Tailwind CSS\n- NextAuth.js (autenticaci\u00f3n)\n\nBackend:\n- Node.js 20\n- Express\n- Prisma 5.22.0 (ORM)\n- PostgreSQL\n\nInfraestructura:\n- Vercel (frontend - ilimitado free tier)\n- Fly.io (backend - 3 containers gratis)\n- Supabase (PostgreSQL - 500MB gratis)\n</code></pre>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#patron-arquitectonico-monolito-modular","title":"Patr\u00f3n Arquitect\u00f3nico: Monolito Modular","text":"<p>Decisi\u00f3n clave: Un solo backend compartido con estructura modular</p> <pre><code>eco/\n\u251c\u2500\u2500 backend/                    # Backend \u00fanico \"eco-backend\"\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u251c\u2500\u2500 modules/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 alacena/       # M\u00f3dulo Alacena\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 controllers/\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 routes/\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 services/\n\u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 schemas/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 mantia/        # M\u00f3dulo Mantia\n\u2502   \u2502   \u2502       \u251c\u2500\u2500 controllers/\n\u2502   \u2502   \u2502       \u251c\u2500\u2500 routes/\n\u2502   \u2502   \u2502       \u251c\u2500\u2500 services/\n\u2502   \u2502   \u2502       \u2514\u2500\u2500 schemas/\n\u2502   \u2502   \u251c\u2500\u2500 shared/            # C\u00f3digo compartido\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 auth/          # Autenticaci\u00f3n\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 qr/            # Generaci\u00f3n QR\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 media/         # Uploads\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 middleware/\n\u2502   \u2502   \u251c\u2500\u2500 app.js             # Registro de m\u00f3dulos\n\u2502   \u2502   \u2514\u2500\u2500 server.js\n\u2502   \u2514\u2500\u2500 prisma/\n\u2502       \u251c\u2500\u2500 schema.prisma      # Esquema \u00fanico, tablas prefijadas\n\u2502       \u2514\u2500\u2500 migrations/\n\u2502\n\u2514\u2500\u2500 frontend/\n    \u251c\u2500\u2500 alacena-app/           # App Alacena (Next.js)\n    \u251c\u2500\u2500 mantia-app/            # App Mantia (Next.js)\n    \u251c\u2500\u2500 financia-app/          # App Financia (futuro)\n    \u251c\u2500\u2500 salud-app/             # App Salud (futuro)\n    \u2514\u2500\u2500 huesha-app/            # App Huesha (futuro)\n</code></pre>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#rutas-de-api","title":"Rutas de API","text":"<pre><code>Backend \u00fanico expone:\n/api/alacena/*      \u2192 M\u00f3dulo Alacena\n/api/mantia/*       \u2192 M\u00f3dulo Mantia\n/api/financia/*     \u2192 M\u00f3dulo Financia (futuro)\n/api/shared/auth    \u2192 Autenticaci\u00f3n compartida\n/api/shared/qr      \u2192 QR codes\n</code></pre>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#base-de-datos","title":"Base de Datos","text":"<p>Estrategia: Una sola base de datos PostgreSQL en Supabase con prefijos por dominio</p> <pre><code>// Alacena\nmodel User { }\nmodel Item { }\nmodel Container { }\nmodel Reserve { }\nmodel Location { }\nmodel Batch { }\nmodel MenuItem { }\n\n// Mantia (prefijado)\nmodel Mantia_Location { }\nmodel Mantia_Category { }\nmodel Mantia_Item { }\nmodel Mantia_Task { }\nmodel Mantia_TaskType { }\nmodel Mantia_MaintenanceRecord { }\nmodel Mantia_CleaningRoutine { }\nmodel Mantia_ClothingItem { }\n\n// Financia (futuro)\nmodel Financia_Account { }\nmodel Financia_Transaction { }\n// ...\n</code></pre> <p>Ventajas: - \u2705 Relaciones cross-app (ej: asociar gasto de Financia con item de Mantia) - \u2705 Autenticaci\u00f3n centralizada (tabla <code>User</code> compartida) - \u2705 Queries unificadas para auditor\u00eda/timeline - \u2705 Un solo backup - \u2705 Cabe en free tier de Supabase (500MB)</p>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#3-mantia-inventario-y-tareas-del-hogar","title":"3. Mantia - Inventario y Tareas del Hogar","text":""},{"location":"PROYECTO-ECO-ARQUITECTURA/#concepto","title":"Concepto","text":"<p>Mantia separa claramente:</p> <p>INVENTARIO (cosas f\u00edsicas del hogar) - Electr\u00f3nicos, electrodom\u00e9sticos, muebles, estructura, limpieza, ropa, plantas, mascotas</p> <p>TAREAS (acciones a realizar) - Reparaciones, mantenimiento, pedidos, decisiones, aprendizaje, historial</p>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#categorias-de-inventario-9","title":"Categor\u00edas de Inventario (9)","text":"C\u00f3digo Nombre Descripci\u00f3n Ejemplos <code>electronics</code> Electr\u00f3nicos Dispositivos electr\u00f3nicos TV, notebook, celular, router <code>appliances</code> Electrodom\u00e9sticos Aparatos del hogar Heladera, microondas, aspiradora <code>furniture</code> Muebles Mobiliario Sill\u00f3n, mesa, cama, estanter\u00eda <code>structure</code> Estructura Partes del edificio Ventanas, puertas, pintura, instalaciones <code>cleaning</code> Limpieza Productos y herramientas Escoba, balde, productos de limpieza <code>clothing</code> Ropa Vestimenta (tracking especial) Remeras, pantalones, calzado <code>misc</code> Varios Otros objetos Herramientas, decoraci\u00f3n <code>plants</code> Plantas Flora del hogar Plantas de interior, macetas <code>pet</code> Mascotas Relacionado a mascotas Comederos, juguetes, accesorios"},{"location":"PROYECTO-ECO-ARQUITECTURA/#tipos-de-tareas-6","title":"Tipos de Tareas (6)","text":"C\u00f3digo Nombre Descripci\u00f3n Ejemplos <code>repair</code> Reparaci\u00f3n Arreglar algo roto Reparar heladera, cambiar bisagra <code>maintenance</code> Mantenimiento Mantenimiento preventivo Limpiar filtros, engrasar bisagras <code>order</code> Pedido/Compra Adquisiciones pendientes Comprar bombita, pedir t\u00e9cnico <code>decision</code> Decisi\u00f3n Decisiones a tomar Evaluar cambiar heladera, pintar pared <code>learning</code> Aprendizaje Aprender a hacer algo Aprender a usar cortadora, leer manual <code>history</code> Historial Registro de eventos pasados Registro de cuando se compr\u00f3, reparaciones anteriores"},{"location":"PROYECTO-ECO-ARQUITECTURA/#schema-prisma-mantia","title":"Schema Prisma Mantia","text":"<pre><code>// Ubicaciones f\u00edsicas (jerarqu\u00eda espacial)\nmodel Mantia_Location {\n  id        String   @id @default(uuid())\n  code      String   @unique  // \"DEPTO\", \"LIVING\", \"COCINA-ALACENA\", etc.\n  name      String              // \"Departamento\", \"Living\", \"Alacena de cocina\"\n  type      String              // \"building\", \"room\", \"zone\", \"furniture\"\n\n  // Jerarqu\u00eda: DEPTO &gt; LIVING &gt; MUEBLE_TV\n  parentId  String?\n  parent    Mantia_Location?  @relation(\"LocationHierarchy\", fields: [parentId], references: [id], onDelete: Cascade)\n  children  Mantia_Location[] @relation(\"LocationHierarchy\")\n\n  // Relaciones\n  items           Mantia_Item[]\n  cleaningRoutines Mantia_CleaningRoutine[]\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([parentId])\n  @@index([type])\n}\n\n// Categor\u00edas de inventario\nmodel Mantia_Category {\n  id          String   @id @default(uuid())\n  code        String   @unique  // \"electronics\", \"appliances\", \"furniture\", etc.\n  name        String              // \"Electr\u00f3nicos\", \"Electrodom\u00e9sticos\", etc.\n  description String?\n  icon        String?             // Emoji o nombre de icono\n\n  items Mantia_Item[]\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n}\n\n// Items del inventario\nmodel Mantia_Item {\n  id          String   @id @default(uuid())\n  name        String\n  description String?\n\n  // Categorizaci\u00f3n\n  categoryId  String\n  category    Mantia_Category @relation(fields: [categoryId], references: [id])\n\n  // Ubicaci\u00f3n f\u00edsica\n  locationId  String?\n  location    Mantia_Location? @relation(fields: [locationId], references: [id])\n\n  // Items dentro de items (ej: control remoto dentro de caj\u00f3n)\n  isContainer      Boolean @default(false)\n  containerItemId  String?\n  containerItem    Mantia_Item?   @relation(\"ItemContainment\", fields: [containerItemId], references: [id], onDelete: SetNull)\n  containedItems   Mantia_Item[]  @relation(\"ItemContainment\")\n\n  // Datos t\u00e9cnicos\n  brand       String?\n  model       String?\n  serialNumber String?\n  purchaseDate DateTime?\n  warrantyUntil DateTime?\n  estimatedValue Float?\n\n  // Dimensiones y specs\n  dimensions  String?  // \"50x30x20cm\"\n  weight      String?  // \"2.5kg\"\n  power       String?  // \"220V 1500W\"\n  capacity    String?  // \"150L\"\n\n  // Estado y disponibilidad\n  status      String @default(\"active\")  // \"active\", \"broken\", \"maintenance\", \"discarded\"\n  condition   String?  // \"new\", \"good\", \"fair\", \"poor\"\n  notes       String?\n\n  // Documentaci\u00f3n\n  manualUrl   String?\n  photoUrl    String?\n  purchaseProof String?  // URL del comprobante\n\n  // Relaciones\n  tasks              Mantia_Task[]\n  maintenanceRecords Mantia_MaintenanceRecord[]\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([categoryId])\n  @@index([locationId])\n  @@index([containerItemId])\n  @@index([status])\n}\n\n// Tipos de tareas\nmodel Mantia_TaskType {\n  id          String   @id @default(uuid())\n  code        String   @unique  // \"repair\", \"maintenance\", \"order\", \"decision\", \"learning\", \"history\"\n  name        String              // \"Reparaci\u00f3n\", \"Mantenimiento\", etc.\n  description String?\n  color       String?             // Color para UI\n\n  tasks Mantia_Task[]\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n}\n\n// Tareas accionables\nmodel Mantia_Task {\n  id          String   @id @default(uuid())\n  title       String\n  description String?\n\n  // Tipo y prioridad\n  typeId      String\n  type        Mantia_TaskType @relation(fields: [typeId], references: [id])\n  priority    String @default(\"medium\")  // \"low\", \"medium\", \"high\", \"urgent\"\n\n  // Asociaci\u00f3n opcional a item\n  itemId      String?\n  item        Mantia_Item? @relation(fields: [itemId], references: [id], onDelete: SetNull)\n\n  // Estado\n  status      String @default(\"pending\")  // \"pending\", \"in_progress\", \"completed\", \"cancelled\"\n  completedAt DateTime?\n\n  // Fechas\n  dueDate     DateTime?\n  scheduledFor DateTime?\n\n  // Costos y proveedor\n  estimatedCost Float?\n  actualCost    Float?\n  provider      String?\n\n  // Recurrencia\n  isRecurring   Boolean @default(false)\n  recurrencePattern String?  // \"weekly\", \"monthly\", \"yearly\", \"custom\"\n  nextOccurrence DateTime?\n\n  notes       String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([typeId])\n  @@index([itemId])\n  @@index([status])\n  @@index([dueDate])\n}\n\n// Historial de mantenimiento\nmodel Mantia_MaintenanceRecord {\n  id          String   @id @default(uuid())\n\n  itemId      String\n  item        Mantia_Item @relation(fields: [itemId], references: [id], onDelete: Cascade)\n\n  type        String  // \"repair\", \"maintenance\", \"inspection\", \"cleaning\"\n  description String\n  performedAt DateTime @default(now())\n  performedBy String?\n\n  cost        Float?\n  provider    String?\n  invoiceUrl  String?\n\n  notes       String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([itemId])\n  @@index([performedAt])\n}\n\n// Rutinas de limpieza\nmodel Mantia_CleaningRoutine {\n  id          String   @id @default(uuid())\n  name        String   // \"Limpieza ba\u00f1o\", \"Aspirar living\"\n  description String?\n\n  // Asociaci\u00f3n a ubicaci\u00f3n\n  locationId  String?\n  location    Mantia_Location? @relation(fields: [locationId], references: [id], onDelete: SetNull)\n\n  // Frecuencia\n  frequency   String   // \"daily\", \"weekly\", \"monthly\", \"quarterly\"\n  dayOfWeek   Int?     // 0-6 para semanales\n  dayOfMonth  Int?     // 1-31 para mensuales\n\n  // Estado\n  isActive    Boolean @default(true)\n  lastDone    DateTime?\n  nextDue     DateTime?\n\n  estimatedDuration Int?  // minutos\n  notes       String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([locationId])\n  @@index([nextDue])\n}\n\n// Inventario de ropa (caso especial con tracking estacional)\nmodel Mantia_ClothingItem {\n  id          String   @id @default(uuid())\n  name        String\n  type        String   // \"remera\", \"pantalon\", \"campera\", etc.\n\n  brand       String?\n  size        String?\n  color       String?\n  material    String?\n\n  season      String?  // \"verano\", \"invierno\", \"entretiempo\"\n  usage       String?  // \"casual\", \"formal\", \"deportivo\", \"trabajo\"\n\n  location    String?  // \"placard\", \"cajon\", \"guardado\"\n  condition   String @default(\"good\")  // \"new\", \"good\", \"fair\", \"poor\"\n\n  lastWorn    DateTime?\n  purchaseDate DateTime?\n\n  notes       String?\n  photoUrl    String?\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([season])\n  @@index([usage])\n}\n</code></pre>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#ejemplos-de-uso-mantia","title":"Ejemplos de Uso Mantia","text":"<p>Jerarqu\u00eda de Ubicaciones: <pre><code>DEPTO (Location type: \"building\")\n\u251c\u2500\u2500 LIVING (type: \"room\")\n\u2502   \u251c\u2500\u2500 MUEBLE-TV (type: \"furniture\")\n\u2502   \u2514\u2500\u2500 MESA-CENTRO (type: \"furniture\")\n\u251c\u2500\u2500 COCINA (type: \"room\")\n\u2502   \u251c\u2500\u2500 ALACENA-SUPERIOR (type: \"zone\")\n\u2502   \u2514\u2500\u2500 BAJO-MESADA (type: \"zone\")\n\u2514\u2500\u2500 BA\u00d1O (type: \"room\")\n</code></pre></p> <p>Items dentro de Items: <pre><code>Heladera (Item)\n\u251c\u2500\u2500 location: COCINA\n\u251c\u2500\u2500 containerItemId: null\n\u2514\u2500\u2500 containedItems:\n    \u251c\u2500\u2500 Term\u00f3metro heladera (containerItemId: Heladera.id)\n    \u2514\u2500\u2500 Estante superior (containerItemId: Heladera.id)\n</code></pre></p> <p>Tarea con Item asociado: <pre><code>Task: \"Reparar bisagra de heladera\"\n\u251c\u2500\u2500 type: repair\n\u251c\u2500\u2500 itemId: Heladera.id\n\u251c\u2500\u2500 status: pending\n\u251c\u2500\u2500 dueDate: 2026-01-30\n\u2514\u2500\u2500 estimatedCost: 5000\n</code></pre></p> <p>Rutina de Limpieza: <pre><code>CleaningRoutine: \"Limpiar ba\u00f1o completo\"\n\u251c\u2500\u2500 locationId: BA\u00d1O\n\u251c\u2500\u2500 frequency: \"weekly\"\n\u251c\u2500\u2500 dayOfWeek: 6 (s\u00e1bado)\n\u2514\u2500\u2500 estimatedDuration: 45 (minutos)\n</code></pre></p>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#4-estado-actual-de-la-migracion","title":"4. Estado Actual de la Migraci\u00f3n","text":""},{"location":"PROYECTO-ECO-ARQUITECTURA/#completado","title":"\u2705 Completado","text":"<ol> <li>Carpeta eco/ creada: Copiado todo desde alacena/</li> <li>Estructura modular creada:</li> <li><code>backend/src/modules/alacena/</code></li> <li><code>backend/src/modules/mantia/</code></li> <li><code>backend/src/shared/</code></li> </ol>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#en-progreso","title":"\ud83d\udd28 En Progreso","text":"<ol> <li>Mover c\u00f3digo existente de Alacena a <code>modules/alacena/</code></li> <li>Extraer shared (auth, qr, media)</li> <li>Actualizar imports en app.js y rutas</li> </ol>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#pendiente","title":"\ud83d\udccb Pendiente","text":"<ol> <li>Implementar Mantia:</li> <li>Agregar schema a <code>prisma/schema.prisma</code></li> <li>Crear seeds (categor\u00edas, task types)</li> <li>Crear controllers y routes</li> <li> <p>Ejecutar migraci\u00f3n</p> </li> <li> <p>Frontend Mantia:</p> </li> <li>Clonar <code>alacena-app</code> \u2192 <code>mantia-app</code></li> <li>Crear vistas (inventario, tareas, cleaning)</li> <li> <p>Integrar con API</p> </li> <li> <p>Deploy:</p> </li> <li>Renombrar <code>alacena-backend</code> \u2192 <code>eco-backend</code> en Fly.io</li> <li>Deploy ambos frontends a Vercel</li> <li>Verificar funcionamiento</li> </ol>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#5-apps-futuras-planificadas","title":"5. Apps Futuras (Planificadas)","text":""},{"location":"PROYECTO-ECO-ARQUITECTURA/#financia","title":"Financia","text":"<ul> <li>Gesti\u00f3n de gastos e ingresos</li> <li>Presupuestos</li> <li>Objetivos de ahorro</li> <li>Categorizaci\u00f3n de transacciones</li> <li>Integraci\u00f3n con Mantia: Asociar compras de items del inventario</li> </ul>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#salud-nombre-provisional","title":"Salud (nombre provisional)","text":"<ul> <li>Tracking de peso, ejercicio, sue\u00f1o</li> <li>Registro de medicamentos</li> <li>Citas m\u00e9dicas</li> <li>M\u00e9tricas de bienestar</li> </ul>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#huesha","title":"Huesha","text":"<ul> <li>Narrativa de vida</li> <li>Timeline personal</li> <li>Eventos importantes</li> <li>Reflexiones</li> <li>Integraci\u00f3n cross-app: Puede referenciar eventos de todas las apps</li> </ul>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#6-decisiones-de-arquitectura-clave","title":"6. Decisiones de Arquitectura Clave","text":""},{"location":"PROYECTO-ECO-ARQUITECTURA/#por-que-un-backend-unico","title":"\u00bfPor qu\u00e9 un backend \u00fanico?","text":"<p>Ventajas: - \u2705 Autenticaci\u00f3n centralizada (un solo User model) - \u2705 Queries cross-app (ej: timeline unificado) - \u2705 Menos infraestructura (1 container vs 5) - \u2705 C\u00f3digo compartido (auth, qr, media) - \u2705 Cabe en free tier de Fly.io (3 containers)</p> <p>Desventajas manejables: - \u26a0\ufe0f Escalabilidad (separar m\u00e1s adelante si crece) - \u26a0\ufe0f Despliegues at\u00f3micos (un bug afecta todo)</p>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#por-que-una-db-unica","title":"\u00bfPor qu\u00e9 una DB \u00fanica?","text":"<p>Ventajas: - \u2705 Relaciones cross-app posibles - \u2705 Un solo backup - \u2705 Queries unificadas - \u2705 Cabe en 500MB de Supabase free</p> <p>Manejo de riesgo: - \u2705 Prefijos por dominio (<code>Mantia_</code>, <code>Financia_</code>) - \u2705 Schemas modulares en Prisma - \u2705 Posibilidad de separar DBs m\u00e1s adelante si es necesario</p>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#por-que-frontends-separados","title":"\u00bfPor qu\u00e9 frontends separados?","text":"<p>Ventajas: - \u2705 Identidades visuales distintas - \u2705 Deploy independiente - \u2705 Dominios personalizados posibles - \u2705 C\u00f3digo no se mezcla - \u2705 Vercel permite ilimitados proyectos gratis</p>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#7-proximos-pasos","title":"7. Pr\u00f3ximos Pasos","text":""},{"location":"PROYECTO-ECO-ARQUITECTURA/#hoy-sesion-1","title":"Hoy (Sesi\u00f3n 1)","text":"<ol> <li>\u2705 Crear carpeta eco/</li> <li>\u2705 Crear estructura modular</li> <li>\ud83d\udd28 Mover c\u00f3digo Alacena a modules/</li> <li>\ud83d\udd28 Actualizar imports</li> <li>\u2705 Verificar que Alacena siga funcionando</li> </ol>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#manana-sesion-2","title":"Ma\u00f1ana (Sesi\u00f3n 2)","text":"<ol> <li>Agregar schema Mantia a Prisma</li> <li>Crear seeds de categor\u00edas y task types</li> <li>Implementar controllers y routes de Mantia</li> <li>Ejecutar migraci\u00f3n</li> <li>Testear API Mantia</li> </ol>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#proxima-sesion-sesion-3","title":"Pr\u00f3xima Sesi\u00f3n (Sesi\u00f3n 3)","text":"<ol> <li>Clonar alacena-app \u2192 mantia-app</li> <li>Crear vistas b\u00e1sicas de Mantia</li> <li>Integrar con backend</li> <li>Deploy a Vercel</li> </ol>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#futuro","title":"Futuro","text":"<ol> <li>Implementar Financia</li> <li>Implementar Salud</li> <li>Implementar Huesha</li> <li>Timeline unificado cross-app</li> <li>OCR para tickets y comprobantes</li> </ol>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#8-validacion-free-tier","title":"8. Validaci\u00f3n Free Tier","text":"Servicio L\u00edmite Free Uso Eco (5 apps) \u2705/\u274c Vercel Ilimitados proyectos 5 frontends \u2705 Fly.io 3 containers 1 backend \u2705 Supabase 500 MB DB ~100-150 MB \u2705 Supabase 2 proyectos 1 proyecto \u2705 <p>Conclusi\u00f3n: Eco completo cabe perfectamente en los free tiers sin pagar nada.</p>"},{"location":"PROYECTO-ECO-ARQUITECTURA/#9-contactos-y-referencias","title":"9. Contactos y Referencias","text":"<ul> <li>Documentaci\u00f3n t\u00e9cnica: <code>docs/</code></li> <li>Sesiones anteriores: <code>docs/sesiones/</code></li> <li>Arquitectura original Alacena: <code>docs/arquitectura.md</code></li> <li>Gu\u00eda completa Alacena: <code>GUIA_COMPLETA_ALACENA.md</code></li> </ul> <p>\u00daltima actualizaci\u00f3n: 24 de enero de 2026 Siguiente sesi\u00f3n: Continuar migraci\u00f3n modular + implementar Mantia backend</p>"},{"location":"RETOMADA-RAPIDA/","title":"\ud83d\udd04 RETOMADA R\u00c1PIDA - PR\u00d3XIMA SESI\u00d3N","text":""},{"location":"RETOMADA-RAPIDA/#lo-mas-importante","title":"Lo m\u00e1s importante","text":"<p>El frontend funciona, el backend no.</p>"},{"location":"RETOMADA-RAPIDA/#que-esta-roto","title":"Qu\u00e9 est\u00e1 roto","text":"<ul> <li>Backend en Fly.io da errores 502/503</li> <li>El servidor no responde a <code>/api/auth/login</code></li> <li>Probablemente no est\u00e1 iniciando correctamente</li> </ul>"},{"location":"RETOMADA-RAPIDA/#que-hay-que-hacer-en-orden","title":"Qu\u00e9 hay que hacer (en orden)","text":"<pre><code># 1. Ver qu\u00e9 error tiene el backend\nflyctl logs alacena-backend\n\n# 2. Basado en el error:\n# Si es de Prisma/BD: hacer migrate en Fly.io\n# Si es de m\u00f3dulo: reinstalar dependencias\n# Si es de puerto: revisar configuraci\u00f3n\n\n# 3. Una vez arreglado, probar:\ncurl https://alacena-backend.fly.dev/api/auth/login \\\n  -X POST \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"email\":\"demo@alacena.com\",\"password\":\"admin123\"}'\n\n# Debe retornar: {\"user\": {...}, \"token\": \"...\"}\n</code></pre>"},{"location":"RETOMADA-RAPIDA/#credenciales-para-testing","title":"Credenciales para testing","text":"<ul> <li>Email: <code>demo@alacena.com</code></li> <li>Password: <code>admin123</code></li> <li>Frontend URL: https://alacena-frontend.vercel.app/login</li> </ul>"},{"location":"RETOMADA-RAPIDA/#archivos-criticos-que-cambiaron","title":"Archivos cr\u00edticos que cambiaron","text":"<ul> <li><code>/backend/Dockerfile</code> - Simplificado para solo: <code>node src/server.js</code></li> <li><code>/backend/fly.toml</code> - Agregadas DATABASE_URL y JWT_SECRET</li> <li><code>/backend/src/server.js</code> - Escucha en <code>0.0.0.0:3001</code></li> <li><code>/backend/prisma/seed.js</code> - Usuario demo agregado</li> <li><code>/frontend/alacena-app/auth.ts</code> - NextAuth configurado</li> <li><code>/frontend/alacena-app/app/login/page.tsx</code> - Fixed Suspense</li> </ul>"},{"location":"RETOMADA-RAPIDA/#estado-vercel","title":"Estado Vercel","text":"<p>\u2705 Frontend funcionando 100% \u2705 Login page visible \u2705 3 env vars configuradas</p>"},{"location":"RETOMADA-RAPIDA/#estado-flyio","title":"Estado Fly.io","text":"<p>\u274c Backend no inicia \u274c No responde a requests \u26a0\ufe0f Necesita debugging urgente</p> <p>Ver documento: <code>/docs/ESTADO-ACTUAL-17-01-2026.md</code> para contexto completo.</p>"},{"location":"ROADMAP/","title":"\ud83d\uddfa\ufe0f ALACENA - Roadmap de Desarrollo","text":"<p>Versi\u00f3n Actual: v1.0 (Deploy Completo - 24 Enero 2026) Pr\u00f3xima Meta: v1.1 (UI/UX Mejorado + CRUDs Completos)</p>"},{"location":"ROADMAP/#fase-0-fundacion-completado","title":"\u2705 FASE 0: Fundaci\u00f3n (COMPLETADO)","text":""},{"location":"ROADMAP/#infraestructura","title":"Infraestructura","text":"<ul> <li>\u2705 Backend Express.js con Prisma ORM</li> <li>\u2705 Frontend Next.js 15 con App Router</li> <li>\u2705 Database PostgreSQL en Supabase</li> <li>\u2705 Deploy Backend en Fly.io</li> <li>\u2705 Deploy Frontend en Vercel</li> <li>\u2705 Autenticaci\u00f3n JWT funcionando</li> <li>\u2705 CI/CD autom\u00e1tico con GitHub</li> </ul>"},{"location":"ROADMAP/#funcionalidades-base","title":"Funcionalidades Base","text":"<ul> <li>\u2705 Login/Logout</li> <li>\u2705 CRUD completo de Items</li> <li>\u2705 Validaci\u00f3n con Zod</li> <li>\u2705 Manejo de errores</li> </ul>"},{"location":"ROADMAP/#fase-1-mejora-visual-1-2-semanas","title":"\ud83c\udfa8 FASE 1: Mejora Visual (1-2 semanas)","text":"<p>Objetivo: Interfaz moderna y profesional</p>"},{"location":"ROADMAP/#sprint-11-componentes-base","title":"Sprint 1.1: Componentes Base","text":"<ul> <li> Instalar y configurar shadcn/ui</li> <li> Migrar botones a componentes shadcn</li> <li> Migrar inputs/forms a componentes shadcn</li> <li> Implementar nueva paleta de colores</li> <li> Actualizar tipograf\u00eda (Inter + Poppins)</li> </ul> <p>Tiempo estimado: 4-6 horas Impacto visual: \u2b50\u2b50\u2b50\u2b50\u2b50</p>"},{"location":"ROADMAP/#sprint-12-dashboard-atractivo","title":"Sprint 1.2: Dashboard Atractivo","text":"<ul> <li> Cards con estad\u00edsticas (total items, ubicaciones, etc.)</li> <li> Gr\u00e1ficos simples (Chart.js o Recharts)</li> <li> Iconos coherentes (Lucide Icons)</li> <li> Sidebar con hover effects</li> <li> Breadcrumbs para navegaci\u00f3n</li> </ul> <p>Tiempo estimado: 6-8 horas Impacto visual: \u2b50\u2b50\u2b50\u2b50</p>"},{"location":"ROADMAP/#sprint-13-tablas-y-formularios","title":"Sprint 1.3: Tablas y Formularios","text":"<ul> <li> Tablas interactivas con sorting</li> <li> Formularios con validaci\u00f3n visual</li> <li> Toast notifications (reemplazar alerts)</li> <li> Loading states (skeletons)</li> <li> Confirmaciones elegantes (dialogs)</li> </ul> <p>Tiempo estimado: 8-10 horas Impacto UX: \u2b50\u2b50\u2b50\u2b50\u2b50</p>"},{"location":"ROADMAP/#fase-2-cruds-completos-2-3-semanas","title":"\ud83d\udce6 FASE 2: CRUDs Completos (2-3 semanas)","text":"<p>Objetivo: Todas las entidades funcionales</p>"},{"location":"ROADMAP/#sprint-21-ubicaciones-locations","title":"Sprint 2.1: Ubicaciones (Locations)","text":"<ul> <li> Crear p\u00e1gina <code>/dashboard/locations</code></li> <li> Formulario crear/editar ubicaci\u00f3n</li> <li> Listar ubicaciones en tabla</li> <li> Relaci\u00f3n con items (mostrar qu\u00e9 hay en cada ubicaci\u00f3n)</li> <li> Generaci\u00f3n de QR codes</li> </ul> <p>Tiempo estimado: 6-8 horas</p>"},{"location":"ROADMAP/#sprint-22-lotes-batches","title":"Sprint 2.2: Lotes (Batches)","text":"<ul> <li> Crear p\u00e1gina <code>/dashboard/batches</code></li> <li> Formulario con fecha de vencimiento</li> <li> Alertas de vencimiento pr\u00f3ximo</li> <li> Relaci\u00f3n con items y ubicaciones</li> <li> Filtros por estado (activo/vencido)</li> </ul> <p>Tiempo estimado: 6-8 horas</p>"},{"location":"ROADMAP/#sprint-23-contenedores-containers","title":"Sprint 2.3: Contenedores (Containers)","text":"<ul> <li> Crear p\u00e1gina <code>/dashboard/containers</code></li> <li> Asignaci\u00f3n de ubicaci\u00f3n</li> <li> Capacidad y ocupaci\u00f3n</li> <li> Estado visual (vac\u00edo/parcial/lleno)</li> <li> Historial de movimientos</li> </ul> <p>Tiempo estimado: 6-8 horas</p>"},{"location":"ROADMAP/#sprint-24-reservas-reserves","title":"Sprint 2.4: Reservas (Reserves)","text":"<ul> <li> Crear p\u00e1gina <code>/dashboard/reserves</code></li> <li> Reservar items para eventos</li> <li> Calendario de reservas</li> <li> Validaci\u00f3n de disponibilidad</li> <li> Notificaciones de recordatorio</li> </ul> <p>Tiempo estimado: 8-10 horas</p>"},{"location":"ROADMAP/#sprint-25-menu-semanal-menu-items","title":"Sprint 2.5: Men\u00fa Semanal (Menu Items)","text":"<ul> <li> Crear p\u00e1gina <code>/dashboard/menu</code></li> <li> Planificador semanal visual</li> <li> Asignaci\u00f3n de recetas a d\u00edas</li> <li> C\u00e1lculo de ingredientes necesarios</li> <li> Lista de compras generada</li> </ul> <p>Tiempo estimado: 10-12 horas</p>"},{"location":"ROADMAP/#fase-3-features-avanzadas-3-4-semanas","title":"\ud83d\ude80 FASE 3: Features Avanzadas (3-4 semanas)","text":""},{"location":"ROADMAP/#sprint-31-sistema-qr-completo","title":"Sprint 3.1: Sistema QR Completo","text":"<ul> <li> Generar QR para items/ubicaciones/contenedores</li> <li> Esc\u00e1ner QR desde m\u00f3vil</li> <li> Vista m\u00f3vil optimizada para esc\u00e1ner</li> <li> Acciones r\u00e1pidas desde QR (ver info, mover, reservar)</li> </ul> <p>Tiempo estimado: 12-15 horas</p>"},{"location":"ROADMAP/#sprint-32-inventario-inteligente","title":"Sprint 3.2: Inventario Inteligente","text":"<ul> <li> Dashboard analytics (gr\u00e1ficos de uso)</li> <li> Predicci\u00f3n de consumo</li> <li> Alertas de stock bajo</li> <li> Sugerencias de reorden</li> <li> Historial de movimientos</li> </ul> <p>Tiempo estimado: 15-20 horas</p>"},{"location":"ROADMAP/#sprint-33-busqueda-avanzada","title":"Sprint 3.3: B\u00fasqueda Avanzada","text":"<ul> <li> B\u00fasqueda global (todos los recursos)</li> <li> Filtros m\u00faltiples combinados</li> <li> Ordenamiento customizable</li> <li> B\u00fasqueda por voz (Web Speech API)</li> <li> Guardado de filtros favoritos</li> </ul> <p>Tiempo estimado: 8-10 horas</p>"},{"location":"ROADMAP/#fase-4-seguridad-y-permisos-1-2-semanas","title":"\ud83d\udd12 FASE 4: Seguridad y Permisos (1-2 semanas)","text":""},{"location":"ROADMAP/#sprint-41-roles-y-permisos","title":"Sprint 4.1: Roles y Permisos","text":"<ul> <li> Sistema de roles (Admin, Chef, Viewer)</li> <li> Permisos granulares por recurso</li> <li> UI adaptada seg\u00fan rol</li> <li> Logs de auditor\u00eda</li> <li> P\u00e1gina de administraci\u00f3n de usuarios</li> </ul> <p>Tiempo estimado: 10-12 horas</p>"},{"location":"ROADMAP/#sprint-42-seguridad-robusta","title":"Sprint 4.2: Seguridad Robusta","text":"<ul> <li> Rate limiting en API</li> <li> Validaci\u00f3n exhaustiva (sanitizaci\u00f3n)</li> <li> CORS configurado correctamente</li> <li> Headers de seguridad (Helmet.js)</li> <li> Encriptaci\u00f3n de datos sensibles</li> </ul> <p>Tiempo estimado: 6-8 horas</p>"},{"location":"ROADMAP/#fase-5-pwa-y-movil-2-3-semanas","title":"\ud83d\udcf1 FASE 5: PWA y M\u00f3vil (2-3 semanas)","text":""},{"location":"ROADMAP/#sprint-51-progressive-web-app","title":"Sprint 5.1: Progressive Web App","text":"<ul> <li> Service Worker para offline</li> <li> Manifest.json configurado</li> <li> Instalable como app m\u00f3vil</li> <li> Push notifications</li> <li> Sync en background</li> </ul> <p>Tiempo estimado: 12-15 horas</p>"},{"location":"ROADMAP/#sprint-52-optimizacion-movil","title":"Sprint 5.2: Optimizaci\u00f3n M\u00f3vil","text":"<ul> <li> Gestos t\u00e1ctiles (swipe, long-press)</li> <li> Bottom navigation (estilo app nativa)</li> <li> Teclado num\u00e9rico para c\u00f3digos</li> <li> Scanner de c\u00e1mara nativo</li> <li> Vibraci\u00f3n en acciones</li> </ul> <p>Tiempo estimado: 10-12 horas</p>"},{"location":"ROADMAP/#fase-6-optimizacion-continuo","title":"\ud83c\udfaf FASE 6: Optimizaci\u00f3n (Continuo)","text":""},{"location":"ROADMAP/#performance","title":"Performance","text":"<ul> <li> Code splitting (lazy loading)</li> <li> Optimizaci\u00f3n de im\u00e1genes</li> <li> Cach\u00e9 inteligente</li> <li> Paginaci\u00f3n infinita (virtual scrolling)</li> <li> Debouncing en b\u00fasquedas</li> </ul>"},{"location":"ROADMAP/#testing","title":"Testing","text":"<ul> <li> Tests unitarios (Vitest)</li> <li> Tests de integraci\u00f3n (Playwright)</li> <li> Tests E2E cr\u00edticos</li> <li> Coverage &gt; 70%</li> </ul>"},{"location":"ROADMAP/#monitoring","title":"Monitoring","text":"<ul> <li> Error tracking (Sentry)</li> <li> Analytics (Google Analytics o Plausible)</li> <li> Performance monitoring (Vercel Analytics)</li> <li> Uptime monitoring (UptimeRobot)</li> </ul>"},{"location":"ROADMAP/#fase-7-features-premium-futuro","title":"\ud83c\udf1f FASE 7: Features Premium (Futuro)","text":""},{"location":"ROADMAP/#integraciones","title":"Integraciones","text":"<ul> <li> Exportar/importar datos (CSV, Excel)</li> <li> Integraci\u00f3n con Google Calendar</li> <li> Webhooks para automatizaciones</li> <li> API p\u00fablica documentada (Swagger)</li> </ul>"},{"location":"ROADMAP/#ia-y-ml","title":"IA y ML","text":"<ul> <li> Reconocimiento de im\u00e1genes (identificar items)</li> <li> Chatbot para consultas</li> <li> Sugerencias de men\u00fa basadas en disponibilidad</li> <li> Optimizaci\u00f3n autom\u00e1tica de compras</li> </ul>"},{"location":"ROADMAP/#colaboracion","title":"Colaboraci\u00f3n","text":"<ul> <li> Comentarios en items/recetas</li> <li> Etiquetas compartidas</li> <li> Sistema de notificaciones</li> <li> Modo multi-tenant (varias cocinas)</li> </ul>"},{"location":"ROADMAP/#priorizacion-sugerida","title":"\ud83d\udcca Priorizaci\u00f3n Sugerida","text":""},{"location":"ROADMAP/#si-tienes-1-semana","title":"Si tienes 1 semana:","text":"<ol> <li>Sprint 1.1 + 1.2 (UI b\u00e1sica mejorada)</li> <li>Sprint 2.1 (Ubicaciones funcionando)</li> </ol>"},{"location":"ROADMAP/#si-tienes-1-mes","title":"Si tienes 1 mes:","text":"<ol> <li>Fase 1 completa (UI/UX profesional)</li> <li>Fase 2 completa (Todos los CRUDs)</li> <li>Sprint 3.1 (Sistema QR)</li> </ol>"},{"location":"ROADMAP/#si-tienes-3-meses","title":"Si tienes 3 meses:","text":"<ol> <li>Fases 1-4 completas</li> <li>Inicio Fase 5 (PWA b\u00e1sico)</li> <li>Testing y optimizaci\u00f3n</li> </ol>"},{"location":"ROADMAP/#aprendizajes-clave","title":"\ud83c\udf93 Aprendizajes Clave","text":""},{"location":"ROADMAP/#ya-dominado","title":"Ya Dominado","text":"<ul> <li>\u2705 Arquitectura Next.js 15 con App Router</li> <li>\u2705 Backend Express.js con Prisma</li> <li>\u2705 Deploy en servicios cloud (Fly.io, Vercel)</li> <li>\u2705 Autenticaci\u00f3n JWT</li> <li>\u2705 Git workflow</li> </ul>"},{"location":"ROADMAP/#por-aprender","title":"Por Aprender","text":"<ul> <li>\ud83d\udd04 shadcn/ui y componentes avanzados</li> <li>\ud83d\udd04 Animaciones (Framer Motion)</li> <li>\ud83d\udd04 Testing automatizado</li> <li>\ud83d\udd04 PWA development</li> <li>\ud83d\udd04 QR code generation/scanning</li> </ul>"},{"location":"ROADMAP/#notas-de-implementacion","title":"\ud83d\udcdd Notas de Implementaci\u00f3n","text":""},{"location":"ROADMAP/#principios-de-desarrollo","title":"Principios de Desarrollo","text":"<ol> <li>Incremental: Implementar feature por feature</li> <li>Testeable: Probar cada cambio antes de merge</li> <li>Documentado: Actualizar docs con cada milestone</li> <li>User-centric: Priorizar feedback del usuario</li> </ol>"},{"location":"ROADMAP/#git-strategy","title":"Git Strategy","text":"<pre><code># Feature branches\ngit checkout -b feature/locations-crud\ngit checkout -b ui/shadcn-migration\ngit checkout -b fix/qr-scanner-mobile\n\n# Merge cuando est\u00e9 probado\ngit checkout main\ngit merge feature/locations-crud\ngit push origin main\n</code></pre>"},{"location":"ROADMAP/#deploy-strategy","title":"Deploy Strategy","text":"<ul> <li>Desarrollo: Local (localhost:3000)</li> <li>Staging: Vercel preview deployments (autom\u00e1tico en PRs)</li> <li>Production: Main branch \u2192 auto-deploy a alacena-blush.vercel.app</li> </ul> <p>\u00daltima actualizaci\u00f3n: 24 Enero 2026 Pr\u00f3xima revisi\u00f3n: Despu\u00e9s de completar Fase 1</p>"},{"location":"TESTING/","title":"\ud83e\uddea Gu\u00eda Completa de Testing - ECO Platform","text":"<p>C\u00f3mo probar y validar funcionalidades del proyecto</p> <p>\u00daltima actualizaci\u00f3n: 2026-01-25</p>"},{"location":"TESTING/#indice","title":"\ud83d\udccb \u00cdndice","text":"<ol> <li>\u00bfQu\u00e9 es Testing?</li> <li>Estado Actual del Proyecto</li> <li>Tipos de Testing</li> <li>Testing Manual</li> <li>Testing Automatizado</li> <li>Plan de Implementaci\u00f3n</li> <li>Ejemplos Pr\u00e1cticos</li> </ol>"},{"location":"TESTING/#que-es-testing","title":"\ud83c\udfaf \u00bfQu\u00e9 es Testing?","text":"<p>El testing (pruebas) es el proceso de verificar que tu c\u00f3digo funciona correctamente. Es como revisar que una receta funcione antes de servir la comida a tus clientes.</p>"},{"location":"TESTING/#por-que-es-importante","title":"\u00bfPor qu\u00e9 es importante?","text":"<p>\u2705 Detecta bugs antes de que lleguen a producci\u00f3n \u2705 Documenta c\u00f3mo debe funcionar el c\u00f3digo \u2705 Facilita cambios - sabes si algo se rompi\u00f3 \u2705 Aumenta confianza al hacer deploy \u2705 Ahorra tiempo a largo plazo  </p>"},{"location":"TESTING/#estado-actual","title":"\ud83d\udcca Estado Actual","text":""},{"location":"TESTING/#sin-tests-automatizados","title":"\u274c Sin Tests Automatizados","text":"<p>Actualmente ECO Platform NO tiene tests autom\u00e1ticos. Todo se prueba manualmente:</p> <pre><code># Iniciar backend\ncd backend &amp;&amp; npm start\n\n# Abrir navegador\n# \u2192 Hacer click manualmente\n# \u2192 Verificar que funciona\n</code></pre> <p>Problemas: - \u23f1\ufe0f Lento - cada cambio requiere probar todo manualmente - \ud83d\udc1b Propenso a errores - podemos olvidar probar algo - \ud83d\ude30 Miedo a romper cosas - no hay red de seguridad - \ud83d\udcc9 No escalable - con m\u00e1s features, m\u00e1s tiempo de testing manual</p>"},{"location":"TESTING/#que-tenemos","title":"\u2705 Qu\u00e9 Tenemos","text":"<ul> <li>\u2705 Scripts de seeding (<code>seed-mantia.js</code>) - datos de prueba</li> <li>\u2705 Endpoints HTTP funcionales</li> <li>\u2705 Validaci\u00f3n con Zod en backend</li> <li>\u2705 TypeScript en frontend (detecta errores de tipos)</li> </ul>"},{"location":"TESTING/#tipos-de-testing","title":"\ud83d\udd2c Tipos de Testing","text":""},{"location":"TESTING/#1-testing-manual-lo-que-hacemos-ahora","title":"1. Testing Manual (Lo que hacemos ahora)","text":"<p>Definici\u00f3n: T\u00fa abres la app y pruebas con tus manos.</p> <p>Ejemplo: <pre><code>1. Abrir http://localhost:3001\n2. Click en \"Nueva Cuenta\"\n3. Llenar formulario\n4. Click en \"Crear\"\n5. Verificar que aparece en la lista\n</code></pre></p> <p>Pros: \u2705 F\u00e1cil de empezar, no requiere c\u00f3digo Contras: \u274c Lento, aburrido, propenso a errores, no repetible autom\u00e1ticamente</p>"},{"location":"TESTING/#2-unit-tests-tests-unitarios","title":"2. Unit Tests (Tests Unitarios)","text":"<p>Definici\u00f3n: Probar funciones individuales en aislamiento.</p> <p>Ejemplo: <pre><code>// Funci\u00f3n a probar\nfunction calcularBalance(transacciones) {\n  return transacciones.reduce((sum, t) =&gt; sum + t.amount, 0);\n}\n\n// Test\ntest('calcularBalance suma correctamente', () =&gt; {\n  const txs = [\n    { amount: 100 },\n    { amount: 50 },\n    { amount: -30 }\n  ];\n  expect(calcularBalance(txs)).toBe(120);\n});\n</code></pre></p> <p>Cu\u00e1ndo usar: Para l\u00f3gica de negocio, c\u00e1lculos, transformaciones de datos.</p> <p>Pros: \u2705 R\u00e1pido, f\u00e1cil de escribir, encuentra bugs espec\u00edficos Contras: \u274c No prueba integraci\u00f3n entre componentes</p>"},{"location":"TESTING/#3-integration-tests-tests-de-integracion","title":"3. Integration Tests (Tests de Integraci\u00f3n)","text":"<p>Definici\u00f3n: Probar que varios componentes funcionan juntos.</p> <p>Ejemplo Backend: <pre><code>test('POST /api/mantia/transactions crea transacci\u00f3n y actualiza balance', async () =&gt; {\n  // 1. Crear cuenta\n  const cuenta = await createAccount({ name: 'Test', initialBalance: 1000 });\n\n  // 2. Crear transacci\u00f3n\n  const tx = await request(app)\n    .post('/api/mantia/transactions')\n    .send({\n      type: 'EXPENSE',\n      fromAccountId: cuenta.id,\n      amount: 100\n    });\n\n  // 3. Verificar que el balance se actualiz\u00f3\n  const updatedAccount = await getAccount(cuenta.id);\n  expect(updatedAccount.currentBalance).toBe(900);\n});\n</code></pre></p> <p>Cu\u00e1ndo usar: Para probar flujos completos (controlador \u2192 base de datos \u2192 respuesta).</p> <p>Pros: \u2705 Detecta problemas de integraci\u00f3n real Contras: \u274c M\u00e1s lentos que unit tests, m\u00e1s complejos de configurar</p>"},{"location":"TESTING/#4-e2e-tests-end-to-end","title":"4. E2E Tests (End-to-End)","text":"<p>Definici\u00f3n: Probar la app completa como lo har\u00eda un usuario real.</p> <p>Ejemplo con Playwright: <pre><code>test('flujo completo Mantia: crear cuenta \u2192 crear transacci\u00f3n \u2192 ver balance', async ({ page }) =&gt; {\n  // 1. Ir a Mantia\n  await page.goto('http://localhost:3001');\n\n  // 2. Crear cuenta\n  await page.click('text=Nueva Cuenta');\n  await page.fill('input[name=\"name\"]', 'Mi Cuenta Test');\n  await page.selectOption('select[name=\"type\"]', 'CASH');\n  await page.fill('input[name=\"initialBalance\"]', '10000');\n  await page.click('button:has-text(\"Crear\")');\n\n  // 3. Verificar que aparece\n  await expect(page.locator('text=Mi Cuenta Test')).toBeVisible();\n\n  // 4. Ver balance\n  await expect(page.locator('text=$10000.00')).toBeVisible();\n});\n</code></pre></p> <p>Cu\u00e1ndo usar: Para flujos cr\u00edticos de usuario (login, compra, crear orden).</p> <p>Pros: \u2705 Prueba la app real, detecta problemas de UX Contras: \u274c Lentos, fr\u00e1giles (cambian si cambia la UI), dif\u00edciles de mantener</p>"},{"location":"TESTING/#5-smoke-tests-tests-de-humo","title":"5. Smoke Tests (Tests de Humo)","text":"<p>Definici\u00f3n: Pruebas r\u00e1pidas para verificar que \"no hay fuego\".</p> <p>Ejemplo: <pre><code># \u00bfEl backend arranca?\ncurl http://localhost:4000/health\n\n# \u00bfEl frontend carga?\ncurl http://localhost:3001\n\n# \u00bfLas rutas principales responden?\ncurl http://localhost:4000/api/mantia/accounts\ncurl http://localhost:4000/api/mantia/transactions\n</code></pre></p> <p>Cu\u00e1ndo usar: Despu\u00e9s de cada deploy, antes de ejecutar tests largos.</p> <p>Pros: \u2705 Muy r\u00e1pidos, detectan problemas obvios Contras: \u274c No profundizan, solo verifican que \"algo funciona\"</p>"},{"location":"TESTING/#testing-manual","title":"\ud83d\udee0\ufe0f Testing Manual","text":""},{"location":"TESTING/#guia-paso-a-paso-para-probar-mantia","title":"Gu\u00eda Paso a Paso para Probar Mantia","text":""},{"location":"TESTING/#test-1-backend-health-check","title":"Test 1: Backend Health Check","text":"<pre><code># 1. Iniciar backend\ncd C:\\Users\\Usuario\\eco\\backend\nnpm start\n\n# 2. Probar health\ncurl http://localhost:4000/health\n\n# Resultado esperado:\n# { \"status\": \"ok\", \"modules\": [\"alacena\", \"mantia\"], \"timestamp\": \"...\" }\n</code></pre>"},{"location":"TESTING/#test-2-listar-cuentas","title":"Test 2: Listar Cuentas","text":"<pre><code>curl http://localhost:4000/api/mantia/accounts\n\n# Resultado esperado:\n# {\n#   \"data\": [...],\n#   \"pagination\": { \"total\": 4, \"page\": 1, ... }\n# }\n</code></pre>"},{"location":"TESTING/#test-3-crear-cuenta","title":"Test 3: Crear Cuenta","text":"<pre><code>curl -X POST http://localhost:4000/api/mantia/accounts `\n  -H \"Content-Type: application/json\" `\n  -d '{\"name\":\"Test Account\",\"type\":\"CASH\",\"initialBalance\":5000}'\n\n# Resultado esperado:\n# { \"id\": \"...\", \"name\": \"Test Account\", \"currentBalance\": 5000, ... }\n</code></pre>"},{"location":"TESTING/#test-4-frontend-abrir-app","title":"Test 4: Frontend - Abrir App","text":"<pre><code>cd C:\\Users\\Usuario\\eco\\frontend\\mantia-app\nnpm run dev\n\n# Abrir navegador: http://localhost:3001\n</code></pre> <p>Checklist Manual: - [ ] \u00bfCarga la p\u00e1gina principal? - [ ] \u00bfSe ven las 4 tarjetas (Cuentas, Transacciones, etc)? - [ ] Click en \"Cuentas\" \u2192 \u00bfCarga la lista? - [ ] Click en \"Nueva Cuenta\" \u2192 \u00bfAparece el formulario? - [ ] Llenar formulario \u2192 \u00bfSe crea correctamente? - [ ] \u00bfAparece en la lista con el balance correcto?</p>"},{"location":"TESTING/#test-5-flujo-completo","title":"Test 5: Flujo Completo","text":"<ol> <li>Crear Cuenta \"Billetera\" con $10,000</li> <li>Crear Categor\u00eda \"Comida\" \ud83c\udf54</li> <li>Crear Transacci\u00f3n Gasto de $2,000 en \"Comida\"</li> <li>Verificar Balance \u2192 Debe mostrar $8,000</li> <li>Ver Estad\u00edsticas \u2192 Debe mostrar $2,000 en gastos</li> </ol>"},{"location":"TESTING/#testing-automatizado","title":"\ud83e\udd16 Testing Automatizado","text":""},{"location":"TESTING/#herramientas-recomendadas","title":"Herramientas Recomendadas","text":""},{"location":"TESTING/#backend","title":"Backend","text":"<p>Jest - Framework de testing para Node.js <pre><code>npm install --save-dev jest supertest\n</code></pre></p> <p>Supertest - Para probar endpoints HTTP <pre><code>const request = require('supertest');\nconst app = require('../src/app');\n\ntest('GET /api/mantia/accounts returns accounts', async () =&gt; {\n  const response = await request(app).get('/api/mantia/accounts');\n  expect(response.status).toBe(200);\n  expect(response.body.data).toBeInstanceOf(Array);\n});\n</code></pre></p>"},{"location":"TESTING/#frontend","title":"Frontend","text":"<p>React Testing Library - Para componentes React <pre><code>npm install --save-dev @testing-library/react @testing-library/jest-dom\n</code></pre></p> <pre><code>import { render, screen } from '@testing-library/react';\nimport AccountsPage from './accounts/page';\n\ntest('renders accounts page', () =&gt; {\n  render(&lt;AccountsPage /&gt;);\n  expect(screen.getByText('Cuentas')).toBeInTheDocument();\n});\n</code></pre>"},{"location":"TESTING/#e2e","title":"E2E","text":"<p>Playwright - Para tests end-to-end <pre><code>npm install --save-dev @playwright/test\n</code></pre></p> <pre><code>import { test, expect } from '@playwright/test';\n\ntest('crear cuenta funciona', async ({ page }) =&gt; {\n  await page.goto('http://localhost:3001/dashboard/accounts');\n  await page.click('text=Nueva Cuenta');\n  // ... continuar interacci\u00f3n\n});\n</code></pre>"},{"location":"TESTING/#plan-de-implementacion","title":"\ud83d\udcdd Plan de Implementaci\u00f3n","text":""},{"location":"TESTING/#fase-1-smoke-tests-1-2-horas","title":"Fase 1: Smoke Tests (1-2 horas)","text":"<pre><code>// backend/tests/smoke.test.js\nconst request = require('supertest');\nconst app = require('../src/app');\n\ndescribe('Smoke Tests', () =&gt; {\n  test('GET /health returns ok', async () =&gt; {\n    const res = await request(app).get('/health');\n    expect(res.status).toBe(200);\n    expect(res.body.status).toBe('ok');\n  });\n\n  test('GET /api/mantia/accounts returns 200', async () =&gt; {\n    const res = await request(app).get('/api/mantia/accounts');\n    expect(res.status).toBe(200);\n  });\n\n  test('GET /api/alacena/items returns 200', async () =&gt; {\n    const res = await request(app).get('/api/alacena/items');\n    expect(res.status).toBe(200);\n  });\n});\n</code></pre> <p>Ejecutar: <pre><code>npm test\n</code></pre></p>"},{"location":"TESTING/#fase-2-unit-tests-para-logica-2-4-horas","title":"Fase 2: Unit Tests para L\u00f3gica (2-4 horas)","text":"<pre><code>// backend/src/controllers/__tests__/AccountController.test.js\nconst AccountController = require('../AccountController');\n\ndescribe('AccountController', () =&gt; {\n  test('debe crear una cuenta v\u00e1lida', async () =&gt; {\n    const req = {\n      body: {\n        name: 'Test',\n        type: 'CASH',\n        initialBalance: 1000\n      }\n    };\n    const res = {\n      status: jest.fn(() =&gt; res),\n      json: jest.fn()\n    };\n\n    await AccountController.create(req, res);\n\n    expect(res.status).toHaveBeenCalledWith(201);\n    expect(res.json).toHaveBeenCalledWith(\n      expect.objectContaining({\n        name: 'Test',\n        currentBalance: 1000\n      })\n    );\n  });\n});\n</code></pre>"},{"location":"TESTING/#fase-3-integration-tests-4-6-horas","title":"Fase 3: Integration Tests (4-6 horas)","text":"<pre><code>// backend/tests/integration/mantia.test.js\ndescribe('Mantia Integration Tests', () =&gt; {\n  beforeAll(async () =&gt; {\n    // Limpiar base de datos de test\n    await prisma.mantia_Transaction.deleteMany();\n    await prisma.mantia_Account.deleteMany();\n  });\n\n  test('flujo completo: crear cuenta \u2192 transacci\u00f3n \u2192 balance actualizado', async () =&gt; {\n    // 1. Crear cuenta\n    const accountRes = await request(app)\n      .post('/api/mantia/accounts')\n      .send({ name: 'Test', type: 'CASH', initialBalance: 1000 });\n\n    const accountId = accountRes.body.id;\n\n    // 2. Crear gasto\n    await request(app)\n      .post('/api/mantia/transactions')\n      .send({\n        type: 'EXPENSE',\n        fromAccountId: accountId,\n        amount: 300\n      });\n\n    // 3. Verificar balance\n    const balanceRes = await request(app)\n      .get(`/api/mantia/accounts/${accountId}/balance`);\n\n    expect(balanceRes.body.currentBalance).toBe(700);\n  });\n});\n</code></pre>"},{"location":"TESTING/#fase-4-e2e-tests-criticos-6-8-horas","title":"Fase 4: E2E Tests Cr\u00edticos (6-8 horas)","text":"<pre><code>// tests/e2e/mantia-critical-flows.spec.js\nimport { test, expect } from '@playwright/test';\n\ntest.describe('Mantia Critical Flows', () =&gt; {\n  test('crear cuenta \u2192 ver en lista \u2192 crear transacci\u00f3n \u2192 ver balance actualizado', async ({ page }) =&gt; {\n    // Ir a Mantia\n    await page.goto('http://localhost:3001');\n\n    // Navegar a Cuentas\n    await page.click('text=Cuentas');\n\n    // Crear cuenta\n    await page.click('text=Nueva Cuenta');\n    await page.fill('input[name=\"name\"]', 'E2E Test Account');\n    await page.selectOption('select[name=\"type\"]', 'CASH');\n    await page.fill('input[name=\"initialBalance\"]', '5000');\n    await page.click('button:has-text(\"Crear\")');\n\n    // Verificar que aparece\n    await expect(page.locator('text=E2E Test Account')).toBeVisible();\n    await expect(page.locator('text=$5000.00')).toBeVisible();\n\n    // TODO: Continuar con transacci\u00f3n\n  });\n});\n</code></pre>"},{"location":"TESTING/#ejemplos-practicos","title":"\ud83d\udca1 Ejemplos Pr\u00e1cticos","text":""},{"location":"TESTING/#test-de-validacion","title":"Test de Validaci\u00f3n","text":"<pre><code>test('no permite crear cuenta sin nombre', async () =&gt; {\n  const response = await request(app)\n    .post('/api/mantia/accounts')\n    .send({ type: 'CASH' }); // Sin nombre\n\n  expect(response.status).toBe(400);\n  expect(response.body.error).toContain('Validation error');\n});\n</code></pre>"},{"location":"TESTING/#test-de-balance","title":"Test de Balance","text":"<pre><code>test('balance se actualiza correctamente con m\u00faltiples transacciones', async () =&gt; {\n  const account = await createAccount({ initialBalance: 1000 });\n\n  // Ingreso +500\n  await createTransaction({\n    type: 'INCOME',\n    toAccountId: account.id,\n    amount: 500\n  });\n\n  // Gasto -200\n  await createTransaction({\n    type: 'EXPENSE',\n    fromAccountId: account.id,\n    amount: 200\n  });\n\n  const updated = await getAccount(account.id);\n  expect(updated.currentBalance).toBe(1300); // 1000 + 500 - 200\n});\n</code></pre>"},{"location":"TESTING/#test-de-presupuesto","title":"Test de Presupuesto","text":"<pre><code>test('presupuesto detecta cuando se excede el l\u00edmite', async () =&gt; {\n  const category = await createCategory({ name: 'Comida' });\n  const budget = await createBudget({\n    categoryId: category.id,\n    amount: 1000,\n    period: 'MONTHLY',\n    startDate: new Date('2026-01-01')\n  });\n\n  // Gastar $1200 (excede $1000)\n  await createTransaction({\n    categoryId: category.id,\n    type: 'EXPENSE',\n    amount: 1200\n  });\n\n  const updated = await getBudget(budget.id);\n  expect(updated.isOverBudget).toBe(true);\n  expect(updated.percentage).toBeGreaterThan(100);\n});\n</code></pre>"},{"location":"TESTING/#recursos","title":"\ud83d\udcda Recursos","text":""},{"location":"TESTING/#tutoriales","title":"Tutoriales","text":"<ul> <li>Jest: https://jestjs.io/docs/getting-started</li> <li>React Testing Library: https://testing-library.com/docs/react-testing-library/intro</li> <li>Playwright: https://playwright.dev/docs/intro</li> <li>Supertest: https://github.com/visionmedia/supertest</li> </ul>"},{"location":"TESTING/#best-practices","title":"Best Practices","text":"<ol> <li> <p>AAA Pattern - Arrange, Act, Assert    <pre><code>test('ejemplo', () =&gt; {\n  // Arrange - preparar datos\n  const data = { name: 'Test' };\n\n  // Act - ejecutar acci\u00f3n\n  const result = processData(data);\n\n  // Assert - verificar resultado\n  expect(result).toBe('processed');\n});\n</code></pre></p> </li> <li> <p>Tests aislados - Cada test debe poder correr independientemente</p> </li> <li>Nombres descriptivos - <code>test('crea cuenta con balance inicial')</code> mejor que <code>test('test1')</code></li> <li>Cleanup - Limpiar datos despu\u00e9s de cada test</li> <li>Mocks - Usar mocks para dependencias externas (APIs, DB)</li> </ol>"},{"location":"TESTING/#checklist-de-testing","title":"\u2705 Checklist de Testing","text":""},{"location":"TESTING/#para-cada-feature-nueva","title":"Para cada Feature Nueva","text":"<ul> <li> \u00bfHay unit tests para la l\u00f3gica?</li> <li> \u00bfHay integration test para el flujo completo?</li> <li> \u00bfSe prob\u00f3 manualmente en navegador?</li> <li> \u00bfFunciona con datos reales?</li> <li> \u00bfFunciona con datos vac\u00edos?</li> <li> \u00bfManeja errores correctamente?</li> <li> \u00bfLos mensajes de error son claros?</li> </ul>"},{"location":"TESTING/#antes-de-deploy","title":"Antes de Deploy","text":"<ul> <li> Todos los tests pasan (<code>npm test</code>)</li> <li> Smoke tests OK</li> <li> Probado en localhost</li> <li> Revisado en staging (si existe)</li> <li> Rollback plan definido</li> </ul>"},{"location":"TESTING/#proximos-pasos","title":"\ud83d\ude80 Pr\u00f3ximos Pasos","text":""},{"location":"TESTING/#corto-plazo-esta-semana","title":"Corto Plazo (Esta semana)","text":"<ol> <li>\u2705 Crear gu\u00eda de testing (este documento)</li> <li>\u23f3 Instalar Jest y configurar</li> <li>\u23f3 Escribir primeros smoke tests</li> <li>\u23f3 Documentar proceso de testing manual</li> </ol>"},{"location":"TESTING/#mediano-plazo-proximas-2-semanas","title":"Mediano Plazo (Pr\u00f3ximas 2 semanas)","text":"<ol> <li>\u23f3 Unit tests para controllers cr\u00edticos</li> <li>\u23f3 Integration tests para flujos de Mantia</li> <li>\u23f3 CI/CD con GitHub Actions (tests autom\u00e1ticos en cada push)</li> </ol>"},{"location":"TESTING/#largo-plazo-proximo-mes","title":"Largo Plazo (Pr\u00f3ximo mes)","text":"<ol> <li>\u23f3 E2E tests con Playwright</li> <li>\u23f3 Coverage m\u00ednimo 70%</li> <li>\u23f3 Tests de performance</li> <li>\u23f3 Tests de seguridad</li> </ol> <p>Recuerda: Testing es una inversi\u00f3n. Al principio parece lento, pero a largo plazo ahorra MUCHO tiempo y dolores de cabeza. </p> <p>Empieza peque\u00f1o: No necesitas 100% coverage desde d\u00eda 1. Empieza con smoke tests, luego agrega tests para features cr\u00edticas.</p>"},{"location":"faq/","title":"\u2753 Preguntas Frecuentes (FAQ)","text":"<p>Respuestas r\u00e1pidas a las preguntas m\u00e1s comunes sobre ECO.</p>"},{"location":"faq/#general-vision","title":"\ud83c\udfaf General / Visi\u00f3n","text":""},{"location":"faq/#que-es-eco","title":"\u00bfQu\u00e9 es ECO?","text":"<p>ECO es un sistema personal de gesti\u00f3n dom\u00e9stica modular dise\u00f1ado para:</p> <ul> <li>Descargar tu mente: Nada cr\u00edtico solo en memoria</li> <li>Mantener historial: Todo evento dom\u00e9stico trazable</li> <li>Asistir progresivamente: El sistema aprende de tu uso</li> </ul> <p>No es...</p> <ul> <li>\u274c Un ERP empresarial complejo</li> <li>\u274c Un asistente IA completo (sin procesamiento lenguaje natural avanzado)</li> <li>\u274c Una app de productividad gen\u00e9rica</li> </ul>"},{"location":"faq/#por-que-eco","title":"\u00bfPor qu\u00e9 \"ECO\"?","text":"<p>ECO representa: - Ecosistema dom\u00e9stico integrado - Ecol\u00f3gico en t\u00e9rminos de simplicidad y sostenibilidad - Acr\u00f3nimo de los m\u00f3dulos: **E**COSALUD, **C**asa (HUESHA), **O**rganizaci\u00f3n (MANTIA)</p>"},{"location":"faq/#es-un-proyecto-open-source","title":"\u00bfEs un proyecto open source?","text":"<p>No actualmente. Es un proyecto personal documentado profesionalmente para: - Continuidad en caso de pausas - Onboarding de colaboradores futuros si se requiere - Referencia para otros proyectos similares</p>"},{"location":"faq/#modulos-y-funcionalidad","title":"\ud83e\udde9 M\u00f3dulos y Funcionalidad","text":""},{"location":"faq/#cuantos-modulos-tiene-eco","title":"\u00bfCu\u00e1ntos m\u00f3dulos tiene ECO?","text":"<p>5 m\u00f3dulos planificados:</p> M\u00f3dulo Estado Descripci\u00f3n ALACENA \u2705 Activo Inventario dom\u00e9stico, stock y movimientos MANTIA \ud83d\udccb Planificado Tareas y mantenimiento del hogar ECOSALUD \ud83d\udccb Planificado Registro de salud y bienestar HUESHA \ud83d\udcad Futuro Gesti\u00f3n de espacios f\u00edsicos FINANCIA \ud83d\udcad Futuro Gesti\u00f3n financiera dom\u00e9stica <p>Transversal: Lista de Compras (alimentada por todos los m\u00f3dulos)</p>"},{"location":"faq/#que-hace-alacena-exactamente","title":"\u00bfQu\u00e9 hace ALACENA exactamente?","text":"<p>ALACENA gestiona tu inventario dom\u00e9stico:</p> <ul> <li>\u2705 Registro de items: Alimentos, productos, insumos</li> <li>\u2705 Control de stock: Cantidades, unidades, ubicaciones (estantes, frascos)</li> <li>\u2705 Movimientos: Compras, consumos, ajustes, vencimientos</li> <li>\u2705 Historial completo: Qui\u00e9n, qu\u00e9, cu\u00e1ndo, cu\u00e1nto</li> <li>\u2705 Categorizaci\u00f3n: Por tipo, ubicaci\u00f3n, fecha de vencimiento</li> </ul> <p>Ejemplo de uso:</p> <p>\"Compr\u00e9 2kg de arroz \u2192 lo guard\u00e9 en Frasco-003 \u2192 consum\u00ed 500g para una receta \u2192 s\u00e9 que me quedan 1.5kg y cu\u00e1ndo lo compr\u00e9\"</p>"},{"location":"faq/#mantia-es-como-todoist","title":"\u00bfMANTIA es como Todoist?","text":"<p>No exactamente. MANTIA se enfoca en tareas del hogar con periodicidad y historial:</p> MANTIA Todoist/Apps gen\u00e9ricas \u2705 Tareas con historial de ejecuciones Marcar como hecho y olvidar \u2705 Periodicidad inteligente (cada X d\u00edas desde \u00faltima ejecuci\u00f3n) Repetici\u00f3n por fecha fija \u2705 Asociado a contextos (habitaci\u00f3n, electrodom\u00e9stico) Listas gen\u00e9ricas \u2705 M\u00e9tricas de mantenimiento (frecuencia real vs planificada) Sin an\u00e1lisis <p>Ejemplo:</p> <p>\"Cambiar filtro de cafetera cada 100 usos \u2192 registro cada vez que lo cambio \u2192 veo historial de cu\u00e1ndo y qui\u00e9n lo hizo \u2192 el sistema me avisa cuando se acerca\"</p>"},{"location":"faq/#como-funciona-la-lista-de-compras-transversal","title":"\u00bfC\u00f3mo funciona la Lista de Compras transversal?","text":"<p>La Lista de Compras se alimenta autom\u00e1ticamente desde otros m\u00f3dulos:</p> <ul> <li>Desde ALACENA: \"Stock bajo de caf\u00e9\" \u2192 Agrega a lista</li> <li>Desde MANTIA: \"Necesito detergente para limpiar horno\" \u2192 Agrega a lista</li> <li>Desde ECOSALUD: \"Se acabaron las vitaminas\" \u2192 Agrega a lista</li> <li>Manual: Tambi\u00e9n puedes agregar items directamente</li> </ul> <p>Ventaja: Una sola lista centralizada, no dispersa en cada m\u00f3dulo.</p>"},{"location":"faq/#arquitectura-y-tecnologia","title":"\ud83c\udfd7\ufe0f Arquitectura y Tecnolog\u00eda","text":""},{"location":"faq/#que-stack-tecnologico-usa-eco","title":"\u00bfQu\u00e9 stack tecnol\u00f3gico usa ECO?","text":"<p>Frontend: - Next.js 14 + React + TypeScript - Tailwind CSS + shadcn/ui - Desplegado en Vercel</p> <p>Backend: - Node.js + Express + Prisma ORM - PostgreSQL (Supabase) - Desplegado en Fly.io</p> <p>Infraestructura: - Auth: Supabase Auth - Media: Cloudinary - Docs: MkDocs Material (GitHub Pages)</p> <p>Ver detalles en Inventario AS-IS.</p>"},{"location":"faq/#por-que-no-usar-microservicios","title":"\u00bfPor qu\u00e9 no usar microservicios?","text":"<p>ADR-001: Monolito modular es suficiente para un proyecto personal/familiar.</p> <p>Razones: - \u2705 Simplicidad de deploy y debug - \u2705 Menos overhead operacional - \u2705 C\u00f3digo modular pero en un solo repo - \u2705 Performance: menos latencia entre m\u00f3dulos</p> <p>Cu\u00e1ndo reconsiderar: Si se escala a m\u00faltiples hogares con alta concurrencia (no es el objetivo).</p>"},{"location":"faq/#supabase-free-tier-es-suficiente","title":"\u00bfSupabase free tier es suficiente?","text":"<p>Para MVP y uso personal: S\u00cd.</p> <p>L\u00edmites free tier Supabase: - 500 MB storage - 2 GB transferencia/mes - Pausa despu\u00e9s de 7 d\u00edas inactividad</p> <p>Mitigaci\u00f3n: - Media (fotos) en Cloudinary (no en DB) - Backend hace warmup autom\u00e1tico - Upgrade a Pro ($25/mes) si escala</p> <p>Ver ADR-006.</p>"},{"location":"faq/#hay-app-movil-nativa","title":"\u00bfHay app m\u00f3vil nativa?","text":"<p>No. ECO es web-first con responsive mobile (ADR-008).</p> <p>Razones: - \u2705 Desarrollo m\u00e1s r\u00e1pido (un c\u00f3digo para web + mobile) - \u2705 Sin dependencia de App Store/Play Store - \u2705 Actualizaciones instant\u00e1neas - \u2705 PWA permite instalaci\u00f3n en home screen</p> <p>Cu\u00e1ndo reconsiderar: Si se requieren features nativas (notificaciones push, c\u00e1mara avanzada).</p>"},{"location":"faq/#planificacion-y-roadmap","title":"\ud83d\udcc5 Planificaci\u00f3n y Roadmap","text":""},{"location":"faq/#cuando-estara-listo-el-mvp","title":"\u00bfCu\u00e1ndo estar\u00e1 listo el MVP?","text":"<p>Sprint 1 cierra: 23 Febrero 2026</p> <p>Alcance MVP: - \u2705 ALACENA operable (crear items, movimientos, ver stock) - \u2705 Autenticaci\u00f3n b\u00e1sica (email/password) - \u2705 Multi-tenancy por hogar - \u2705 Deploy en producci\u00f3n (Vercel + Fly.io) - \u2705 Documentaci\u00f3n b\u00e1sica</p> <p>Ver Roadmap Sprint 1.</p>"},{"location":"faq/#que-viene-despues-del-mvp","title":"\u00bfQu\u00e9 viene despu\u00e9s del MVP?","text":"<p>Q1 2026 (Post-Sprint 1): - Sprint 2: MANTIA b\u00e1sico (tareas con periodicidad) - Sprint 3: Lista de Compras transversal</p> <p>Q2 2026: - ECOSALUD b\u00e1sico (registro de salud) - Mejoras UX (b\u00fasqueda, filtros, gr\u00e1ficos) - Testing end-to-end</p> <p>Ver Roadmap completo.</p>"},{"location":"faq/#como-se-priorizan-las-funcionalidades","title":"\u00bfC\u00f3mo se priorizan las funcionalidades?","text":"<p>Criterios de priorizaci\u00f3n:</p> <ol> <li>Valor para usuario: Descargar mente &gt; Automatizar</li> <li>Simplicidad de implementaci\u00f3n: Quick wins primero</li> <li>Dependencias t\u00e9cnicas: No bloquear sprints futuros</li> <li>Feedback de uso: Ajustar seg\u00fan patrones reales</li> </ol> <p>Ver Backlog Maestro.</p>"},{"location":"faq/#uso-y-configuracion","title":"\ud83d\udd27 Uso y Configuraci\u00f3n","text":""},{"location":"faq/#como-empiezo-a-usar-eco","title":"\u00bfC\u00f3mo empiezo a usar ECO?","text":"<p>Opci\u00f3n 1: Usar producci\u00f3n (m\u00e1s f\u00e1cil)</p> <ol> <li>Abre alacena-blush.vercel.app</li> <li>Reg\u00edstrate con email/password</li> <li>Crea tu primer item en ALACENA</li> <li>Registra un movimiento (compra, consumo)</li> </ol> <p>Opci\u00f3n 2: Setup local (desarrollo)</p> <p>Ver Getting Started - Developer.</p>"},{"location":"faq/#puedo-usarlo-con-mi-familia","title":"\u00bfPuedo usarlo con mi familia?","text":"<p>S\u00cd. ECO tiene multi-tenancy por hogar.</p> <p>C\u00f3mo: 1. Un miembro crea el hogar (household) 2. Invita a otros miembros por email (Sprint 2) 3. Todos ven el mismo inventario/tareas 4. Cada acci\u00f3n registra qui\u00e9n la hizo</p> <p>Permisos: Admin (due\u00f1o) vs. Miembro (lectura/escritura pero sin admin)</p>"},{"location":"faq/#como-migro-mis-datos-actuales","title":"\u00bfC\u00f3mo migro mis datos actuales?","text":"<p>Sprint 1 (MVP): No hay importaci\u00f3n autom\u00e1tica.</p> <p>Opciones: - \u2705 Manual: Registra items uno por uno (recomendado para empezar) - \ud83d\udccb Backfill script: Script Python para importar CSV (Sprint 2) - \ud83d\udccb API endpoint: POST /bulk-import (Sprint 3)</p> <p>Consejo: Empieza con items cr\u00edticos (no es necesario migrar TODO desde d\u00eda 1).</p>"},{"location":"faq/#puedo-exportar-mis-datos","title":"\u00bfPuedo exportar mis datos?","text":"<p>Sprint 1: No implementado a\u00fan.</p> <p>Roadmap: - Sprint 2: Export a CSV/JSON (por m\u00f3dulo) - Sprint 3: Backup completo (DB dump)</p> <p>Mientras tanto: Todos los datos est\u00e1n en PostgreSQL (Supabase), acceso con <code>pg_dump</code>.</p>"},{"location":"faq/#privacidad-y-seguridad","title":"\ud83d\udd12 Privacidad y Seguridad","text":""},{"location":"faq/#mis-datos-estan-seguros","title":"\u00bfMis datos est\u00e1n seguros?","text":"<p>S\u00cd. Medidas de seguridad:</p> <ul> <li>\u2705 Auth: Supabase Auth (bcrypt hashing)</li> <li>\u2705 HTTPS: Tr\u00e1fico encriptado (Vercel + Fly.io)</li> <li>\u2705 Aislamiento: Multi-tenancy (cada hogar ve solo sus datos)</li> <li>\u2705 Backups: PostgreSQL backups autom\u00e1ticos (Supabase)</li> </ul> <p>NO hay: - \u274c Tracking de terceros (Google Analytics, Facebook Pixel) - \u274c Venta de datos - \u274c Acceso sin autenticaci\u00f3n</p>"},{"location":"faq/#quien-tiene-acceso-a-mis-datos","title":"\u00bfQui\u00e9n tiene acceso a mis datos?","text":"<p>Solo t\u00fa y tu hogar.</p> <ul> <li>Admin del hogar: Acceso completo</li> <li>Miembros del hogar: Acceso seg\u00fan permisos</li> <li>Maintainer (Fran): Solo para debug con consentimiento</li> </ul> <p>No hay acceso externo (no compartimos con terceros).</p>"},{"location":"faq/#que-pasa-si-dejan-el-proyecto","title":"\u00bfQu\u00e9 pasa si dejan el proyecto?","text":"<p>Tranquilidad: - \u2705 C\u00f3digo: GitHub repositorio privado (puedes hacer fork) - \u2705 Datos: Export a CSV/JSON (cuando est\u00e9 implementado) - \u2705 DB: Puedes migrar PostgreSQL a otro host - \u2705 Docs: Esta documentaci\u00f3n te permite continuar</p> <p>Objetivo: No crear dependencia absoluta, eres due\u00f1o de tus datos.</p>"},{"location":"faq/#problemas-y-troubleshooting","title":"\ud83d\udc1b Problemas y Troubleshooting","text":""},{"location":"faq/#el-backend-no-responde-500-error","title":"El backend no responde (500 error)","text":"<p>Causa com\u00fan: Supabase paus\u00f3 la DB por inactividad (free tier).</p> <p>Soluci\u00f3n: 1. Abre Supabase Dashboard 2. Restaura el proyecto (bot\u00f3n \"Restore\") 3. Espera 2-3 minutos 4. Vuelve a intentar</p> <p>Ver Troubleshooting.</p>"},{"location":"faq/#no-puedo-hacer-login","title":"No puedo hacer login","text":"<p>Checklist: 1. \u2705 \u00bfEmail y password correctos? 2. \u2705 \u00bfVerificaste el email? (check spam) 3. \u2705 \u00bfEl backend est\u00e1 activo? (ver arriba) 4. \u2705 \u00bfConsole del navegador muestra errores?</p> <p>Si persiste: Abre issue en GitHub.</p>"},{"location":"faq/#la-app-esta-lenta","title":"La app est\u00e1 lenta","text":"<p>Posibles causas: - Supabase free tier: Warmup despu\u00e9s de inactividad (2-3 segundos primer request) - Fly.io: Shared CPU puede ser lento en picos - Cloudinary: Im\u00e1genes grandes sin optimizar</p> <p>Mitigaci\u00f3n: - Sprint 2: Implementar cache (Redis) - Sprint 3: Upgrade a Supabase Pro si escala</p>"},{"location":"faq/#como-reporto-un-bug","title":"\u00bfC\u00f3mo reporto un bug?","text":"<p>GitHub Issues: 1. Abre nuevo issue 2. Usa template <code>[BUG]</code> 3. Incluye:    - Pasos para reproducir    - Comportamiento esperado vs. actual    - Screenshots si aplica    - Browser/Device</p> <p>Respuesta: Dentro de 48-72 horas.</p>"},{"location":"faq/#documentacion-y-aprendizaje","title":"\ud83d\udcda Documentaci\u00f3n y Aprendizaje","text":""},{"location":"faq/#donde-esta-la-documentacion-tecnica","title":"\u00bfD\u00f3nde est\u00e1 la documentaci\u00f3n t\u00e9cnica?","text":"<p>Diferentes niveles:</p> Nivel Documento Visi\u00f3n y contexto Contexto General Funcional y t\u00e9cnico Documento Funcional Arquitectura ADRs, Modelo de Datos Planificaci\u00f3n Backlog, Roadmap Procedimientos Procedimientos Quick reference Cheatsheet"},{"location":"faq/#hay-tutoriales-en-video","title":"\u00bfHay tutoriales en video?","text":"<p>No a\u00fan. Roadmap: - Sprint 2: Video demo de ALACENA (5 min) - Sprint 3: Walkthrough completo (15 min)</p>"},{"location":"faq/#como-busco-en-la-documentacion","title":"\u00bfC\u00f3mo busco en la documentaci\u00f3n?","text":"<p>Atajo: <code>Ctrl</code> + <code>K</code> (Windows/Linux) o <code>Cmd</code> + <code>K</code> (Mac)</p> <p>Abre la b\u00fasqueda r\u00e1pida de MkDocs.</p>"},{"location":"faq/#contribucion-y-comunidad","title":"\ud83e\udd1d Contribuci\u00f3n y Comunidad","text":""},{"location":"faq/#puedo-contribuir-al-proyecto","title":"\u00bfPuedo contribuir al proyecto?","text":"<p>Por ahora: No activamente (proyecto personal).</p> <p>Pero puedes: - \u2705 Reportar bugs (GitHub Issues) - \u2705 Sugerir features (GitHub Discussions) - \u2705 Compartir feedback de uso</p> <p>Futuro: Si el proyecto crece, se abrir\u00e1 a contribuciones externas.</p>"},{"location":"faq/#hay-roadmap-publico","title":"\u00bfHay roadmap p\u00fablico?","text":"<p>S\u00cd: Roadmap Q1-Q2 2026</p> <p>Se actualiza cada sprint con decisiones tomadas.</p>"},{"location":"faq/#como-me-entero-de-novedades","title":"\u00bfC\u00f3mo me entero de novedades?","text":"<p>Canales: - \ud83d\udce2 Announcement bar en esta documentaci\u00f3n (arriba) - \ud83d\udcdd Libro de Sesiones: Minutas - \ud83d\udc19 GitHub Releases: (cuando se implemente versioning)</p>"},{"location":"faq/#casos-de-uso-y-mejores-practicas","title":"\ud83d\udca1 Casos de Uso y Mejores Pr\u00e1cticas","text":""},{"location":"faq/#para-quien-es-eco","title":"\u00bfPara qui\u00e9n es ECO?","text":"<p>Ideal para: - \ud83c\udfe0 Individuos/familias que quieren organizar su hogar - \ud83e\udde0 Personas que olvidan cosas (d\u00f3nde guard\u00e9 X, cu\u00e1ndo compr\u00e9 Y) - \ud83d\udcca Data-driven people que quieren historial y m\u00e9tricas - \ud83c\udf31 Minimalistas que prefieren simplicidad sobre muchas features</p> <p>NO ideal para: - \ud83c\udfe2 Negocios (no es ERP) - \ud83d\udc65 Comunidades grandes (multi-tenancy limitado) - \ud83e\udd16 Personas que quieren IA avanzada desde d\u00eda 1</p>"},{"location":"faq/#cuanto-tiempo-lleva-configurar-eco-inicialmente","title":"\u00bfCu\u00e1nto tiempo lleva configurar ECO inicialmente?","text":"<p>Primera sesi\u00f3n: 10-15 minutos - Registro (2 min) - Crear hogar (1 min) - Agregar primeros 5-10 items (7-12 min)</p> <p>Uso continuo: 2-5 minutos/d\u00eda - Registrar movimientos (consumos, compras) - Revisar lista de compras - Marcar tareas completadas (cuando MANTIA est\u00e9 activo)</p>"},{"location":"faq/#que-estrategia-recomiendan-para-empezar","title":"\u00bfQu\u00e9 estrategia recomiendan para empezar?","text":"<p>Enfoque: Incremental, no big bang</p> <ol> <li>Semana 1: Solo ALACENA</li> <li>Registra items cr\u00edticos (caf\u00e9, arroz, detergente)</li> <li> <p>Anota movimientos seg\u00fan uses</p> </li> <li> <p>Semana 2: Expande inventario</p> </li> <li>Agrega m\u00e1s items seg\u00fan los vas usando</li> <li> <p>Prueba categor\u00edas y ubicaciones</p> </li> <li> <p>Semana 3+: Optimiza</p> </li> <li>Revisa qu\u00e9 funciona y qu\u00e9 no</li> <li>Ajusta proceso seg\u00fan tu rutina</li> </ol> <p>NO intentes: Migrar todo tu inventario desde d\u00eda 1 (abrumador).</p>"},{"location":"faq/#futuro-y-vision","title":"\ud83d\udd2e Futuro y Visi\u00f3n","text":""},{"location":"faq/#habra-version-movil-nativa","title":"\u00bfHabr\u00e1 versi\u00f3n m\u00f3vil nativa?","text":"<p>No en roadmap Q1-Q2 2026.</p> <p>Raz\u00f3n: Web responsive es suficiente para MVP.</p> <p>Reconsiderar: Solo si se requieren features nativas espec\u00edficas (ej: escaneo de c\u00f3digos de barras avanzado, notificaciones push cr\u00edticas).</p>"},{"location":"faq/#agregaran-integracion-con-x-servicio","title":"\u00bfAgregar\u00e1n integraci\u00f3n con X servicio?","text":"<p>Evaluamos caso por caso.</p> <p>Integraciones potenciales: - \ud83d\udce7 Email (notificaciones programadas) - \ud83d\udcf1 WhatsApp (alertas de stock bajo) - \ud83d\uded2 Supermercados online (importar compras)</p> <p>Criterio: Debe agregar valor real sin complicar la UX.</p>"},{"location":"faq/#el-nombre-alacena-se-mantendra","title":"\u00bfEl nombre \"ALACENA\" se mantendr\u00e1?","text":"<p>Posiblemente cambie.</p> <ul> <li>ALACENA: M\u00f3dulo de inventario (definitivo)</li> <li>ECO: Sistema completo (definitivo)</li> <li>Subdominio actual: <code>alacena-blush.vercel.app</code> \u2192 Podr\u00eda ser <code>eco.app</code> o <code>eco-home.app</code> en futuro</li> </ul>"},{"location":"faq/#mas-preguntas","title":"\u2753 M\u00e1s Preguntas","text":"<p>\u00bfTu pregunta no est\u00e1 aqu\u00ed?</p> <ol> <li>Busca en la documentaci\u00f3n (<code>Ctrl/Cmd + K</code>)</li> <li>Revisa el Glosario (t\u00e9rminos t\u00e9cnicos)</li> <li>Consulta Libro de Sesiones (decisiones pasadas)</li> <li>Abre un issue en GitHub</li> </ol> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Contribuciones: \u00bfFalta una pregunta importante? Prop\u00f3nla en GitHub Issues.</p>"},{"location":"getting-started/","title":"\ud83d\ude80 Getting Started - Gu\u00eda de Inicio","text":"<p>\u00a1Bienvenido a ECO! Esta gu\u00eda te ayudar\u00e1 a entender y usar el sistema seg\u00fan tu rol.</p>"},{"location":"getting-started/#tu-primera-sesion-5-minutos","title":"\u23f1\ufe0f Tu Primera Sesi\u00f3n (5 minutos)","text":"<p>Objetivo: Entender qu\u00e9 es ECO y qu\u00e9 puede hacer por ti.</p> <ol> <li>Lee el Contexto General (2 min)</li> <li>Visi\u00f3n: Sistema modular para gesti\u00f3n dom\u00e9stica</li> <li>Principios: Registro &gt; Automatizaci\u00f3n, Historial primero</li> <li> <p>L\u00edmites: No es ERP, no es asistente IA completo</p> </li> <li> <p>Revisa los M\u00f3dulos en el Index (2 min)</p> </li> <li>ALACENA: Inventario dom\u00e9stico</li> <li>MANTIA: Tareas del hogar</li> <li>ECOSALUD: Registro de salud</li> <li> <p>Lista de Compras: Transversal</p> </li> <li> <p>Explora el Roadmap (1 min)</p> </li> <li>Sprint 0 (actual): Documentaci\u00f3n</li> <li>Sprint 1: MVP operable</li> <li>Q1-Q2 2026: Expansi\u00f3n</li> </ol>"},{"location":"getting-started/#guias-por-rol","title":"\ud83d\udc65 Gu\u00edas por Rol","text":"<p>Selecciona tu rol para una gu\u00eda personalizada:</p> \ud83c\udfe2 Product Manager / Stakeholder\ud83d\udcbb Developer / Ingeniero\ud83c\udfa8 UX/UI Designer\ud83e\uddea QA / Tester"},{"location":"getting-started/#objetivo","title":"Objetivo","text":"<p>Entender visi\u00f3n, alcance, planificaci\u00f3n y tomar decisiones estrat\u00e9gicas.</p>"},{"location":"getting-started/#ruta-recomendada-30-minutos","title":"Ruta Recomendada (30 minutos)","text":"<p>Paso 1: Contexto y Visi\u00f3n (10 min)</p> <ul> <li>\u2705 Contexto General \u2192 Visi\u00f3n, principios, l\u00edmites</li> <li>\u2705 Documento Funcional - Secci\u00f3n 1 \u2192 Principios detallados</li> </ul> <p>Key Takeaway</p> <p>ECO es registro-first. No competimos con apps sofisticadas, sino con notas dispersas y memoria vol\u00e1til.</p> <p>Paso 2: Planificaci\u00f3n y Alcance (12 min)</p> <ul> <li>\ud83d\udccb Backlog Maestro \u2192 5 \u00e9picas, 23 user stories</li> <li>\ud83d\uddd3\ufe0f Roadmap Q1-Q2 2026 \u2192 Sprints 0-3</li> <li>\ud83c\udfaf Sprints - DoR/DoD \u2192 Definiciones de completitud</li> </ul> <p>\u00bfQu\u00e9 revisar?</p> <ul> <li>\u00bfEl alcance del Sprint 1 es realista?</li> <li>\u00bfLas \u00e9picas est\u00e1n priorizadas correctamente?</li> <li>\u00bfFaltan user stories cr\u00edticas?</li> </ul> <p>Paso 3: Decisiones Arquitecturales (8 min)</p> <ul> <li>\ud83c\udfdb\ufe0f ADRs \u2192 8 decisiones clave (monolito, multi-tenancy, auth, etc.)</li> <li>\ud83d\udcca Modelo de Datos \u2192 Entidades y relaciones</li> </ul> <p>ADR Cr\u00edticas a Validar</p> <ul> <li>ADR-001: \u00bfMonolito modular es sostenible?</li> <li>ADR-002: \u00bfMulti-tenancy por hogar es suficiente?</li> <li>ADR-006: \u00bfSupabase free tier aguanta MVP?</li> </ul> <p>Paso 4: Seguimiento (continuo)</p> <ul> <li>\ud83d\udcdd Libro de Sesiones \u2192 Minutas y decisiones de cada sesi\u00f3n</li> <li>\ud83d\udcc8 Index - Estado del Proyecto \u2192 Sprint actual y progreso</li> </ul>"},{"location":"getting-started/#preguntas-frecuentes-pm","title":"Preguntas Frecuentes (PM)","text":"\u00bfCu\u00e1ndo estar\u00e1 listo el MVP? <p>Sprint 1 cierra 23 Feb 2026. Incluye ALACENA operable + autenticaci\u00f3n + deploy.</p> \u00bfCu\u00e1l es el ROI de este proyecto? <p>Ahorro de tiempo: 15-30 min/d\u00eda en b\u00fasquedas, listas de compras, recordatorios. Valor psicol\u00f3gico: Descarga mental, historial completo, toma de decisiones informada.</p> \u00bfC\u00f3mo se prioriza el backlog? <p>Criterios: 1. Valor para usuario (descargar mente &gt; automatizar) 2. Simplicidad implementaci\u00f3n 3. Dependencias t\u00e9cnicas</p>"},{"location":"getting-started/#objetivo_1","title":"Objetivo","text":"<p>Configurar entorno, entender arquitectura y hacer tu primer cambio.</p>"},{"location":"getting-started/#ruta-recomendada-45-minutos","title":"Ruta Recomendada (45 minutos)","text":"<p>Paso 1: Arquitectura y Stack (15 min)</p> <ul> <li>\ud83c\udfd7\ufe0f Documento Funcional - Arquitectura \u2192 Stack y diagramas</li> <li>\ud83c\udfdb\ufe0f ADRs \u2192 Decisiones t\u00e9cnicas (monolito, ORM, auth)</li> <li>\ud83d\udcca Modelo de Datos \u2192 Schema Prisma + Mermaid ER</li> <li>\ud83d\udd27 Inventario AS-IS \u2192 URLs, secretos, endpoints</li> </ul> <p>Stack R\u00e1pido</p> <p>Frontend: Next.js 14 + React + Tailwind (Vercel) Backend: Node.js + Express + Prisma (Fly.io) DB: PostgreSQL (Supabase) Auth: Supabase Auth Media: Cloudinary</p> <p>Paso 2: Setup Local (15 min)</p> <pre><code># Clone repo\ngit clone https://github.com/falberio/eco.git\ncd eco\n\n# Backend setup\ncd backend\nnpm install\ncp .env.example .env\n# Edita .env con DATABASE_URL de Supabase\nnpx prisma migrate dev\nnpx prisma db seed\nnpm run dev\n\n# Frontend setup (otra terminal)\ncd ../frontend/alacena-app\nnpm install\ncp .env.local.example .env.local\n# Edita .env.local con NEXT_PUBLIC_API_URL\nnpm run dev\n</code></pre> <p>Ver detalles en Procedimientos - Setup.</p> <p>Paso 3: Tu Primer Cambio (15 min)</p> <ol> <li>Lee el Cheatsheet \u2192 Comandos frecuentes</li> <li>Escoge una tarea del Backlog Sprint 1</li> <li>Crea branch: <code>git checkout -b feature/ALACENA-XX-descripcion</code></li> <li>Implementa siguiendo Procedimientos</li> <li>Commit sem\u00e1ntico: <code>feat(alacena): descripci\u00f3n del cambio</code></li> </ol> <p>Convenciones</p> <ul> <li>Commits: Conventional Commits (<code>feat:</code>, <code>fix:</code>, <code>docs:</code>)</li> <li>Branches: <code>feature/</code>, <code>bugfix/</code>, <code>docs/</code></li> <li>PRs: Title = commit message, descripci\u00f3n = contexto + screenshots</li> </ul>"},{"location":"getting-started/#preguntas-frecuentes-dev","title":"Preguntas Frecuentes (Dev)","text":"\u00bfC\u00f3mo debuggear el backend en Fly.io? <pre><code>fly logs -a alacena-backend\nfly ssh console -a alacena-backend\n</code></pre> \u00bfD\u00f3nde est\u00e1 la documentaci\u00f3n de la API? <p>TO-DO: Falta OpenAPI/Swagger. Por ahora revisa: - <code>backend/src/routes/</code> \u2192 Express routes - <code>backend/src/controllers/</code> \u2192 Controladores - <code>backend/prisma/schema.prisma</code> \u2192 Modelo de datos</p> \u00bfC\u00f3mo correr tests? <pre><code># Backend\ncd backend\nnpm test\n\n# Frontend\ncd frontend/alacena-app\nnpm test\n</code></pre> <p>Nota: Suite de tests en construcci\u00f3n (Sprint 1).</p>"},{"location":"getting-started/#objetivo_2","title":"Objetivo","text":"<p>Entender flujos, patrones UX y sistema de dise\u00f1o.</p>"},{"location":"getting-started/#ruta-recomendada-30-minutos_1","title":"Ruta Recomendada (30 minutos)","text":"<p>Paso 1: Visi\u00f3n y Principios (10 min)</p> <ul> <li>\ud83d\udcd6 Contexto General \u2192 Entender visi\u00f3n de producto</li> <li>\ud83e\udde9 Documento Funcional - M\u00f3dulos \u2192 ALACENA, MANTIA, ECOSALUD</li> </ul> <p>Filosof\u00eda UX</p> <ol> <li>Mobile-first pero web-ready (ADR-008)</li> <li>Registro r\u00e1pido &gt; Automatizaci\u00f3n compleja</li> <li>Historial visible &gt; Dashboard sofisticado</li> <li>Estados vac\u00edos informativos (gu\u00edan al usuario)</li> </ol> <p>Paso 2: Flujos y Patrones (15 min)</p> <ul> <li>\ud83c\udfa8 UX &amp; Navegaci\u00f3n \u2192 Flujos completos de cada m\u00f3dulo</li> <li>\ud83d\udcf1 Ver secciones:<ul> <li>Flujo ALACENA (captura r\u00e1pida, movimientos, stock)</li> <li>Flujo MANTIA (crear tarea, registrar ejecuci\u00f3n, periodicidad)</li> <li>Flujo Lista de Compras (agregar desde m\u00f3dulos, marcar comprado)</li> <li>Estados vac\u00edos y casos edge</li> </ul> </li> </ul> <p>Patr\u00f3n Clave: Captura R\u00e1pida</p> <p>Bot\u00f3n flotante (+) \u2192 Modal de captura \u2192 3 campos m\u00ednimos \u2192 Guardar \u2192 Confirmaci\u00f3n visual</p> <p>Paso 3: Sistema de Dise\u00f1o (5 min)</p> <p>Colores: - Primary: Amber (#FFA726) \u2192 Calidez, hogar - Secondary: Green (#66BB6A) \u2192 Eco, sostenibilidad - Accent: Blue (#42A5F5) \u2192 Acci\u00f3n, confianza  </p> <p>Tipograf\u00eda: Inter (web), System fonts (mobile)  </p> <p>Componentes: Tailwind UI + shadcn/ui (Next.js)</p> <p>Ver en producci\u00f3n: Frontend Demo</p>"},{"location":"getting-started/#preguntas-frecuentes-ux","title":"Preguntas Frecuentes (UX)","text":"\u00bfHay Figma/Sketch con mockups? <p>No a\u00fan. Prototipado directo en c\u00f3digo (Tailwind + shadcn). Sprint 2: Crear Figma con sistema de dise\u00f1o documentado.</p> \u00bfC\u00f3mo propongo cambios UX? <ol> <li>Abre issue en GitHub con mockup/wireframe  </li> <li>Discute en sesi\u00f3n (ver Libro de Sesiones)  </li> <li>Implementa PR con cambios aprobados</li> </ol> \u00bfQu\u00e9 no debemos hacer (l\u00edmites UX)? <ul> <li>\u274c Gamificaci\u00f3n intrusiva (puntos, badges)  </li> <li>\u274c Notificaciones push agresivas  </li> <li>\u274c Complejidad innecesaria (muchos pasos)  </li> <li>\u274c Dark patterns (ocultar opciones importantes)</li> </ul>"},{"location":"getting-started/#objetivo_3","title":"Objetivo","text":"<p>Entender casos de uso, criterios de aceptaci\u00f3n y plan de testing.</p>"},{"location":"getting-started/#ruta-recomendada-35-minutos","title":"Ruta Recomendada (35 minutos)","text":"<p>Paso 1: Casos de Uso (15 min)</p> <ul> <li>\ud83d\udccb Backlog Maestro \u2192 User stories con criterios de aceptaci\u00f3n</li> <li>\ud83d\udcd8 Documento Funcional - M\u00f3dulos \u2192 Flujos detallados</li> </ul> <p>Cada User Story tiene:</p> <ul> <li>Criterios de Aceptaci\u00f3n \u2192 Checkboxes claros  </li> <li>DoD (Definition of Done) \u2192 Ver Sprints</li> </ul> <p>Paso 2: Configurar Ambiente de Testing (10 min)</p> <pre><code># Frontend\ncd frontend/alacena-app\nnpm install\nnpm run dev\n# Abre http://localhost:3000\n\n# Backend API\ncd backend\nnpm run dev\n# Endpoints: http://localhost:3001/api/\n</code></pre> <p>Credenciales de prueba: - Admin: <code>admin@alacena.com</code> / <code>admin123</code> - User: <code>user@alacena.com</code> / <code>user123</code></p> <p>Paso 3: Plan de Testing (10 min)</p> <p>Ver [Testing.md pendiente - TO-DO Sprint 1]</p> <p>Prioridades Testing Sprint 1</p> <ol> <li>Smoke tests: Login, crear item, movimiento b\u00e1sico  </li> <li>Regresi\u00f3n: Autenticaci\u00f3n, permisos por hogar  </li> <li>Edge cases: Stock negativo, fechas inv\u00e1lidas  </li> <li>Mobile: Responsive en Chrome DevTools</li> </ol>"},{"location":"getting-started/#preguntas-frecuentes-qa","title":"Preguntas Frecuentes (QA)","text":"\u00bfHay suite de tests automatizados? <p>Parcial. Backend tiene tests con Jest. Frontend: TO-DO (Vitest + Testing Library).</p> \u00bfC\u00f3mo reporto bugs? <p>GitHub Issues con template: - T\u00edtulo: <code>[BUG] Descripci\u00f3n corta</code> - Pasos: Reproducir paso a paso - Esperado vs Actual - Screenshots si aplica</p> \u00bfQu\u00e9 navegadores soportamos? <p>Desktop: Chrome, Firefox, Safari (\u00faltimas 2 versiones) Mobile: Safari iOS 15+, Chrome Android 90+</p>"},{"location":"getting-started/#recursos-adicionales","title":"\ud83d\udcda Recursos Adicionales","text":""},{"location":"getting-started/#por-area-de-interes","title":"Por \u00c1rea de Inter\u00e9s","text":"Si quieres... Lee esto Entender la visi\u00f3n Contexto General Ver la planificaci\u00f3n Roadmap Configurar el proyecto Procedimientos Entender decisiones t\u00e9cnicas ADRs Ver el modelo de datos Modelo de Datos Comandos r\u00e1pidos Cheatsheet"},{"location":"getting-started/#glosario-de-terminos","title":"Glosario de T\u00e9rminos","text":"<p>Si encuentras t\u00e9rminos desconocidos, consulta el Glosario.</p>"},{"location":"getting-started/#necesitas-ayuda","title":"\ud83c\udd98 \u00bfNecesitas Ayuda?","text":"<ol> <li>Revisa el FAQ \u2192 Preguntas frecuentes</li> <li>Busca en la documentaci\u00f3n (Ctrl/Cmd + K)</li> <li>Abre un issue en GitHub</li> <li>Consulta el Libro de Sesiones \u2192 Decisiones pasadas</li> </ol> <p>\ud83c\udfaf Pr\u00f3ximo paso: Seg\u00fan tu rol, sigue la gu\u00eda correspondiente arriba \u261d\ufe0f</p> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026</p>"},{"location":"glosario/","title":"\ud83d\udcd6 Glosario de T\u00e9rminos","text":"<p>Definiciones de t\u00e9rminos t\u00e9cnicos y conceptos usados en la documentaci\u00f3n de ECO.</p>"},{"location":"glosario/#a","title":"A","text":""},{"location":"glosario/#adr-architecture-decision-record","title":"ADR (Architecture Decision Record)","text":"<p>Documento que registra una decisi\u00f3n arquitectural importante con su contexto, opciones evaluadas y consecuencias.</p> <p>Ejemplo: ADR-001: Monolito modular</p> <p>Prop\u00f3sito: Mantener historial de por qu\u00e9 se tomaron decisiones t\u00e9cnicas.</p>"},{"location":"glosario/#admin","title":"Admin","text":"<p>Rol de usuario con permisos completos dentro de un hogar (household). Puede: - Crear/editar/eliminar items - Invitar/remover miembros - Configurar el hogar - Acceder a todas las funcionalidades</p> <p>Contraste: Miembro (permisos limitados)</p>"},{"location":"glosario/#alacena","title":"ALACENA","text":"<p>M\u00f3dulo de ECO para gesti\u00f3n de inventario dom\u00e9stico. Permite registrar items, movimientos (compras, consumos) y mantener control de stock.</p> <p>Etimolog\u00eda: Armario o mueble donde se guardan alimentos.</p> <p>Estado: \u2705 Activo (Sprint 1)</p>"},{"location":"glosario/#api-application-programming-interface","title":"API (Application Programming Interface)","text":"<p>Conjunto de endpoints HTTP que permiten al frontend comunicarse con el backend.</p> <p>Ejemplo: <pre><code>GET /api/items          \u2192 Listar items\nPOST /api/items         \u2192 Crear item\nPUT /api/items/:id      \u2192 Actualizar item\nDELETE /api/items/:id   \u2192 Eliminar item\n</code></pre></p> <p>Tecnolog\u00eda: Node.js + Express</p>"},{"location":"glosario/#as-is","title":"AS-IS","text":"<p>Estado actual del sistema (inventario de infraestructura, endpoints, configuraciones).</p> <p>Ver: Inventario AS-IS</p> <p>Contraste: TO-BE (estado objetivo futuro)</p>"},{"location":"glosario/#b","title":"B","text":""},{"location":"glosario/#backend","title":"Backend","text":"<p>Capa del servidor que maneja l\u00f3gica de negocio, acceso a base de datos y autenticaci\u00f3n.</p> <p>Stack: Node.js + Express + Prisma ORM</p> <p>Deploy: Fly.io</p> <p>URL: https://alacena-backend.fly.dev</p>"},{"location":"glosario/#backlog","title":"Backlog","text":"<p>Lista priorizada de funcionalidades (user stories, \u00e9picas, tareas) pendientes de implementar.</p> <p>Ver: Backlog Maestro</p> <p>Estructura: \u00c9picas \u2192 User Stories \u2192 Tareas</p>"},{"location":"glosario/#backfill","title":"Backfill","text":"<p>Proceso de importar datos hist\u00f3ricos al sistema (ej: inventario existente, tareas pasadas).</p> <p>Ejemplo: Importar CSV con 200 items que ya tienes en casa.</p> <p>Estado: \ud83d\udccb Planificado Sprint 2</p>"},{"location":"glosario/#breadcrumb","title":"Breadcrumb","text":"<p>Navegaci\u00f3n que muestra la ruta actual en la jerarqu\u00eda de p\u00e1ginas.</p> <p>Ejemplo: <code>Inicio &gt; Arquitectura &gt; ADRs &gt; ADR-001</code></p> <p>Prop\u00f3sito: Orientaci\u00f3n y navegaci\u00f3n r\u00e1pida hacia atr\u00e1s.</p>"},{"location":"glosario/#c","title":"C","text":""},{"location":"glosario/#cloudinary","title":"Cloudinary","text":"<p>Servicio en la nube para gesti\u00f3n de im\u00e1genes y media (upload, transformaci\u00f3n, CDN).</p> <p>Uso en ECO: Almacenar fotos de items, QR codes, etc.</p> <p>Ver: ADR-007</p>"},{"location":"glosario/#cantidad","title":"Cantidad","text":"<p>Atributo num\u00e9rico de un item o movimiento que indica cu\u00e1nto hay/se movi\u00f3.</p> <p>Relacionado: Unidad (kg, L, unidades)</p> <p>Ejemplo: <code>cantidad: 2.5</code>, <code>unidad: kg</code> \u2192 \"2.5 kilogramos\"</p>"},{"location":"glosario/#d","title":"D","text":""},{"location":"glosario/#database-db","title":"Database (DB)","text":"<p>Base de datos relacional PostgreSQL donde se almacenan todos los datos de ECO.</p> <p>Proveedor: Supabase</p> <p>ORM: Prisma</p> <p>Schema: Ver Modelo de Datos</p>"},{"location":"glosario/#deploy","title":"Deploy","text":"<p>Proceso de publicar c\u00f3digo en producci\u00f3n (frontend a Vercel, backend a Fly.io).</p> <p>Ver: Procedimientos - Deploy</p>"},{"location":"glosario/#dod-definition-of-done","title":"DoD (Definition of Done)","text":"<p>Checklist de criterios que deben cumplirse para considerar una user story completa.</p> <p>Ejemplo: - \u2705 C\u00f3digo implementado y testeado - \u2705 PR aprobado y merged - \u2705 Desplegado en producci\u00f3n - \u2705 Documentaci\u00f3n actualizada</p> <p>Ver: Sprints - DoD</p>"},{"location":"glosario/#dor-definition-of-ready","title":"DoR (Definition of Ready)","text":"<p>Checklist de criterios que debe cumplir una user story antes de entrar a sprint.</p> <p>Ejemplo: - \u2705 Criterios de aceptaci\u00f3n claros - \u2705 Estimaci\u00f3n realizada - \u2705 Dependencias identificadas - \u2705 Dise\u00f1o/mockup disponible (si aplica)</p> <p>Ver: Sprints - DoR</p>"},{"location":"glosario/#e","title":"E","text":""},{"location":"glosario/#eco","title":"ECO","text":"<p>Nombre del sistema completo de gesti\u00f3n dom\u00e9stica modular.</p> <p>M\u00f3dulos: ALACENA, MANTIA, ECOSALUD, HUESHA, FINANCIA</p> <p>Filosof\u00eda: Descargar la mente, registro-first, historial completo.</p>"},{"location":"glosario/#ecosalud","title":"ECOSALUD","text":"<p>M\u00f3dulo planificado de ECO para registro de salud y bienestar personal.</p> <p>Funcionalidades previstas: - Registro de s\u00edntomas - Medicamentos y dosis - Historial m\u00e9dico - M\u00e9tricas (peso, presi\u00f3n, etc.)</p> <p>Estado: \ud83d\udccb Planificado Q2 2026</p>"},{"location":"glosario/#endpoint","title":"Endpoint","text":"<p>URL espec\u00edfica de la API que realiza una acci\u00f3n (GET, POST, PUT, DELETE).</p> <p>Ejemplo: <code>POST /api/items</code> \u2192 Crear nuevo item</p> <p>Documentaci\u00f3n: TO-DO (OpenAPI/Swagger pendiente Sprint 2)</p>"},{"location":"glosario/#epica","title":"\u00c9pica","text":"<p>Agrupaci\u00f3n de user stories relacionadas que representan una funcionalidad grande.</p> <p>Ejemplo: EP-01: Inventario B\u00e1sico (agrupa stories de crear item, editar, eliminar, listar)</p> <p>Ver: Backlog - \u00c9picas</p>"},{"location":"glosario/#f","title":"F","text":""},{"location":"glosario/#financia","title":"FINANCIA","text":"<p>M\u00f3dulo planificado de ECO para gesti\u00f3n financiera dom\u00e9stica.</p> <p>Funcionalidades previstas: - Registro de gastos - Presupuestos por categor\u00eda - Historial de transacciones</p> <p>Estado: \ud83d\udcad Futuro (Q2+ 2026)</p>"},{"location":"glosario/#flyio","title":"Fly.io","text":"<p>Plataforma de hosting para el backend de ECO.</p> <p>Caracter\u00edsticas: Containers, auto-scaling, edge network</p> <p>App: <code>alacena-backend</code></p> <p>URL: https://alacena-backend.fly.dev</p>"},{"location":"glosario/#frasco-jar","title":"Frasco (Jar)","text":"<p>Contenedor f\u00edsico dentro de un estante donde se almacenan items.</p> <p>Atributos: C\u00f3digo (JAR-001), capacidad, ubicaci\u00f3n</p> <p>Uso: Organizaci\u00f3n granular del inventario</p> <p>Ver: Modelo de Datos - Jar</p>"},{"location":"glosario/#frontend","title":"Frontend","text":"<p>Capa de interfaz de usuario (UI) que corre en el navegador.</p> <p>Stack: Next.js 14 + React + TypeScript + Tailwind</p> <p>Deploy: Vercel</p> <p>URL: https://alacena-blush.vercel.app</p>"},{"location":"glosario/#g","title":"G","text":""},{"location":"glosario/#github-pages","title":"GitHub Pages","text":"<p>Servicio de GitHub para publicar sitios web est\u00e1ticos (usado para esta documentaci\u00f3n).</p> <p>URL: https://falberio.github.io/eco/</p> <p>Tecnolog\u00eda: MkDocs Material</p>"},{"location":"glosario/#h","title":"H","text":""},{"location":"glosario/#historial","title":"Historial","text":"<p>Registro cronol\u00f3gico de eventos (movimientos, ejecuciones de tareas, cambios).</p> <p>Principio ECO: \"Historial primero\" \u2192 Todo debe ser trazable.</p> <p>Ejemplo: Ver todos los movimientos de un item desde su creaci\u00f3n.</p>"},{"location":"glosario/#hogar-household","title":"Hogar (Household)","text":"<p>Unidad de aislamiento de datos en ECO. Cada hogar tiene sus propios items, usuarios y configuraciones.</p> <p>Multi-tenancy: Varios hogares pueden coexistir en la misma instancia (aislados).</p> <p>Ver: ADR-002</p>"},{"location":"glosario/#huesha","title":"HUESHA","text":"<p>M\u00f3dulo planificado de ECO para gesti\u00f3n de espacios f\u00edsicos del hogar.</p> <p>Funcionalidades previstas: - Habitaciones y sus items - Planos/layouts - Organizaci\u00f3n espacial</p> <p>Estado: \ud83d\udcad Futuro (Q2+ 2026)</p> <p>Nota: Nombre tentativo (puede cambiar)</p>"},{"location":"glosario/#i","title":"I","text":""},{"location":"glosario/#item","title":"Item","text":"<p>Entidad principal de ALACENA que representa un producto/insumo del inventario.</p> <p>Atributos clave: Nombre, categor\u00eda, cantidad, unidad, ubicaci\u00f3n, fechas</p> <p>Ejemplo: \"Arroz integral, 2kg, en Frasco-003\"</p> <p>Ver: Modelo de Datos - Item</p>"},{"location":"glosario/#j","title":"J","text":""},{"location":"glosario/#json-javascript-object-notation","title":"JSON (JavaScript Object Notation)","text":"<p>Formato de intercambio de datos entre frontend y backend.</p> <p>Ejemplo: <pre><code>{\n  \"name\": \"Arroz integral\",\n  \"quantity\": 2.5,\n  \"unit\": \"KG\"\n}\n</code></pre></p>"},{"location":"glosario/#l","title":"L","text":""},{"location":"glosario/#lista-de-compras","title":"Lista de Compras","text":"<p>Funcionalidad transversal que centraliza items a comprar desde todos los m\u00f3dulos.</p> <p>Fuentes: - ALACENA (stock bajo) - MANTIA (insumos para tareas) - ECOSALUD (medicamentos) - Agregar manual</p> <p>Ver: ADR-005</p>"},{"location":"glosario/#m","title":"M","text":""},{"location":"glosario/#mantia","title":"MANTIA","text":"<p>M\u00f3dulo de ECO para gesti\u00f3n de tareas y mantenimiento del hogar.</p> <p>Funcionalidades: - Tareas con periodicidad - Registro de ejecuciones - Historial de mantenimiento - Contextos (habitaci\u00f3n, electrodom\u00e9stico)</p> <p>Estado: \ud83d\udccb Planificado Sprint 2</p> <p>Etimolog\u00eda: Derivado de \"mantenimiento\"</p>"},{"location":"glosario/#markdown","title":"Markdown","text":"<p>Lenguaje de marcado ligero usado para escribir esta documentaci\u00f3n.</p> <p>Ejemplo: <pre><code># T\u00edtulo\n**Negrita**, *cursiva*, [link](url)\n</code></pre></p> <p>Renderizado: MkDocs Material</p>"},{"location":"glosario/#miembro","title":"Miembro","text":"<p>Rol de usuario con permisos de lectura/escritura pero sin privilegios de admin.</p> <p>Puede: - Ver items, tareas, etc. - Crear/editar movimientos - Registrar ejecuciones</p> <p>NO puede: - Invitar/remover usuarios - Cambiar configuraciones del hogar - Eliminar datos cr\u00edticos</p>"},{"location":"glosario/#mkdocs-material","title":"MkDocs Material","text":"<p>Framework para generar sitios de documentaci\u00f3n desde archivos Markdown.</p> <p>Caracter\u00edsticas: Temas, b\u00fasqueda, navegaci\u00f3n, responsive</p> <p>Ver: mkdocs.yml</p>"},{"location":"glosario/#monolito-modular","title":"Monolito Modular","text":"<p>Arquitectura de software donde todo el c\u00f3digo est\u00e1 en un solo repositorio/despliegue pero organizado en m\u00f3dulos independientes.</p> <p>Ver: ADR-001</p> <p>Contraste: Microservicios distribuidos</p>"},{"location":"glosario/#movimiento-movement","title":"Movimiento (Movement)","text":"<p>Registro de cambio en el stock de un item (compra, consumo, ajuste, vencimiento).</p> <p>Atributos: Tipo, cantidad, fecha, usuario, item relacionado</p> <p>Ejemplo: <code>tipo: CONSUMO, cantidad: -0.5, item: Arroz</code></p> <p>Ver: Modelo de Datos - Movement</p>"},{"location":"glosario/#multi-tenancy","title":"Multi-tenancy","text":"<p>Capacidad de un sistema de servir a m\u00faltiples \"tenants\" (hogares) de forma aislada.</p> <p>Implementaci\u00f3n ECO: Por hogar (household_id en cada tabla)</p> <p>Ver: ADR-002</p>"},{"location":"glosario/#mvp-minimum-viable-product","title":"MVP (Minimum Viable Product)","text":"<p>Versi\u00f3n m\u00ednima del producto con funcionalidad suficiente para ser usable.</p> <p>MVP ECO: ALACENA operable + Auth + Multi-tenancy (Sprint 1)</p> <p>Objetivo: Validar valor antes de expandir funcionalidades.</p>"},{"location":"glosario/#n","title":"N","text":""},{"location":"glosario/#nextjs","title":"Next.js","text":"<p>Framework de React para aplicaciones web con server-side rendering (SSR).</p> <p>Versi\u00f3n: 14</p> <p>Uso en ECO: Frontend</p> <p>Features usadas: App Router, Server Components, API Routes</p>"},{"location":"glosario/#o","title":"O","text":""},{"location":"glosario/#orm-object-relational-mapping","title":"ORM (Object-Relational Mapping)","text":"<p>Capa de abstracci\u00f3n que permite interactuar con la base de datos usando objetos en lugar de SQL.</p> <p>ORM en ECO: Prisma</p> <p>Ejemplo: <pre><code>await prisma.item.create({ data: { name: \"Arroz\" } })\n</code></pre></p>"},{"location":"glosario/#p","title":"P","text":""},{"location":"glosario/#periodicidad","title":"Periodicidad","text":"<p>Atributo de tareas en MANTIA que indica cada cu\u00e1nto deben ejecutarse.</p> <p>Tipos: - Declarativa: \"Cada 7 d\u00edas desde \u00faltima ejecuci\u00f3n\" - M\u00e9trica: \"Cada 100 usos de cafetera\"</p> <p>Ver: ADR-004</p>"},{"location":"glosario/#postgresql","title":"PostgreSQL","text":"<p>Sistema de gesti\u00f3n de bases de datos relacionales (RDBMS) usado en ECO.</p> <p>Proveedor: Supabase</p> <p>Acceso: Via Prisma ORM</p>"},{"location":"glosario/#prisma","title":"Prisma","text":"<p>ORM moderno para Node.js/TypeScript que facilita acceso a bases de datos.</p> <p>Features: Type-safe, migrations, schema visual</p> <p>Ver: backend/prisma/schema.prisma</p>"},{"location":"glosario/#pwa-progressive-web-app","title":"PWA (Progressive Web App)","text":"<p>Aplicaci\u00f3n web que puede instalarse en el home screen y funcionar parcialmente offline.</p> <p>ECO: Web-first con capacidad de PWA (TO-DO Sprint 3)</p>"},{"location":"glosario/#q","title":"Q","text":""},{"location":"glosario/#qr-code","title":"QR Code","text":"<p>C\u00f3digo bidimensional que puede escanearse para identificar items/ubicaciones r\u00e1pidamente.</p> <p>Uso en ECO: Etiquetar frascos (JAR-001, JAR-002) para escaneo r\u00e1pido.</p> <p>Estado: \ud83d\udccb Planificado Sprint 2</p>"},{"location":"glosario/#r","title":"R","text":""},{"location":"glosario/#roadmap","title":"Roadmap","text":"<p>Planificaci\u00f3n de alto nivel que muestra sprints, objetivos y fechas.</p> <p>Ver: Roadmap Q1-Q2 2026</p> <p>Horizonte: Pr\u00f3ximos 6 meses (ajustable)</p>"},{"location":"glosario/#s","title":"S","text":""},{"location":"glosario/#schema-prisma-schema","title":"Schema (Prisma Schema)","text":"<p>Archivo <code>schema.prisma</code> que define modelos de datos, relaciones y configuraci\u00f3n de base de datos.</p> <p>Ubicaci\u00f3n: <code>backend/prisma/schema.prisma</code></p> <p>Genera: Tipos TypeScript + Prisma Client + Migrations SQL</p>"},{"location":"glosario/#seed","title":"Seed","text":"<p>Proceso de poblar la base de datos con datos iniciales (usuarios de prueba, items de ejemplo).</p> <p>Script: <code>backend/prisma/seed.js</code></p> <p>Uso: <pre><code>npx prisma db seed\n</code></pre></p>"},{"location":"glosario/#sprint","title":"Sprint","text":"<p>Iteraci\u00f3n de trabajo de duraci\u00f3n fija (generalmente 2 semanas) con objetivos claros.</p> <p>Estructura ECO: - Sprint 0: Documentaci\u00f3n (01-09 Feb) - Sprint 1: MVP (10-23 Feb) - Sprint 2: MANTIA (24 Feb - 09 Mar)</p> <p>Ver: Sprints</p>"},{"location":"glosario/#stock","title":"Stock","text":"<p>Cantidad actual disponible de un item en el inventario.</p> <p>C\u00e1lculo: Suma de todos los movimientos (compras - consumos - vencimientos + ajustes)</p> <p>Ejemplo: +2kg (compra) -0.5kg (consumo) = 1.5kg stock</p>"},{"location":"glosario/#supabase","title":"Supabase","text":"<p>Plataforma Backend-as-a-Service (BaaS) que provee PostgreSQL + Auth + Storage.</p> <p>Uso en ECO: - Database (PostgreSQL) - Auth (email/password) - Backups autom\u00e1ticos</p> <p>Plan: Free tier (500MB, 2GB transferencia/mes)</p> <p>Ver: ADR-006</p>"},{"location":"glosario/#t","title":"T","text":""},{"location":"glosario/#tara","title":"Tara","text":"<p>Peso del contenedor vac\u00edo (frasco, bolsa) que se resta para obtener peso neto del contenido.</p> <p>Ejemplo: - Frasco vac\u00edo: 200g (tara) - Frasco con arroz: 2200g - Arroz neto: 2000g</p> <p>Uso: Precisi\u00f3n en mediciones de stock.</p>"},{"location":"glosario/#to-be","title":"TO-BE","text":"<p>Estado objetivo futuro del sistema (opuesto a AS-IS).</p> <p>Ejemplo: \"TO-BE: Sistema con QR codes en todos los frascos\"</p>"},{"location":"glosario/#typescript","title":"TypeScript","text":"<p>Superset de JavaScript con tipado est\u00e1tico.</p> <p>Uso en ECO: Frontend (Next.js) y Backend (parcialmente)</p> <p>Beneficios: Menos bugs, mejor autocomplete, documentaci\u00f3n impl\u00edcita</p>"},{"location":"glosario/#u","title":"U","text":""},{"location":"glosario/#unidad","title":"Unidad","text":"<p>Medida de cantidad de un item (KG, L, unidades, gramos, etc.).</p> <p>Ver: Modelo de Datos - Unit enum</p> <p>Ejemplos: KG, LITERS, UNITS, GRAMS, ML</p>"},{"location":"glosario/#user-story","title":"User Story","text":"<p>Descripci\u00f3n de funcionalidad desde perspectiva del usuario.</p> <p>Formato: \"Como [rol], quiero [acci\u00f3n] para [beneficio]\"</p> <p>Ejemplo: \"Como usuario, quiero agregar un item al inventario para mantener registro de lo que tengo\"</p> <p>Ver: Backlog - User Stories</p>"},{"location":"glosario/#v","title":"V","text":""},{"location":"glosario/#vercel","title":"Vercel","text":"<p>Plataforma de hosting para aplicaciones Next.js (frontend de ECO).</p> <p>Features: Deploy autom\u00e1tico desde Git, edge network, preview deploys</p> <p>App: <code>alacena-blush</code></p> <p>URL: https://alacena-blush.vercel.app</p>"},{"location":"glosario/#w","title":"W","text":""},{"location":"glosario/#warmup","title":"Warmup","text":"<p>Proceso de \"despertar\" servicios que est\u00e1n pausados por inactividad.</p> <p>Contexto: Supabase free tier pausa DB despu\u00e9s de 7 d\u00edas inactividad.</p> <p>Tiempo: 2-3 segundos primer request despu\u00e9s de warmup.</p>"},{"location":"glosario/#simbolos","title":"S\u00edmbolos","text":""},{"location":"glosario/#emoji-de-construccion","title":"\ud83c\udfd7\ufe0f (Emoji de Construcci\u00f3n)","text":"<p>Indica trabajo en progreso, features no completadas o secciones bajo desarrollo.</p>"},{"location":"glosario/#check-verde","title":"\u2705 (Check verde)","text":"<p>Indica completado, activo o implementado.</p>"},{"location":"glosario/#portapapeles","title":"\ud83d\udccb (Portapapeles)","text":"<p>Indica planificado, en backlog o pendiente de implementar.</p>"},{"location":"glosario/#nube-de-pensamiento","title":"\ud83d\udcad (Nube de pensamiento)","text":"<p>Indica idea futura, no priorizada o muy tentativa.</p>"},{"location":"glosario/#siglas-rapidas","title":"Siglas R\u00e1pidas","text":"Sigla Significado Ver ADR Architecture Decision Record ADRs API Application Programming Interface Glosario BaaS Backend-as-a-Service Glosario DB Database Glosario DoD Definition of Done Sprints DoR Definition of Ready Sprints MVP Minimum Viable Product Glosario ORM Object-Relational Mapping Glosario PWA Progressive Web App Glosario UI User Interface - UX User Experience UX &amp; Navegaci\u00f3n"},{"location":"glosario/#buscar-terminos","title":"\ud83d\udd0d Buscar T\u00e9rminos","text":"<p>Atajo: <code>Ctrl</code> + <code>K</code> (Windows/Linux) o <code>Cmd</code> + <code>K</code> (Mac)</p> <p>Usa la b\u00fasqueda de MkDocs para encontrar t\u00e9rminos en toda la documentaci\u00f3n.</p> <p>\u00bfFalta un t\u00e9rmino? Prop\u00f3n agregarlos en GitHub Issues.</p> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026</p>"},{"location":"procedimientos/","title":"Procedimientos de Trabajo","text":""},{"location":"procedimientos/#gestion-de-issues-y-historias-de-usuario","title":"\ud83d\udd04 Gesti\u00f3n de Issues y Historias de Usuario","text":""},{"location":"procedimientos/#workflow-completo-docs-github-desarrollo","title":"Workflow completo: Docs \u2192 GitHub \u2192 Desarrollo","text":""},{"location":"procedimientos/#1-definir-historia-en-backlogmd","title":"1. Definir historia en backlog.md","text":"<p>Ubicaci\u00f3n: <code>docs/04-planificacion/backlog.md</code></p> <ol> <li>Agregar historia dentro de su \u00e9pica correspondiente</li> <li>Incluir Definition of Ready (DoR):</li> <li>Historia de usuario (Como... Quiero... Para...)</li> <li>Criterios de aceptaci\u00f3n (m\u00ednimo 3)</li> <li>Notas t\u00e9cnicas (endpoints, schemas, dependencias)</li> <li>Estimaci\u00f3n (S, M, L, XL)</li> <li>Prioridad (P1, P2, P3)</li> <li>Definition of Done (DoD)</li> </ol>"},{"location":"procedimientos/#2-crear-issue-en-github","title":"2. Crear issue en GitHub","text":"<p>Opci\u00f3n A - Manual: 1. Ir a https://github.com/falberio/eco/issues/new/choose 2. Seleccionar template (Feature / Bug / Tech / Docs) 3. Copiar contenido desde backlog.md 4. Asignar labels, milestone, estimaci\u00f3n 5. Copiar n\u00famero de issue generado</p> <p>Opci\u00f3n B - Script automatizado: <pre><code># Configurar token (una vez)\n$env:GITHUB_TOKEN = \"tu_token_aqui\"\n\n# Ejecutar script\ncd .temp-issues\n.\\create-issues.ps1\n</code></pre></p>"},{"location":"procedimientos/#3-linkear-bidireccional","title":"3. Linkear bidireccional","text":"<p>En backlog.md: <pre><code>#### MAN-01: CRUD de tareas\n**Issue:** [#18](https://github.com/falberio/eco/issues/18)\n</code></pre></p> <p>En issue GitHub: <pre><code>**Backlog:** [docs/04-planificacion/backlog.md#man-01-crud-de-tareas](...)\n</code></pre></p>"},{"location":"procedimientos/#4-trabajar-en-la-historia","title":"4. Trabajar en la historia","text":"<ol> <li>Crear branch: <code>git checkout -b feature/MAN-01-crud-tareas</code></li> <li>Desarrollar siguiendo DoD</li> <li>Commit con referencia: <code>git commit -m \"feat(mantia): CRUD tareas #18\"</code></li> <li>Push y crear PR</li> </ol>"},{"location":"procedimientos/#5-cerrar-issue","title":"5. Cerrar issue","text":"<p>Al completar: 1. En PR description: <code>Closes #18</code> (cierra autom\u00e1ticamente al merge) 2. Actualizar backlog.md: cambiar estado a \u2705 Completado 3. Documentar en libro-sesiones.md si es relevante</p> <p>Comandos Git especiales: <pre><code># Cerrar issue desde commit\ngit commit -m \"fix: resolver bug cr\u00edtico\n\nCloses #25\"\n\n# Referenciar sin cerrar\ngit commit -m \"feat: avance parcial MAN-01\n\nRelated to #18\"\n</code></pre></p>"},{"location":"procedimientos/#checklist-de-cierre-de-issue","title":"\u2705 Checklist de cierre de issue","text":"<ul> <li> C\u00f3digo mergeado a <code>main</code></li> <li> Tests pasando (si aplica)</li> <li> Migraciones aplicadas en dev y prod (si aplica)</li> <li> Deployado a producci\u00f3n</li> <li> Probado en m\u00f3vil (si es UI)</li> <li> Backlog.md actualizado (estado \u2705)</li> <li> Issue cerrado en GitHub</li> <li> Documentaci\u00f3n actualizada (si aplica)</li> </ul>"},{"location":"procedimientos/#convenciones-de-commits","title":"\ud83d\udcdd Convenciones de commits","text":"<p>Formato: <pre><code>&lt;tipo&gt;(&lt;scope&gt;): &lt;descripci\u00f3n corta&gt;\n\n&lt;cuerpo opcional&gt;\n\n&lt;footer opcional: Closes #X, Related to #Y&gt;\n</code></pre></p> <p>Tipos: - <code>feat</code>: Nueva funcionalidad - <code>fix</code>: Correcci\u00f3n de bug - <code>docs</code>: Solo documentaci\u00f3n - <code>refactor</code>: Refactorizaci\u00f3n sin cambio funcional - <code>test</code>: Agregar o modificar tests - <code>chore</code>: Tareas de mantenimiento</p> <p>Scopes: - <code>mantia</code>, <code>lista</code>, <code>ecosalud</code>, <code>alacena</code> - <code>prisma</code>, <code>api</code>, <code>frontend</code> - <code>docs</code>, <code>deploy</code></p> <p>Ejemplos: <pre><code>git commit -m \"feat(mantia): implementar CRUD de tareas #18\"\ngit commit -m \"fix(lista): corregir toggle comprado #27\"\ngit commit -m \"docs(backlog): actualizar estado MAN-01\"\n</code></pre></p>"},{"location":"procedimientos/#solucion-de-problemas-comunes","title":"\ud83d\udd27 Soluci\u00f3n de problemas comunes","text":""},{"location":"procedimientos/#caracteres-especiales-en-issues","title":"Caracteres especiales en issues","text":"<p>Problema: Tildes y \u00f1 se ven mal en GitHub (ej: \"Ejecuci\u00f3n\" \u2192 \"Ejecucioon\")</p> <p>Causa: Encoding UTF-8 en API de GitHub</p> <p>Soluci\u00f3n: 1. Los archivos <code>.md</code> en <code>.temp-issues/</code> ya est\u00e1n en UTF-8 2. Script PowerShell usa <code>charset=utf-8</code> en Content-Type 3. Si ves caracteres raros, edita manualmente el issue en GitHub web</p> <p>Para archivos nuevos: <pre><code># Guardar en UTF-8 sin BOM\n[IO.File]::WriteAllText($path, $content, [Text.Encoding]::UTF8)\n</code></pre></p>"},{"location":"procedimientos/#issue-no-se-cierra-automaticamente","title":"Issue no se cierra autom\u00e1ticamente","text":"<p>Problema: PR mergeado pero issue sigue abierto</p> <p>Soluci\u00f3n: 1. Verificar que PR description incluye <code>Closes #X</code> 2. Probar con <code>Fixes #X</code> o <code>Resolves #X</code> 3. Cerrar manualmente si es necesario</p>"},{"location":"procedimientos/#labels-no-aplicados","title":"Labels no aplicados","text":"<p>Problema: Issue creado sin labels</p> <p>Soluci\u00f3n: 1. Editar issue en GitHub 2. Asignar labels: <code>type:feature</code>, <code>module:mantia</code>, <code>priority:P1</code>, <code>sprint:1</code></p> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Mantenedor: Fran (@falberio)</p>"},{"location":"01-vision/","title":"Visi\u00f3n y Contexto","text":"<p>Documentaci\u00f3n sobre la visi\u00f3n del proyecto ECO.</p>"},{"location":"01-vision/contexto-general/","title":"ECO \u2013 01 Contexto General","text":"<p>Prop\u00f3sito: Orientar r\u00e1pidamente sobre qu\u00e9 es ECO, c\u00f3mo est\u00e1 organizado y cu\u00e1les son sus l\u00edmites.</p>"},{"location":"01-vision/contexto-general/#1-vision-y-objetivo","title":"1. Visi\u00f3n y Objetivo","text":""},{"location":"01-vision/contexto-general/#vision","title":"Visi\u00f3n","text":"<p>Construir un sistema personal/modular para gestionar vida dom\u00e9stica con foco en registro, historial y simplicidad operativa.</p>"},{"location":"01-vision/contexto-general/#principios","title":"Principios","text":"<ul> <li>Descargar la mente: Nada cr\u00edtico reside solo en memoria</li> <li>Registro antes que automatizaci\u00f3n: Capturar primero, automatizar despu\u00e9s</li> <li>Historial primero: Todo evento queda registrado</li> <li>Asistencia progresiva: El sistema ayuda m\u00e1s a medida que se usa</li> <li>Modularidad clara: Cada m\u00f3dulo tiene responsabilidad definida</li> </ul>"},{"location":"01-vision/contexto-general/#2-alcance-y-no-objetivos-v1","title":"2. Alcance y No-Objetivos (v1)","text":""},{"location":"01-vision/contexto-general/#alcance-v1","title":"Alcance v1","text":"<ul> <li>Operaci\u00f3n con un solo backend/API</li> <li>Modelo de datos \u00fanico</li> <li>Foco mobile-first</li> </ul>"},{"location":"01-vision/contexto-general/#no-objetivos-extracto","title":"No-Objetivos (extracto)","text":"<p>ALACENA: - \u274c Sin escaneo de c\u00f3digos de barras - \u274c Sin recetas/men\u00fa semanal - \u274c Sin sincronizaci\u00f3n con comercios</p> <p>MANTIA: - \u274c Sin recordatorios push - \u274c Sin integraciones de calendario - \u274c Sin dependencias entre tareas</p> <p>ECOSALUD: - \u274c Sin correlaciones avanzadas - \u274c Sin dashboards complejos</p> <p>Lista de Compras: - \u274c Sin m\u00faltiples listas por hogar - \u274c Sin compartir listas fuera del sistema</p> <p>Plataforma: - \u274c Sin multilenguaje - \u274c Sin multi-hogar colaborativo avanzado</p>"},{"location":"01-vision/contexto-general/#3-modulos-y-transversales","title":"3. M\u00f3dulos y Transversales","text":""},{"location":"01-vision/contexto-general/#modulos-funcionales","title":"M\u00f3dulos funcionales","text":"<ul> <li>ALACENA: Gesti\u00f3n de despensa y cocina</li> <li>MANTIA: Inventario del hogar + tareas de mantenimiento</li> <li>ECOSALUD: Tracking de salud y bienestar</li> <li>HUESHA: Narrativa de vida, historia personal</li> <li>FINANCIA: Finanzas personales y presupuesto</li> </ul>"},{"location":"01-vision/contexto-general/#transversales","title":"Transversales","text":"<ul> <li>Lista de Compras</li> <li>Historial global</li> </ul>"},{"location":"01-vision/contexto-general/#capa-de-soporte","title":"Capa de soporte","text":"<ul> <li>Usuarios, hogares, permisos (aislamiento por hogar)</li> </ul>"},{"location":"01-vision/contexto-general/#4-arquitectura-resumen-ejecutivo","title":"4. Arquitectura (resumen ejecutivo)","text":"<ul> <li>Monolito modular con una sola API y repositorio unificado (ADR-001)</li> <li>Aislamiento por hogar (ADR-002)</li> <li>Autenticaci\u00f3n b\u00e1sica (ADR-003)</li> <li>Periodicidad declarativa en MANTIA (ADR-004)</li> <li>Lista de Compras como entidad transversal (ADR-005)</li> </ul>"},{"location":"01-vision/contexto-general/#5-estado-del-proyecto","title":"5. Estado del Proyecto","text":"<ul> <li>Sprint 0: Extendido hasta 09/Feb/2026 con objetivos de marco del producto</li> <li>Sprint 1 (10\u201323 Feb/2026): MVP operable centrado en ALACENA, MANTIA, ECOSALUD (registro m\u00ednimo) y Lista</li> </ul>"},{"location":"01-vision/contexto-general/#6-donde-profundizar","title":"6. D\u00f3nde profundizar","text":"<ul> <li>ECO \u2013 02: Documentaci\u00f3n Funcional y de Arquitectura (v1.0) \u2192 verdad funcional/t\u00e9cnica, modelo, ADRs, backlog</li> <li>ECO \u2013 03: Libro de Sesiones \u2192 decisiones, acuerdos, pendientes</li> </ul> <p>Notas de uso: - Esta p\u00e1gina cambia muy poco - Si cambia la visi\u00f3n o l\u00edmites, actualizar y referenciar el DF - Toda definici\u00f3n concreta (entidades, historias, reglas) vive en ECO-02</p>"},{"location":"02-funcional-arquitectura/","title":"Documentaci\u00f3n Funcional y Arquitectura","text":"<p>Fuente de verdad del proyecto.</p>"},{"location":"02-funcional-arquitectura/parte-1-fundamentos/","title":"ECO \u2013 Documento Funcional (Parte 1): Fundamentos","text":"<p>Fuente de verdad del proyecto ECO. Alineado con el estado actual del proyecto ya deployado, con repo activo en GitHub y base de datos existente. Este documento gu\u00eda su evoluci\u00f3n, priorizando claridad, trazabilidad, ritmo sostenido y decisiones conscientes.</p>"},{"location":"02-funcional-arquitectura/parte-1-fundamentos/#1-proposito-del-documento","title":"1. Prop\u00f3sito del Documento","text":"<p>Este Documento Funcional y de Arquitectura (DF) define:</p> <ul> <li>Qu\u00e9 es ECO y qu\u00e9 no es (No-Objetivos)</li> <li>C\u00f3mo se estructura funcionalmente</li> <li>C\u00f3mo se organiza su arquitectura</li> <li>Qu\u00e9 decisiones ya fueron tomadas (ADRs)</li> <li>C\u00f3mo se planifica el trabajo (ceremonias, sesiones, ritmo)</li> <li>C\u00f3mo se traduce el MVP operativo al backlog y la ejecuci\u00f3n</li> </ul> <p>Nota importante: El DF acompa\u00f1a al repositorio existente, no lo reemplaza. Cualquier diferencia entre c\u00f3digo y documento debe resolverse actualizando el DF.</p>"},{"location":"02-funcional-arquitectura/parte-1-fundamentos/#2-principios-rectores","title":"2. Principios Rectores","text":""},{"location":"02-funcional-arquitectura/parte-1-fundamentos/#21-principios-funcionales","title":"2.1 Principios funcionales","text":"<ul> <li>Descargar la mente: Nada cr\u00edtico reside solo en memoria</li> <li>Registro antes que automatizaci\u00f3n: Capturar primero, automatizar despu\u00e9s</li> <li>Historial primero: Todo evento queda registrado</li> <li>Asistencia progresiva: El sistema ayuda m\u00e1s a medida que se usa</li> <li>Modularidad clara: Cada m\u00f3dulo tiene responsabilidad definida</li> </ul>"},{"location":"02-funcional-arquitectura/parte-1-fundamentos/#22-principios-tecnicos","title":"2.2 Principios t\u00e9cnicos","text":"<ul> <li>Un solo backend (confirmado por repo actual)</li> <li>Modelo de datos \u00fanico, extensible</li> <li>Mobile-first real</li> <li>Decisiones reversibles</li> <li>Infraestructura simple, controlada</li> </ul>"},{"location":"02-funcional-arquitectura/parte-1-fundamentos/#3-no-objetivos-limites-de-diseno-v1","title":"3. No-Objetivos (L\u00edmites de Dise\u00f1o v1)","text":"<p>Los No-Objetivos evitan que ECO se expanda sin control. No son descartes permanentes: solo l\u00edmites conscientes para v1.</p>"},{"location":"02-funcional-arquitectura/parte-1-fundamentos/#alacena","title":"ALACENA","text":"<ul> <li>\u274c Sin escaneo de c\u00f3digos de barras</li> <li>\u274c Sin recetas, sin men\u00fa semanal</li> <li>\u274c Sin sincronizaci\u00f3n con comercios</li> </ul>"},{"location":"02-funcional-arquitectura/parte-1-fundamentos/#mantia","title":"MANTIA","text":"<ul> <li>\u274c Sin recordatorios push</li> <li>\u274c Sin integraci\u00f3n con calendarios externos</li> <li>\u274c Sin tareas dependientes ni automatizadas</li> </ul>"},{"location":"02-funcional-arquitectura/parte-1-fundamentos/#ecosalud","title":"ECOSALUD","text":"<ul> <li>\u274c Sin correlaciones avanzadas</li> <li>\u274c Sin dashboards complejos</li> </ul>"},{"location":"02-funcional-arquitectura/parte-1-fundamentos/#lista-de-compras","title":"Lista de Compras","text":"<ul> <li>\u274c Sin m\u00faltiples listas por hogar</li> <li>\u274c Sin compartir listas fuera del sistema</li> </ul>"},{"location":"02-funcional-arquitectura/parte-1-fundamentos/#plataforma","title":"Plataforma","text":"<ul> <li>\u274c Sin multilenguaje</li> <li>\u274c Sin modelo multi-hogar colaborativo avanzado</li> </ul>"},{"location":"02-funcional-arquitectura/parte-1-fundamentos/#enlaces-relacionados","title":"Enlaces relacionados","text":"<ul> <li>Parte 2: Arquitectura y Modelo de Datos (siguiente)</li> <li>Parte 3: Ejecuci\u00f3n y Sprints</li> <li>Contexto General</li> </ul> <p>\u00daltima actualizaci\u00f3n: 2026-02-04</p>"},{"location":"03-sesiones/","title":"Libro de Sesiones","text":"<p>Minutas y decisiones de cada sesi\u00f3n.</p>"},{"location":"04-planificacion/","title":"Planificaci\u00f3n","text":"<p>Backlog, roadmap y sprints.</p>"},{"location":"04-planificacion/backlog/","title":"\ud83d\udccb Backlog Maestro","text":"<p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Sprint actual: Sprint 0</p>"},{"location":"04-planificacion/backlog/#proposito","title":"\ud83c\udfaf Prop\u00f3sito","text":"<p>Consolidaci\u00f3n de todas las \u00e9picas, historias de usuario e issues del proyecto ECO. Fuente centralizada para planificaci\u00f3n de sprints.</p>"},{"location":"04-planificacion/backlog/#estado-general","title":"\ud83d\udcca Estado General","text":"Estado \u00c9picas Historias Issues \u2705 Completado 1 8 15 \u23f3 En progreso 1 3 5 \ud83d\udccb Planificado 3 12 0 Total 5 23 20"},{"location":"04-planificacion/backlog/#epicas","title":"\ud83c\udfaf \u00c9picas","text":""},{"location":"04-planificacion/backlog/#ep-01-base-eco","title":"EP-01: Base ECO \u2705","text":"<p>Estado: Completado Sprint: Sprint 0 y anteriores</p> <p>Objetivo: Infraestructura base del sistema (autenticaci\u00f3n, hogares, navegaci\u00f3n)</p> <p>Historias: - \u2705 BASE-01: Autenticaci\u00f3n b\u00e1sica (email/password) - \u2705 BASE-02: Gesti\u00f3n de hogares - \u2705 BASE-03: Navegaci\u00f3n principal - \u2705 BASE-04: Deploy a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#ep-02-alacena-mvp","title":"EP-02: ALACENA MVP \u23f3","text":"<p>Estado: Parcialmente completado Sprint: Sprints previos + Sprint 1</p> <p>Objetivo: Gesti\u00f3n completa de inventario dom\u00e9stico</p> <p>Historias completadas: - \u2705 ALA-01: CRUD de items - \u2705 ALA-02: Registro de movimientos - \u2705 ALA-03: Vista de stock - \u2705 ALA-04: Sistema de taras autom\u00e1ticas</p> <p>Historias pendientes:</p>"},{"location":"04-planificacion/backlog/#ala-05-categorizacion-y-filtros","title":"ALA-05: Categorizaci\u00f3n y filtros","text":"<p>Issue: #33 Estado: \u23f3 En progreso Prioridad: P2 Sprint: 1 Estimaci\u00f3n: M</p> <p>Historia: Como usuario del hogar Quiero organizar items por categor\u00edas y filtrarlos Para encontrar r\u00e1pidamente lo que busco</p> <p>Criterios de Aceptaci\u00f3n: 1. Categor\u00edas existentes: Usar modelo actual (si existe campo <code>categoria</code> en <code>Item</code>) o agregar 2. Categor\u00edas sugeridas: Almac\u00e9n, Bebidas, Condimentos, L\u00e1cteos, Frescos, Limpieza, Otro 3. Asignaci\u00f3n: Al crear/editar item, select de categor\u00eda (default \"Otro\") 4. Filtro: En <code>/alacena</code>, dropdown \"Todas las categor\u00edas\" + opciones individuales 5. Visual: Badge de color por categor\u00eda en card de item</p> <p>Notas T\u00e9cnicas: - Verificar si <code>Item</code> ya tiene campo <code>category</code> o similar en Prisma - Si no existe, agregar campo <code>categoria String?</code> con migraci\u00f3n - Frontend: Filtro en header de <code>/alacena</code>, mantener estado en query param <code>?categoria=</code></p> <p>Dependencias: - ALA-01 (CRUD items - ya completado)</p> <p>DoD: - [ ] Campo categor\u00eda en modelo (si no existe) - [ ] Select en formulario item - [ ] Filtro dropdown funcionando - [ ] Badges visibles - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#ala-06-estados-de-stock-bajo-normal-alto","title":"ALA-06: Estados de stock (bajo, normal, alto)","text":"<p>Issue: #34 Estado: \ud83d\udccb Planificado Prioridad: P1 Sprint: 1 Estimaci\u00f3n: M</p> <p>Historia: Como usuario del hogar Quiero ver indicadores visuales de estado de stock (bajo, normal, alto) Para saber qu\u00e9 reponer</p> <p>Criterios de Aceptaci\u00f3n: 1. C\u00e1lculo stock: Seg\u00fan implementaci\u00f3n actual (sumar <code>Reserve</code> activas o leer <code>Item.currentStock_g</code>) 2. Umbrales sugeridos:    - Bajo: stock &lt; 20% del promedio hist\u00f3rico o &lt; umbral fijo (100g / 2 unidades)    - Normal: 20% \u2264 stock \u2264 80%    - Alto: stock &gt; 80% 3. Indicadores visuales:    - Bajo: Badge rojo \"Stock bajo\" + \u00edcono \u26a0\ufe0f    - Normal: Sin badge (estado default)    - Alto: Badge verde \"Stock alto\" (opcional) 4. Acci\u00f3n r\u00e1pida: Items con stock bajo muestran bot\u00f3n \"\u2192 Lista\" (integraci\u00f3n LST-02) 5. Vista filtrada: Toggle \"Solo stock bajo\" en <code>/alacena</code> para ver items cr\u00edticos</p> <p>Notas T\u00e9cnicas: - Funci\u00f3n backend: <code>getStockStatus(item: Item): \"bajo\" | \"normal\" | \"alto\"</code> - Umbral: Por ahora hardcodeado, futuro: configurable por item - Frontend: Badge condicional en card de item</p> <p>Dependencias: - ALA-03 (vista de stock - ya completado) - LST-02 (bot\u00f3n \"\u2192 Lista\" - de Sprint 1)</p> <p>DoD: - [ ] Funci\u00f3n c\u00e1lculo estado implementada - [ ] Badges visibles seg\u00fan estado - [ ] Toggle \"Solo stock bajo\" funciona - [ ] Bot\u00f3n \"\u2192 Lista\" integrado - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#ala-07-busqueda-de-items","title":"ALA-07: B\u00fasqueda de items","text":"<p>Issue: #35 Estado: \ud83d\udccb Planificado Prioridad: P2 Sprint: 1 Estimaci\u00f3n: S</p> <p>Historia: Como usuario del hogar Quiero buscar items por nombre o categor\u00eda Para encontrar r\u00e1pidamente uno espec\u00edfico</p> <p>Criterios de Aceptaci\u00f3n: 1. Input b\u00fasqueda: En <code>/alacena</code>, input text en header con placeholder \"Buscar items...\" 2. B\u00fasqueda en tiempo real: Al escribir, filtrar items por coincidencia en <code>nombre</code> (case-insensitive, parcial) 3. Resultados: Mostrar items que incluyan el texto en nombre, resaltar coincidencia 4. B\u00fasqueda vac\u00eda: Si no hay resultados, mostrar \"No se encontraron items\" + bot\u00f3n \"Limpiar b\u00fasqueda\" 5. Combinaci\u00f3n filtros: B\u00fasqueda + filtro categor\u00eda funcionan juntos (AND l\u00f3gico)</p> <p>Notas T\u00e9cnicas: - Query backend: <code>WHERE nombre ILIKE %:query%</code> (PostgreSQL) - Frontend: Debounce 300ms para evitar queries excesivas - State: Mantener b\u00fasqueda en query param <code>?q=</code></p> <p>Dependencias: - ALA-01 (CRUD items - ya completado) - ALA-05 (filtro categor\u00eda - en progreso)</p> <p>DoD: - [ ] Input b\u00fasqueda funcionando - [ ] Filtrado en tiempo real OK - [ ] Debounce implementado - [ ] Combinaci\u00f3n con filtros correcta - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#ep-03-mantia-mvp","title":"EP-03: MANTIA MVP \ud83d\udccb","text":"<p>Estado: Planificado Sprint: Sprint 1</p> <p>Objetivo: Gesti\u00f3n de tareas y mantenimiento del hogar</p> <p>Historias:</p>"},{"location":"04-planificacion/backlog/#man-01-crud-de-tareas","title":"MAN-01: CRUD de tareas","text":"<p>Issue: #18 Estado: \ud83d\udccb Planificado Prioridad: P1 Sprint: 1 Estimaci\u00f3n: M</p> <p>Historia: Como usuario del hogar Quiero crear, editar y eliminar tareas de mantenimiento Para organizar las actividades recurrentes del hogar</p> <p>Criterios de Aceptaci\u00f3n: 1. Crear tarea: Formulario con campos: t\u00edtulo (req), descripci\u00f3n (opt), categor\u00eda (select: Limpieza, Cocina, Jard\u00edn, Mascotas, Mantenimiento, Otro), periodicidad (select: null, diaria, semanal, mensual), estado inicial \"activa\" 2. Editar tarea: Modificar cualquier campo excepto <code>id</code>, <code>created_at</code>, actualizar <code>updated_at</code> autom\u00e1ticamente 3. Eliminar tarea: Confirmaci\u00f3n antes de eliminar, eliminar tambi\u00e9n todas las ejecuciones asociadas (cascade) 4. Validaciones: T\u00edtulo max 100 caracteres, descripci\u00f3n max 500, categor\u00eda en enum v\u00e1lido 5. UX m\u00f3vil: Formulario usable en pantalla &lt;400px, bot\u00f3n guardar siempre visible</p> <p>Notas T\u00e9cnicas: - Prisma schema: <code>Task</code> con campos seg\u00fan <code>docs/02-documento-funcional.md</code> secci\u00f3n 4.3 - Rutas API: <code>POST /api/tasks</code>, <code>PUT /api/tasks/:id</code>, <code>DELETE /api/tasks/:id</code> - Frontend: <code>app/mantia/tareas/nueva</code> y <code>app/mantia/tareas/[id]/editar</code></p> <p>Dependencias: - Ninguna (historia base)</p> <p>DoD: - [ ] Migraci\u00f3n Prisma aplicada en dev y prod - [ ] CRUD completo backend con validaciones Zod - [ ] UI formulario responsive - [ ] Probado en m\u00f3vil (Chrome Android) - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#man-02-marcar-tarea-como-hecha","title":"MAN-02: Marcar tarea como hecha","text":"<p>Issue: #19 Estado: \ud83d\udccb Planificado Prioridad: P1 Sprint: 1 Estimaci\u00f3n: S</p> <p>Historia: Como usuario del hogar Quiero marcar una tarea como completada con un bot\u00f3n r\u00e1pido Para registrar que la hice sin pasos adicionales</p> <p>Criterios de Aceptaci\u00f3n: 1. Bot\u00f3n quick-complete: En vista de pendientes (MAN-04), bot\u00f3n \"\u2713 Hecho\" visible en cada tarea 2. Acci\u00f3n: Al presionar, crear registro en <code>TaskExecution</code> con <code>fecha</code> = now, <code>user_id</code> = usuario actual, <code>notas</code> = null 3. Feedback visual: Toast \"Tarea completada\" + actualizar lista sin reload 4. C\u00e1lculo autom\u00e1tico: Si tarea tiene <code>periodicidad</code>, calcular y actualizar <code>proxima_sugerida</code> (ver MAN-05) 5. UX: Bot\u00f3n accesible con pulgar derecho en m\u00f3vil, confirmaci\u00f3n NO requerida (acci\u00f3n reversible)</p> <p>Notas T\u00e9cnicas: - Endpoint: <code>POST /api/tasks/:id/complete</code> (crea ejecuci\u00f3n + actualiza pr\u00f3xima fecha) - L\u00f3gica de c\u00e1lculo de pr\u00f3xima fecha: reusar funci\u00f3n de MAN-05 - Frontend: Optimistic update con revert si falla</p> <p>Dependencias: - MAN-01 (tareas deben existir) - MAN-03 (modelo TaskExecution) - MAN-05 (l\u00f3gica de periodicidad)</p> <p>DoD: - [ ] Endpoint <code>/complete</code> funcionando - [ ] Toast confirmaci\u00f3n visible - [ ] Pr\u00f3xima fecha calculada correctamente - [ ] Probado en m\u00f3vil - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#man-03-registrar-ejecucion","title":"MAN-03: Registrar ejecuci\u00f3n","text":"<p>Issue: #20 Estado: \ud83d\udccb Planificado Prioridad: P1 Sprint: 1 Estimaci\u00f3n: M</p> <p>Historia: Como usuario del hogar Quiero registrar cu\u00e1ndo complet\u00e9 una tarea con notas opcionales Para tener historial de ejecuciones</p> <p>Criterios de Aceptaci\u00f3n: 1. Modelo TaskExecution: Campos seg\u00fan <code>docs/02-documento-funcional.md</code> secci\u00f3n 4.3: <code>id</code>, <code>task_id</code>, <code>fecha</code>, <code>user_id</code>, <code>notas</code> 2. Crear ejecuci\u00f3n: Modal/formulario con fecha (default hoy), notas opcional (textarea), bot\u00f3n \"Registrar\" 3. Acceso: Desde vista de tarea individual, bot\u00f3n \"Registrar ejecuci\u00f3n manual\" 4. Validaciones: <code>fecha</code> no puede ser futura, <code>notas</code> max 500 caracteres, <code>task_id</code> debe existir 5. Historial: Ver \u00faltimas 5 ejecuciones en vista de tarea individual</p> <p>Notas T\u00e9cnicas: - Prisma schema: <code>TaskExecution</code> con relaci\u00f3n a <code>Task</code> - Rutas API: <code>POST /api/tasks/:id/executions</code>, <code>GET /api/tasks/:id/executions?limit=5</code> - Frontend: Modal con DatePicker (default hoy)</p> <p>Dependencias: - MAN-01 (tareas deben existir)</p> <p>DoD: - [ ] Migraci\u00f3n Prisma aplicada - [ ] CRUD ejecuciones backend - [ ] Modal registro funcionando - [ ] Historial visible - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#man-04-vista-de-pendientes","title":"MAN-04: Vista de pendientes","text":"<p>Issue: #21 Estado: \ud83d\udccb Planificado Prioridad: P1 Sprint: 1 Estimaci\u00f3n: M</p> <p>Historia: Como usuario del hogar Quiero ver una lista de tareas pendientes ordenadas por prioridad Para saber qu\u00e9 hacer hoy</p> <p>Criterios de Aceptaci\u00f3n: 1. Vista principal MANTIA: Ruta <code>/mantia</code> muestra tareas con <code>estado = \"activa\"</code> 2. Ordenamiento: Por <code>proxima_sugerida</code> ASC (las m\u00e1s urgentes primero), null al final 3. Informaci\u00f3n por tarea: T\u00edtulo, categor\u00eda (badge), pr\u00f3xima fecha (relativa: \"Hoy\", \"Hace 3 d\u00edas\", \"En 2 d\u00edas\"), bot\u00f3n \"\u2713 Hecho\" (MAN-02) 4. Indicador urgencia: Color rojo si <code>proxima_sugerida &lt; hoy</code>, amarillo si hoy, verde si futuro 5. Vac\u00edo: Si no hay tareas, mostrar estado vac\u00edo: \"No tienes tareas pendientes\" + bot\u00f3n \"Crear primera tarea\"</p> <p>Notas T\u00e9cnicas: - Query Prisma: <code>where: { estado: \"activa\" }, orderBy: { proxima_sugerida: \"asc\" }</code> - Frontend: Card list con scroll infinito (l\u00edmite inicial 20, cargar m\u00e1s) - C\u00e1lculo fechas relativas: usar <code>date-fns</code> (formatDistanceToNow)</p> <p>Dependencias: - MAN-01 (tareas deben existir) - MAN-05 (c\u00e1lculo de pr\u00f3xima fecha)</p> <p>DoD: - [ ] Vista <code>/mantia</code> renderiza lista - [ ] Ordenamiento correcto - [ ] Indicadores de urgencia visibles - [ ] Probado en m\u00f3vil - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#man-05-calculo-de-proxima-fecha-periodicidad","title":"MAN-05: C\u00e1lculo de pr\u00f3xima fecha (periodicidad)","text":"<p>Issue: #22 Estado: \ud83d\udccb Planificado Prioridad: P1 Sprint: 1 Estimaci\u00f3n: L</p> <p>Historia: Como usuario del hogar Quiero que el sistema calcule autom\u00e1ticamente cu\u00e1ndo debo hacer una tarea recurrente Para no tener que acordarme manualmente</p> <p>Criterios de Aceptaci\u00f3n: 1. L\u00f3gica de c\u00e1lculo: Seg\u00fan <code>periodicidad</code>:    - <code>\"diaria\"</code>: <code>proxima_sugerida = \u00faltima_ejecuci\u00f3n + 1 d\u00eda</code>    - <code>\"semanal\"</code>: <code>proxima_sugerida = \u00faltima_ejecuci\u00f3n + 7 d\u00edas</code>    - <code>\"mensual\"</code>: <code>proxima_sugerida = \u00faltima_ejecuci\u00f3n + 1 mes</code> (mismo d\u00eda del mes, ajustar si no existe)    - <code>null</code> (\u00fanica): <code>proxima_sugerida = null</code> (no recalcular) 2. Trigger: Al crear <code>TaskExecution</code> (MAN-02 o MAN-03), actualizar <code>Task.proxima_sugerida</code> autom\u00e1ticamente 3. Inicializaci\u00f3n: Al crear tarea con periodicidad, <code>proxima_sugerida = created_at</code> (primera vez es inmediata) 4. Edge cases: Si <code>periodicidad = mensual</code> y d\u00eda no existe en mes siguiente (ej: 31 Feb), usar \u00faltimo d\u00eda del mes 5. Tests: Casos de prueba para todas las periodicidades + edge cases</p> <p>Notas T\u00e9cnicas: - Funci\u00f3n backend: <code>calculateNextDate(task: Task, lastExecution: TaskExecution): Date | null</code> - Usar librer\u00eda <code>date-fns</code> (addDays, addWeeks, addMonths, lastDayOfMonth) - IMPORTANTE: NO usar cron jobs ni scheduled tasks (ADR-004)</p> <p>Dependencias: - MAN-01 (tareas con periodicidad) - MAN-03 (ejecuciones)</p> <p>DoD: - [ ] Funci\u00f3n <code>calculateNextDate</code> implementada - [ ] Tests unitarios pasando (6+ casos) - [ ] Integrado en MAN-02 y MAN-03 - [ ] Probado con datos reales - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#man-06-filtros-por-estado","title":"MAN-06: Filtros por estado","text":"<p>Issue: #23 Estado: \ud83d\udccb Planificado Prioridad: P2 Sprint: 1 Estimaci\u00f3n: S</p> <p>Historia: Como usuario del hogar Quiero filtrar tareas por estado (activa, pausada, completada) Para ver solo las que me interesan</p> <p>Criterios de Aceptaci\u00f3n: 1. Tabs en <code>/mantia</code>: \"Activas\" (default), \"Pausadas\", \"Completadas\" 2. Query por tab:    - Activas: <code>estado = \"activa\"</code>    - Pausadas: <code>estado = \"pausada\"</code>    - Completadas: <code>estado = \"completada\"</code> 3. Contador: Badge en cada tab con n\u00famero de tareas (ej: \"Activas (5)\") 4. Persistencia: Al navegar entre tabs, mantener scroll y no recargar innecesariamente 5. UX: Tabs sticky en top al hacer scroll</p> <p>Notas T\u00e9cnicas: - Frontend: State management con query params <code>?estado=activa|pausada|completada</code> - Backend: Endpoint acepta <code>?estado=</code> filter - Cache cliente: Invalidar al crear/editar/eliminar tarea</p> <p>Dependencias: - MAN-01 (CRUD tareas) - MAN-04 (vista pendientes)</p> <p>DoD: - [ ] Tabs funcionando - [ ] Contadores actualizados - [ ] Query params en URL - [ ] Probado en m\u00f3vil - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#man-07-categorizacion-de-tareas","title":"MAN-07: Categorizaci\u00f3n de tareas","text":"<p>Issue: #24 Estado: \ud83d\udccb Planificado Prioridad: P2 Sprint: 1 Estimaci\u00f3n: S</p> <p>Historia: Como usuario del hogar Quiero organizar tareas por categor\u00edas (Limpieza, Cocina, Jard\u00edn, etc.) Para visualizarlas agrupadas</p> <p>Criterios de Aceptaci\u00f3n: 1. Categor\u00edas predefinidas: Limpieza, Cocina, Jard\u00edn, Mascotas, Mantenimiento, Otro (enum en backend) 2. Asignaci\u00f3n: Al crear/editar tarea (MAN-01), select de categor\u00eda (default \"Otro\") 3. Filtro adicional: En <code>/mantia</code>, dropdown \"Todas las categor\u00edas\" + opciones individuales 4. Visual: Badge de color por categor\u00eda (Limpieza=azul, Cocina=naranja, Jard\u00edn=verde, etc.) 5. Combinaci\u00f3n filtros: Filtro categor\u00eda + filtro estado (tabs) funcionan juntos</p> <p>Notas T\u00e9cnicas: - Campo <code>categoria</code> en <code>Task</code> model (String? nullable, default null) - Enum validaci\u00f3n backend: <code>[\"Limpieza\", \"Cocina\", \"Jard\u00edn\", \"Mascotas\", \"Mantenimiento\", \"Otro\"]</code> - Frontend: Select en formulario + filter dropdown en lista</p> <p>Dependencias: - MAN-01 (CRUD tareas) - MAN-04 (vista pendientes)</p> <p>DoD: - [ ] Campo categor\u00eda en modelo - [ ] Select en formulario - [ ] Filtro dropdown funcionando - [ ] Badges de color visibles - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#ep-04-lista-de-compras","title":"EP-04: Lista de Compras \ud83d\udccb","text":"<p>Estado: Planificado Sprint: Sprint 1</p> <p>Objetivo: Lista transversal alimentada por m\u00f3dulos</p> <p>Historias:</p>"},{"location":"04-planificacion/backlog/#lst-01-crud-manual-de-items","title":"LST-01: CRUD manual de items","text":"<p>Issue: #25 Estado: \ud83d\udccb Planificado Prioridad: P1 Sprint: 1 Estimaci\u00f3n: M</p> <p>Historia: Como usuario del hogar Quiero agregar, editar y eliminar items manualmente en la lista de compras Para recordar qu\u00e9 comprar</p> <p>Criterios de Aceptaci\u00f3n: 1. Crear item: Formulario con campos: nombre (req), cantidad (opt, number), unidad (opt, select: unidades, kg, litros, paquetes, otro), estado inicial \"pendiente\", origen \"manual\" 2. Editar item: Modificar nombre, cantidad, unidad de items <code>estado = \"pendiente\"</code> 3. Eliminar item: Confirmaci\u00f3n antes de eliminar (solo items \"pendiente\") 4. Validaciones: Nombre max 100 caracteres, cantidad &gt; 0 si se especifica 5. UX m\u00f3vil: Input nombre con autocomplete de items anteriores, bot\u00f3n \"+\" floating para agregar r\u00e1pido</p> <p>Notas T\u00e9cnicas: - Prisma schema: <code>ShoppingListItem</code> seg\u00fan <code>docs/02-documento-funcional.md</code> secci\u00f3n 4.4 - Rutas API: <code>POST /api/shopping-list</code>, <code>PUT /api/shopping-list/:id</code>, <code>DELETE /api/shopping-list/:id</code> - Frontend: <code>app/lista</code> con formulario inline</p> <p>Dependencias: - Ninguna (historia base)</p> <p>DoD: - [ ] Migraci\u00f3n Prisma aplicada - [ ] CRUD backend funcionando - [ ] UI formulario responsive - [ ] Autocomplete funcionando - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#lst-02-agregar-desde-alacena-stock-bajo","title":"LST-02: Agregar desde ALACENA (stock bajo)","text":"<p>Issue: #26 Estado: \ud83d\udccb Planificado Prioridad: P2 Sprint: 1 Estimaci\u00f3n: M</p> <p>Historia: Como usuario del hogar Quiero agregar autom\u00e1ticamente a la lista los items con stock bajo en ALACENA Para no olvidar reponerlos</p> <p>Criterios de Aceptaci\u00f3n: 1. Indicador stock bajo: En <code>/alacena</code>, items con stock &lt; umbral muestran badge \"Stock bajo\" + bot\u00f3n \"\u2192 Lista\" 2. Agregar a lista: Al presionar \"\u2192 Lista\", crear <code>ShoppingListItem</code> con <code>origen = \"alacena\"</code>, <code>origen_ref_id = item.id</code>, <code>nombre = item.nombre</code>, <code>cantidad = null</code> (usuario define al comprar) 3. Evitar duplicados: Si ya existe item pendiente con mismo <code>origen_ref_id</code>, mostrar toast \"Ya est\u00e1 en la lista\" 4. Feedback: Toast \"Agregado a lista de compras\" + contador en badge de Lista (navbar) 5. Sincronizaci\u00f3n: Al marcar como comprado (LST-03), NO actualizar autom\u00e1ticamente stock en ALACENA (eso se hace al registrar ingreso manual)</p> <p>Notas T\u00e9cnicas: - L\u00f3gica stock bajo: Leer de <code>Item.currentStock_g</code> o calcular desde <code>Reserve</code> activas (seg\u00fan implementaci\u00f3n actual) - Umbral: Hardcodeado por ahora (ej: &lt; 100g o &lt; 2 unidades), futuro: configurable por item - Frontend: Bot\u00f3n \"\u2192 Lista\" en card de item en <code>/alacena</code></p> <p>Dependencias: - LST-01 (modelo ShoppingListItem) - ALA-03 (vista de stock)</p> <p>DoD: - [ ] Indicador stock bajo visible - [ ] Bot\u00f3n \"\u2192 Lista\" funcionando - [ ] Validaci\u00f3n duplicados OK - [ ] Toast confirmaci\u00f3n - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#lst-03-marcar-como-comprado","title":"LST-03: Marcar como comprado","text":"<p>Issue: #27 Estado: \ud83d\udccb Planificado Prioridad: P1 Sprint: 1 Estimaci\u00f3n: S</p> <p>Historia: Como usuario del hogar Quiero marcar items como comprados con un checkbox Para saber qu\u00e9 me falta</p> <p>Criterios de Aceptaci\u00f3n: 1. Checkbox: En <code>/lista</code>, cada item pendiente tiene checkbox a la izquierda 2. Acci\u00f3n: Al marcar, actualizar <code>estado = \"comprado\"</code>, agregar timestamp <code>updated_at</code> 3. Visual: Items comprados se tachan (line-through) y mueven al final de la lista 4. Deshacer: Checkbox de items comprados permite desmarcar (vuelve a <code>estado = \"pendiente\"</code>) 5. Limpiar: Bot\u00f3n \"Limpiar comprados\" elimina todos los items <code>estado = \"comprado\"</code> con confirmaci\u00f3n</p> <p>Notas T\u00e9cnicas: - Endpoint: <code>PATCH /api/shopping-list/:id/toggle-status</code> (alterna pendiente \u2194 comprado) - Frontend: Optimistic update, revert si falla - CSS: <code>.item-comprado { text-decoration: line-through; opacity: 0.6; }</code></p> <p>Dependencias: - LST-01 (CRUD manual)</p> <p>DoD: - [ ] Checkbox funcionando - [ ] Toggle pendiente \u2194 comprado OK - [ ] Bot\u00f3n \"Limpiar\" funcionando - [ ] Line-through visible - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#lst-04-vista-por-categorias","title":"LST-04: Vista por categor\u00edas","text":"<p>Issue: #28 Estado: \ud83d\udccb Planificado Prioridad: P2 Sprint: 1 Estimaci\u00f3n: S</p> <p>Historia: Como usuario del hogar Quiero ver la lista agrupada por categor\u00edas (Almac\u00e9n, Verduler\u00eda, Carnicer\u00eda, etc.) Para optimizar mi recorrido en el super</p> <p>Criterios de Aceptaci\u00f3n: 1. Toggle vista: En <code>/lista</code>, bot\u00f3n toggle \"Agrupar por categor\u00edas\" (default OFF) 2. Agrupaci\u00f3n: Al activar, agrupar items por categor\u00eda inferida del nombre o origen:    - Si <code>origen = \"alacena\"</code>, usar categor\u00eda del <code>Item</code> de ALACENA    - Si <code>origen = \"manual\"</code>, inferir de nombre (ej: \"Tomate\" \u2192 Verduler\u00eda, \"Pan\" \u2192 Panader\u00eda) o usar \"Otros\" 3. Categor\u00edas sugeridas: Almac\u00e9n, Verduler\u00eda, Carnicer\u00eda, Panader\u00eda, Bebidas, Limpieza, Otros 4. Ordenamiento: Categor\u00edas alfab\u00e9ticas, items dentro de categor\u00eda alfab\u00e9ticos 5. Persistencia: Estado del toggle en localStorage</p> <p>Notas T\u00e9cnicas: - L\u00f3gica inferencia: Funci\u00f3n <code>inferCategory(nombre: string): string</code> en backend/frontend (diccionario de palabras clave) - Frontend: State toggle con re-render agrupado - Futuro: Permitir al usuario editar categor\u00eda manualmente</p> <p>Dependencias: - LST-01 (CRUD manual) - LST-02 (items desde ALACENA)</p> <p>DoD: - [ ] Toggle funcionando - [ ] Agrupaci\u00f3n correcta - [ ] Inferencia b\u00e1sica funcionando - [ ] LocalStorage persistiendo estado - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#lst-05-sugerencias-basadas-en-historial","title":"LST-05: Sugerencias basadas en historial","text":"<p>Issue: #29 Estado: \ud83d\udccb Planificado Prioridad: P3 Sprint: 1 (si hay tiempo) / Sprint 2 Estimaci\u00f3n: L</p> <p>Historia: Como usuario del hogar Quiero que el sistema me sugiera items que compro frecuentemente Para agregar r\u00e1pido sin escribir</p> <p>Criterios de Aceptaci\u00f3n: 1. An\u00e1lisis historial: Al abrir <code>/lista</code>, analizar \u00faltimos 30 d\u00edas de items <code>estado = \"comprado\"</code> 2. Sugerencias: Si un item fue comprado \u2265 3 veces en 30 d\u00edas, mostrarlo en secci\u00f3n \"Sugerencias\" al top 3. Agregar sugerido: Bot\u00f3n \"+\" en cada sugerencia agrega a lista pendiente (mismo flujo LST-01) 4. L\u00edmite: Mostrar max 5 sugerencias 5. Ocultar: Bot\u00f3n \"\u2715\" en sugerencia la oculta por 7 d\u00edas (guardar en localStorage o tabla <code>HiddenSuggestions</code>)</p> <p>Notas T\u00e9cnicas: - Query: <code>SELECT nombre, COUNT(*) FROM ShoppingListItem WHERE estado='comprado' AND updated_at &gt; NOW() - INTERVAL '30 days' GROUP BY nombre HAVING COUNT(*) &gt;= 3 ORDER BY COUNT(*) DESC LIMIT 5</code> - Frontend: Secci\u00f3n colapsable \"\ud83d\udcdd Sugerencias\" al top de <code>/lista</code> - Cach\u00e9: Calcular sugerencias cada 24h (no en cada visit)</p> <p>Dependencias: - LST-01 (CRUD manual) - LST-03 (marcar comprado - genera historial)</p> <p>DoD: - [ ] Query historial funcionando - [ ] Sugerencias renderizadas - [ ] Bot\u00f3n \"+\" agrega a lista - [ ] Ocultar sugerencia funciona - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#ep-05-ecosalud-basico","title":"EP-05: ECOSALUD B\u00e1sico \ud83d\udccb","text":"<p>Estado: Planificado Sprint: Sprint 1 (m\u00ednimo)</p> <p>Objetivo: Registro m\u00ednimo de salud y bienestar</p> <p>Historias:</p>"},{"location":"04-planificacion/backlog/#eco-01-registro-manual-de-datos","title":"ECO-01: Registro manual de datos","text":"<p>Issue: #30 Estado: \ud83d\udccb Planificado Prioridad: P2 Sprint: 1 Estimaci\u00f3n: M</p> <p>Historia: Como usuario del hogar Quiero registrar manualmente datos de salud (peso, presi\u00f3n, notas) Para hacer seguimiento de mi bienestar</p> <p>Criterios de Aceptaci\u00f3n: 1. Formulario registro: Campos: fecha (default hoy), tipo (select: Peso, Presi\u00f3n, Nota), valor (number si peso/presi\u00f3n, textarea si nota), unidad (auto seg\u00fan tipo: kg, mmHg, null) 2. Crear registro: <code>POST /api/health-records</code> crea <code>HealthRecord</code> con <code>household_id</code>, <code>user_id</code>, <code>tipo</code>, <code>valor</code>, <code>unidad</code>, <code>fecha</code>, <code>notas</code> 3. Validaciones:     - Peso: 20 &lt; valor &lt; 300 kg    - Presi\u00f3n: formato \"120/80\" (dos n\u00fameros separados por <code>/</code>)    - Nota: max 1000 caracteres    - Fecha no puede ser futura 4. UX: Formulario r\u00e1pido en <code>/ecosalud</code> con bot\u00f3n floating \"+\", campos pre-rellenados seg\u00fan <code>tipo</code> seleccionado 5. Feedback: Toast \"Registro guardado\" + actualizar vista cronol\u00f3gica (ECO-02)</p> <p>Notas T\u00e9cnicas: - Prisma schema: <code>HealthRecord</code> seg\u00fan <code>docs/02-documento-funcional.md</code> secci\u00f3n 4.5 - Campos: <code>id</code>, <code>household_id</code>, <code>user_id</code>, <code>tipo</code>, <code>valor</code>, <code>unidad</code>, <code>fecha</code>, <code>notas</code>, <code>created_at</code> - Tipo enum: <code>[\"Peso\", \"Presi\u00f3n\", \"Nota\", \"Glucosa\", \"Temperatura\"]</code> (extensible)</p> <p>Dependencias: - Ninguna (historia base)</p> <p>DoD: - [ ] Migraci\u00f3n Prisma aplicada - [ ] Formulario funcionando - [ ] Validaciones OK - [ ] Toast confirmaci\u00f3n - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#eco-02-historico-cronologico","title":"ECO-02: Hist\u00f3rico cronol\u00f3gico","text":"<p>Issue: #31 Estado: \ud83d\udccb Planificado Prioridad: P2 Sprint: 1 Estimaci\u00f3n: M</p> <p>Historia: Como usuario del hogar Quiero ver un listado cronol\u00f3gico de todos mis registros de salud Para revisar mi evoluci\u00f3n</p> <p>Criterios de Aceptaci\u00f3n: 1. Vista <code>/ecosalud</code>: Timeline vertical con registros ordenados por <code>fecha</code> DESC (m\u00e1s reciente arriba) 2. Informaci\u00f3n por registro: Fecha (relativa: \"Hoy 15:30\", \"Ayer\", \"Hace 3 d\u00edas\"), tipo (badge), valor + unidad, notas si existen 3. Paginaci\u00f3n: Cargar inicial 20 registros, bot\u00f3n \"Cargar m\u00e1s\" al final (infinite scroll opcional) 4. Filtro r\u00e1pido: Mostrar solo registros del usuario actual (multi-usuario: toggle \"Ver todos del hogar\") 5. Vac\u00edo: Si no hay registros, estado vac\u00edo: \"A\u00fan no tienes registros\" + bot\u00f3n \"Crear primer registro\"</p> <p>Notas T\u00e9cnicas: - Query: <code>GET /api/health-records?user_id=:id&amp;limit=20&amp;offset=0</code> - Frontend: Timeline con cards, usar <code>date-fns</code> para fechas relativas - Optimizaci\u00f3n: Index en <code>(household_id, user_id, fecha DESC)</code> para query performance</p> <p>Dependencias: - ECO-01 (registros deben existir)</p> <p>DoD: - [ ] Vista timeline renderiza - [ ] Ordenamiento cronol\u00f3gico correcto - [ ] Paginaci\u00f3n funcionando - [ ] Estado vac\u00edo visible - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#eco-03-tipos-de-registro-peso-presion-notas","title":"ECO-03: Tipos de registro (peso, presi\u00f3n, notas)","text":"<p>Issue: #32 Estado: \ud83d\udccb Planificado Prioridad: P2 Sprint: 1 Estimaci\u00f3n: S</p> <p>Historia: Como usuario del hogar Quiero filtrar registros por tipo (Peso, Presi\u00f3n, Nota) Para ver solo la informaci\u00f3n relevante</p> <p>Criterios de Aceptaci\u00f3n: 1. Tabs en <code>/ecosalud</code>: \"Todos\" (default), \"Peso\", \"Presi\u00f3n\", \"Notas\" 2. Query por tab:    - Todos: sin filtro de tipo    - Peso: <code>tipo = \"Peso\"</code>    - Presi\u00f3n: <code>tipo = \"Presi\u00f3n\"</code>    - Notas: <code>tipo = \"Nota\"</code> 3. Contador: Badge en cada tab con n\u00famero de registros \u00faltimos 30 d\u00edas (ej: \"Peso (12)\") 4. Visual espec\u00edfica:     - Peso: Gr\u00e1fico de l\u00ednea simple (opcional, si hay tiempo)    - Presi\u00f3n: Mostrar sist\u00f3lica/diast\u00f3lica separados    - Notas: Card expandible con texto completo 5. Persistencia: Tab seleccionado en query param <code>?tipo=Peso</code></p> <p>Notas T\u00e9cnicas: - Frontend: State management con query params - Backend: Endpoint acepta <code>?tipo=</code> filter - Gr\u00e1fico peso: Usar <code>recharts</code> o <code>chart.js</code> (simplificado: solo \u00faltimos 10 registros)</p> <p>Dependencias: - ECO-01 (registros existentes) - ECO-02 (vista cronol\u00f3gica base)</p> <p>DoD: - [ ] Tabs funcionando - [ ] Filtros por tipo OK - [ ] Contadores actualizados - [ ] Visual espec\u00edfica por tipo - [ ] Deployado a producci\u00f3n</p>"},{"location":"04-planificacion/backlog/#backlog-por-sprint","title":"\ud83d\udcc5 Backlog por Sprint","text":""},{"location":"04-planificacion/backlog/#sprint-0-01-09-feb-2026","title":"Sprint 0 (01-09 Feb 2026)","text":"<p>Objetivo: Marco del producto</p> <p>Issues: - \u2705 #001: Estructura documental - \u23f3 #002: Migraci\u00f3n a Markdown - \u23f3 #003: Configuraci\u00f3n MkDocs - \ud83d\udccb #004: Backlog detallado Sprint 1 - \ud83d\udccb #005: Plan de proyecto completo</p>"},{"location":"04-planificacion/backlog/#sprint-1-10-23-feb-2026","title":"Sprint 1 (10-23 Feb 2026)","text":"<p>Objetivo: MVP operable</p> <p>Historias planificadas: - MAN-01 a MAN-07 (MANTIA completo) - LST-01 a LST-04 (Lista b\u00e1sica) - ECO-01 a ECO-03 (ECOSALUD m\u00ednimo) - ALA-05 a ALA-07 (ALACENA mejoras)</p> <p>Criterio de \u00e9xito: - \u2705 \u2265 20 registros reales en la semana - \u2705 Uso diario durante 7 d\u00edas consecutivos - \u2705 Sin bloqueos cr\u00edticos en flujo</p>"},{"location":"04-planificacion/backlog/#convenciones","title":"\ud83d\udd16 Convenciones","text":""},{"location":"04-planificacion/backlog/#estados","title":"Estados","text":"<ul> <li>\u2705 Completado - Deployed y funcionando</li> <li>\u23f3 En progreso - En desarrollo activo</li> <li>\ud83d\udccb Planificado - Definido pero no iniciado</li> <li>\ud83d\udd34 Bloqueado - Impedimento identificado</li> </ul>"},{"location":"04-planificacion/backlog/#prioridades","title":"Prioridades","text":"<ul> <li>P1 - Cr\u00edtico para MVP</li> <li>P2 - Importante pero no bloqueante</li> <li>P3 - Deseable / Mejora</li> </ul>"},{"location":"04-planificacion/backlog/#labels-de-github","title":"Labels de GitHub","text":"<ul> <li><code>type:feature</code> - Funcionalidad nueva</li> <li><code>type:bug</code> - Correcci\u00f3n de error</li> <li><code>type:tech</code> - Tarea t\u00e9cnica</li> <li><code>module:alacena</code> / <code>module:mantia</code> / etc.</li> <li><code>sprint:N</code> - Sprint asignado</li> </ul>"},{"location":"04-planificacion/backlog/#plantilla-de-historia-de-usuario","title":"\ud83d\udcdd Plantilla de Historia de Usuario","text":"<pre><code>### [M\u00d3DULO]-[##]: [T\u00edtulo]\n\n**Estado:** \ud83d\udccb Planificado | \u23f3 En progreso | \u2705 Completado\n**Prioridad:** P1 | P2 | P3\n**Sprint:** N\n**Estimaci\u00f3n:** S | M | L | XL\n\n**Historia:**\nComo [ROL]\nQuiero [ACCI\u00d3N]\nPara [BENEFICIO]\n\n**Criterios de Aceptaci\u00f3n:**\n1. [CRITERIO 1]\n2. [CRITERIO 2]\n3. [CRITERIO 3]\n\n**Notas T\u00e9cnicas:**\n- [Detalle t\u00e9cnico relevante]\n\n**Dependencias:**\n- [Historia dependiente]\n\n**DoD:**\n- [ ] C\u00f3digo mergeado a main\n- [ ] Migraciones aplicadas (si aplica)\n- [ ] Probado en m\u00f3vil\n- [ ] Deployado a producci\u00f3n\n</code></pre>"},{"location":"04-planificacion/backlog/#enlaces","title":"\ud83d\udd17 Enlaces","text":"<ul> <li>Documento Funcional</li> <li>Roadmap</li> <li>Sprints</li> <li>GitHub Issues</li> </ul> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 - 19:45h Pr\u00f3xima revisi\u00f3n: Sesi\u00f3n 7 (05 Feb 2026) - Crear issues GitHub</p>"},{"location":"04-planificacion/flujo-gestion-historias/","title":"\ud83d\udd04 Flujo de Gesti\u00f3n de Historias ECO","text":"<p>Versi\u00f3n: 1.0 Fecha: 5 de febrero de 2026</p>"},{"location":"04-planificacion/flujo-gestion-historias/#vision-general","title":"\ud83d\udccb Visi\u00f3n General","text":"<pre><code>graph LR\n    A[Generar Historias] --&gt; B{Priorizar?}\n    B --&gt;|S\u00ed| C[Marcar P1/P2/P3]\n    B --&gt;|No| D[Dejar sin prioridad]\n    C --&gt; E[Crear Issues GitHub]\n    D --&gt; E\n    E --&gt; F[Linkear bidireccionalmente]\n    F --&gt; G[Asignar a Sprint/Milestone]\n    G --&gt; H[Desarrollo]\n    H --&gt; I[Cerrar con PR]</code></pre>"},{"location":"04-planificacion/flujo-gestion-historias/#fase-1-generacion-de-historias","title":"\ud83c\udfaf Fase 1: Generaci\u00f3n de Historias","text":""},{"location":"04-planificacion/flujo-gestion-historias/#donde-se-crean","title":"D\u00f3nde se crean","text":"<ul> <li>Fuente de verdad: <code>docs/04-planificacion/historias-completas-150.md</code> (o similar)</li> <li>Markdown simple, formato libre</li> <li>No importa si son 10 o 200 historias</li> </ul>"},{"location":"04-planificacion/flujo-gestion-historias/#formato-recomendado-por-historia","title":"Formato recomendado por historia","text":"<pre><code>**CODIGO-XX: T\u00edtulo descriptivo**  \nComo [rol] quiero [acci\u00f3n] para [beneficio].  \n**Estimaci\u00f3n:** S/M/L/XL | **Prioridad:** P1/P2/P3/Sin definir\n</code></pre>"},{"location":"04-planificacion/flujo-gestion-historias/#ejemplo","title":"Ejemplo","text":"<pre><code>**API-01: Schema GraphQL para MANTIA**  \nComo desarrollador quiero queries/mutations GraphQL para tareas.  \n**Estimaci\u00f3n:** L | **Prioridad:** P1\n</code></pre>"},{"location":"04-planificacion/flujo-gestion-historias/#fase-2-priorizacion-opcional","title":"\ud83d\udd0d Fase 2: Priorizaci\u00f3n (Opcional)","text":""},{"location":"04-planificacion/flujo-gestion-historias/#cuando-priorizar","title":"Cu\u00e1ndo priorizar","text":"<ul> <li>\u2705 Antes de crear issues: Si ya sabes qu\u00e9 har\u00e1s primero</li> <li>\u2705 Despu\u00e9s de crear issues: Si quieres tener todo en GitHub primero y priorizar ah\u00ed</li> <li>\u2705 Nunca: Si son historias exploratorias o backlog futuro</li> </ul>"},{"location":"04-planificacion/flujo-gestion-historias/#criterios-de-prioridad-sugeridos","title":"Criterios de prioridad sugeridos","text":"Prioridad Definici\u00f3n Ejemplos P1 MVP, bloqueante para todo lo dem\u00e1s Auth, CRUD b\u00e1sicos, APIs base P2 Importante UX, valor alto Notificaciones, gr\u00e1ficos, filtros avanzados P3 Nice-to-have, optimizaciones Temas, gamificaci\u00f3n, integraciones opcionales Sin definir Backlog futuro, ideas exploratorias Features muy avanzadas, R&amp;D"},{"location":"04-planificacion/flujo-gestion-historias/#herramientas-de-priorizacion","title":"Herramientas de priorizaci\u00f3n","text":"<ul> <li>MoSCoW: Must have / Should have / Could have / Won't have</li> <li>Valor vs Esfuerzo: Matriz 2x2 (alto valor + bajo esfuerzo = P1)</li> <li>Dependencias: Si A depende de B, B es P1</li> </ul>"},{"location":"04-planificacion/flujo-gestion-historias/#fase-3-crear-issues-en-github","title":"\ud83d\udce4 Fase 3: Crear Issues en GitHub","text":""},{"location":"04-planificacion/flujo-gestion-historias/#opcion-a-script-automatizado-recomendado","title":"Opci\u00f3n A: Script Automatizado (Recomendado)","text":"<p>Usamos PowerShell para crear issues masivamente desde el archivo Markdown.</p> <p>Script: <code>.temp-issues/create-bulk-issues.ps1</code></p> <pre><code># Par\u00e1metros\n$repoOwner = \"falberio\"\n$repoName = \"eco\"\n$token = $env:GITHUB_TOKEN\n$inputFile = \"docs/04-planificacion/historias-completas-150.md\"\n\n# Parsear historias del Markdown\n# Crear issue por cada una con:\n# - Title: CODIGO-XX: T\u00edtulo\n# - Body: Historia completa + estimaci\u00f3n\n# - Labels: prioridad-p1, estimacion-L, etc.\n# Guardar mapeo CODIGO -&gt; #Issue\n</code></pre>"},{"location":"04-planificacion/flujo-gestion-historias/#opcion-b-manual-por-lotes","title":"Opci\u00f3n B: Manual por Lotes","text":"<ol> <li>Seleccionar 10-20 historias prioritarias</li> <li>Crear issues manualmente en GitHub</li> <li>Copiar n\u00famero de issue al Markdown</li> </ol>"},{"location":"04-planificacion/flujo-gestion-historias/#labels-sugeridos-en-github","title":"Labels sugeridos en GitHub","text":"<ul> <li><code>prioridad-p1</code>, <code>prioridad-p2</code>, <code>prioridad-p3</code></li> <li><code>estimacion-S</code>, <code>estimacion-M</code>, <code>estimacion-L</code>, <code>estimacion-XL</code></li> <li><code>modulo-mantia</code>, <code>modulo-alacena</code>, <code>modulo-lista</code>, <code>modulo-ecosalud</code></li> <li><code>tipo-api</code>, <code>tipo-agente-ia</code>, <code>tipo-ux</code>, <code>tipo-infra</code></li> <li><code>estado-backlog</code>, <code>estado-sprint</code>, <code>estado-bloqueado</code></li> </ul>"},{"location":"04-planificacion/flujo-gestion-historias/#fase-4-linkear-bidireccionalmente","title":"\ud83d\udd17 Fase 4: Linkear Bidireccionalmente","text":""},{"location":"04-planificacion/flujo-gestion-historias/#en-markdown-docs","title":"En Markdown (docs)","text":"<p>Agregar link a issue de GitHub:</p> <pre><code>**API-01: Schema GraphQL para MANTIA** (#143)\n</code></pre>"},{"location":"04-planificacion/flujo-gestion-historias/#en-github-issue","title":"En GitHub Issue","text":"<p>Agregar en descripci\u00f3n:</p> <pre><code>**Documentaci\u00f3n:** [historias-completas-150.md](https://github.com/falberio/eco/blob/main/docs/04-planificacion/historias-completas-150.md#api-01-schema-graphql-para-mantia)\n</code></pre>"},{"location":"04-planificacion/flujo-gestion-historias/#script-para-automatizar","title":"Script para automatizar","text":"<pre><code># Update Markdown con n\u00fameros de issue\n# Update cada issue con link a docs\n</code></pre>"},{"location":"04-planificacion/flujo-gestion-historias/#fase-5-asignar-a-sprintmilestone","title":"\ud83d\udcc6 Fase 5: Asignar a Sprint/Milestone","text":""},{"location":"04-planificacion/flujo-gestion-historias/#milestones-sugeridos","title":"Milestones sugeridos","text":"<ul> <li>Sprint 1 (actual): 18 historias b\u00e1sicas (ya definidas)</li> <li>v0.1 MVP: CRUD completo de 4 m\u00f3dulos + Auth (~40 historias)</li> <li>v0.2 IA B\u00e1sica: APIs GraphQL + Agente texto (~25 historias)</li> <li>v0.3 Multi-usuario: Roles + Notificaciones (~20 historias)</li> <li>v0.4 Integraciones: Google Cal, Fit, Home Assistant (~15 historias)</li> <li>v1.0 Completo: Todo lo dem\u00e1s (~60 historias)</li> </ul>"},{"location":"04-planificacion/flujo-gestion-historias/#como-asignar-en-github","title":"C\u00f3mo asignar en GitHub","text":"<ol> <li>Crear Milestone con nombre y fecha</li> <li>Agregar issues al Milestone</li> <li>Filtrar por Milestone en Projects</li> </ol>"},{"location":"04-planificacion/flujo-gestion-historias/#projects-opcional","title":"Projects (opcional)","text":"<ul> <li>Usar GitHub Projects para tablero Kanban</li> <li>Columnas: Backlog \u2192 Sprint Actual \u2192 En Progreso \u2192 Review \u2192 Done</li> <li>Automatizar movimiento cuando cambias labels</li> </ul>"},{"location":"04-planificacion/flujo-gestion-historias/#fase-6-desarrollo-ya-documentado-en-procedimientosmd","title":"\ud83d\udee0\ufe0f Fase 6: Desarrollo (ya documentado en procedimientos.md)","text":"<p>Ver procedimientos.md para workflow completo de desarrollo.</p> <p>Resumen: 1. Elegir historia del Sprint 2. Crear branch <code>feat/CODIGO-XX-descripcion</code> 3. Desarrollar 4. PR con <code>Closes #XX</code> en descripci\u00f3n 5. Merge \u2192 Issue se cierra autom\u00e1ticamente</p>"},{"location":"04-planificacion/flujo-gestion-historias/#decisiones-de-gestion","title":"\ud83c\udfaf Decisiones de Gesti\u00f3n","text":""},{"location":"04-planificacion/flujo-gestion-historias/#crear-issues-de-todo-el-backlog-161-historias-o-solo-las-priorizadas","title":"\u00bfCrear issues de TODO el backlog (161 historias) o solo las priorizadas?","text":"Opci\u00f3n Ventajas Desventajas TODO \u2022 Visibilidad completa en GitHub\u2022 F\u00e1cil priorizar ah\u00ed\u2022 No perder ideas \u2022 161 issues intimida\u2022 Ruido en repo\u2022 Mantenimiento pesado Solo P1/P2 \u2022 Repo limpio\u2022 Foco en importante\u2022 Menos mantenimiento \u2022 Ideas P3 se pueden perder\u2022 Requiere volver a docs para recordar Por Milestone \u2022 Crear solo las del pr\u00f3ximo Milestone\u2022 Balance entre visibilidad y limpieza \u2022 Requiere disciplina de revisi\u00f3n peri\u00f3dica"},{"location":"04-planificacion/flujo-gestion-historias/#recomendacion-personal","title":"\u2705 Recomendaci\u00f3n Personal","text":"<p>Crear TODO el backlog en GitHub pero: - Usar labels agresivamente para filtrar - Crear view en Projects solo para P1/P2 - Cerrar issues muy lejanas como \"no planned\" si cambia prioridad</p> <p>Raz\u00f3n: GitHub es gratis, tiene b\u00fasqueda potente, y si est\u00e1 ah\u00ed es m\u00e1s f\u00e1cil que alguien contribuya o lo encuentres en el futuro.</p>"},{"location":"04-planificacion/flujo-gestion-historias/#mantenimiento-del-backlog","title":"\ud83d\udd04 Mantenimiento del Backlog","text":""},{"location":"04-planificacion/flujo-gestion-historias/#revision-semanal-sprint-planning","title":"Revisi\u00f3n Semanal (Sprint Planning)","text":"<ol> <li>Revisar issues cerradas del Sprint anterior</li> <li>Priorizar siguientes 10-15 historias para pr\u00f3ximo Sprint</li> <li>Actualizar estimaciones si aprendiste algo nuevo</li> <li>Archivar/cerrar historias obsoletas</li> </ol>"},{"location":"04-planificacion/flujo-gestion-historias/#revision-mensual-roadmap","title":"Revisi\u00f3n Mensual (Roadmap)","text":"<ol> <li>Re-priorizar Milestones seg\u00fan aprendizajes</li> <li>Agregar nuevas historias si surgen necesidades</li> <li>Eliminar historias que ya no tienen sentido</li> </ol>"},{"location":"04-planificacion/flujo-gestion-historias/#revision-trimestral-producto","title":"Revisi\u00f3n Trimestral (Producto)","text":"<ol> <li>Validar si Milestones siguen alineados con visi\u00f3n</li> <li>Ajustar roadmap seg\u00fan feedback de usuarios</li> <li>Celebrar progreso \ud83c\udf89</li> </ol>"},{"location":"04-planificacion/flujo-gestion-historias/#metricas-utiles","title":"\ud83d\udcca M\u00e9tricas \u00datiles","text":""},{"location":"04-planificacion/flujo-gestion-historias/#en-github","title":"En GitHub","text":"<ul> <li>Velocity: Historias completadas por Sprint (medir en puntos de estimaci\u00f3n)</li> <li>Burndown: Issues restantes vs tiempo</li> <li>Cycle time: Tiempo desde apertura hasta cierre de issue</li> </ul>"},{"location":"04-planificacion/flujo-gestion-historias/#en-docs","title":"En Docs","text":"<ul> <li>Coverage: % de m\u00f3dulos con historias definidas</li> <li>Balance: Distribuci\u00f3n equitativa entre m\u00f3dulos</li> </ul>"},{"location":"04-planificacion/flujo-gestion-historias/#herramientas-recomendadas","title":"\ud83d\udee0\ufe0f Herramientas Recomendadas","text":""},{"location":"04-planificacion/flujo-gestion-historias/#scripts-a-crear","title":"Scripts a crear","text":"<ol> <li>\u2705 <code>create-bulk-issues.ps1</code> - Crear 161 issues de una</li> <li>\u2705 <code>sync-docs-to-github.ps1</code> - Actualizar n\u00fameros de issue en Markdown</li> <li>\u2705 <code>generate-sprint-report.ps1</code> - Resumen de Sprint completado</li> <li>\u23f3 <code>estimate-velocity.ps1</code> - Calcular velocity promedio</li> </ol>"},{"location":"04-planificacion/flujo-gestion-historias/#extensiones-github","title":"Extensiones GitHub","text":"<ul> <li>GitHub CLI (<code>gh</code>): Crear issues desde terminal</li> <li>GitHub Projects: Tablero Kanban integrado</li> <li>ZenHub: Kanban avanzado (opcional, de pago)</li> </ul>"},{"location":"04-planificacion/flujo-gestion-historias/#proximo-paso-inmediato","title":"\ud83c\udfaf Pr\u00f3ximo Paso Inmediato","text":"<p>DECISI\u00d3N REQUERIDA:</p> <p>\u00bfQuieres que cree el script para generar las 161 issues en GitHub ahora mismo?</p> <p>Opciones: 1. \u2705 S\u00ed, crear script y ejecutar (tardar\u00e1 ~5-10 min en correr) 2. \u23f8\ufe0f Crear script pero no ejecutar (lo revisas y corres manual) 3. \ud83d\udd0d Primero priorizar manualmente (elegir solo 40-50 para crear) 4. \ud83d\udcdd Solo documentar flujo (crear issues en otra sesi\u00f3n)</p> <p>\u00bfCu\u00e1l prefieres?</p>"},{"location":"04-planificacion/historias-completas-150/","title":"\ud83d\ude80 ECO - Backlog Completo (150+ Historias)","text":"<p>Fecha generaci\u00f3n: 5 de febrero de 2026 Objetivo: Visi\u00f3n completa del producto con horizonte libre</p>"},{"location":"04-planificacion/historias-completas-150/#resumen-de-distribucion","title":"\ud83d\udce6 Resumen de Distribuci\u00f3n","text":"M\u00f3dulo/\u00c9pica Historias Estado MANTIA 20 7 en Sprint 1 ALACENA 22 3 en Sprint 1 Lista de Compras 18 5 en Sprint 1 ECOSALUD 20 3 en Sprint 1 API para IA 15 - Agente Conversacional 12 - Multi-usuario/Roles 10 - Notificaciones 10 - Backups/Exportaci\u00f3n 8 - Seguridad/Admin 8 - UX/Onboarding 10 - Infraestructura 8 - TOTAL 161 18"},{"location":"04-planificacion/historias-completas-150/#mantia-gestion-de-tareas-20-historias","title":"\ud83d\udccb MANTIA - Gesti\u00f3n de Tareas (20 historias)","text":""},{"location":"04-planificacion/historias-completas-150/#epica-1-crud-y-operaciones-basicas-sprint-1","title":"\u00c9pica 1: CRUD y Operaciones B\u00e1sicas (Sprint 1)","text":"<ul> <li>\u2705 MAN-01: CRUD de tareas (#18)</li> <li>\u2705 MAN-02: Marcar tarea como hecha (#19)</li> <li>\u2705 MAN-03: Registrar ejecuci\u00f3n (#20)</li> <li>\u2705 MAN-04: Vista de pendientes (#21)</li> <li>\u2705 MAN-05: C\u00e1lculo de pr\u00f3xima fecha (#22)</li> <li>\u2705 MAN-06: Filtros por estado (#23)</li> <li>\u2705 MAN-07: Categorizaci\u00f3n de tareas (#24)</li> </ul>"},{"location":"04-planificacion/historias-completas-150/#epica-2-ux-y-notificaciones","title":"\u00c9pica 2: UX y Notificaciones","text":"<p>MAN-08: Recordatorios por email (#66) Como usuario quiero recibir email 1 d\u00eda antes de tarea vencida para no olvidar tareas importantes. Estimaci\u00f3n: M | Prioridad: P2</p> <p>MAN-09: Vista calendario mensual (#36) Como usuario quiero ver tareas en calendario visual para planificar mejor mi mes. Estimaci\u00f3n: L | Prioridad: P2</p> <p>MAN-10: Arrastrar y soltar para reprogramar (#67) Como usuario quiero arrastrar tarea en calendario para cambiar fecha f\u00e1cilmente. Estimaci\u00f3n: M | Prioridad: P3</p> <p>MAN-11: Notificaci\u00f3n push m\u00f3vil Como usuario quiero recibir push en mi celular cuando tarea vence hoy. Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-3-integraciones-externas","title":"\u00c9pica 3: Integraciones Externas","text":"<p>MAN-12: Sincronizaci\u00f3n Google Calendar (#68) Como usuario quiero exportar tareas a mi Google Calendar para verlas en mi calendario personal. Estimaci\u00f3n: L | Prioridad: P3</p> <p>MAN-13: Webhooks para integraciones (#37) Como desarrollador quiero configurar webhooks al completar tareas para integrar con Notion, Zapier, etc. Estimaci\u00f3n: M | Prioridad: P3</p> <p>MAN-14: Importar tareas desde Todoist (#38) Como usuario quiero importar mis tareas existentes de Todoist para migrar al sistema. Estimaci\u00f3n: L | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-4-gamificacion-y-estadisticas","title":"\u00c9pica 4: Gamificaci\u00f3n y Estad\u00edsticas","text":"<p>MAN-15: Dashboard de estad\u00edsticas (#69) Como usuario quiero ver cu\u00e1ntas tareas complet\u00e9 este mes para motivarme y ver mi progreso. Estimaci\u00f3n: M | Prioridad: P2</p> <p>MAN-16: Racha de d\u00edas consecutivos completando tareas (#70) Como usuario quiero ver mi racha de d\u00edas sin romper para gamificar mi productividad. Estimaci\u00f3n: S | Prioridad: P3</p> <p>MAN-17: Puntos por completar tareas (#71) Como usuario quiero ganar puntos seg\u00fan complejidad de tarea para tener sistema de recompensas. Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-5-colaboracion","title":"\u00c9pica 5: Colaboraci\u00f3n","text":"<p>MAN-18: Asignar tarea a otro miembro del hogar (#39) Como usuario quiero asignar tarea a mi pareja para delegar responsabilidades. Estimaci\u00f3n: M | Prioridad: P2</p> <p>MAN-19: Comentarios en tareas (#40) Como usuario quiero comentar en una tarea para coordinar con otros. Estimaci\u00f3n: S | Prioridad: P3</p> <p>MAN-20: Historial de qui\u00e9n complet\u00f3 cada tarea (#72) Como usuario quiero ver qui\u00e9n hizo qu\u00e9 para llevar registro familiar. Estimaci\u00f3n: S | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#alacena-inventario-22-historias","title":"\ud83c\udffa ALACENA - Inventario (22 historias)","text":""},{"location":"04-planificacion/historias-completas-150/#epica-1-crud-y-stock-sprint-1","title":"\u00c9pica 1: CRUD y Stock (Sprint 1)","text":"<ul> <li>\u2705 ALA-05: Categorizaci\u00f3n y filtros (#33)</li> <li>\u2705 ALA-06: Estados de stock (#34)</li> <li>\u2705 ALA-07: B\u00fasqueda de items (#35)</li> </ul>"},{"location":"04-planificacion/historias-completas-150/#epica-2-mejoras-de-ux","title":"\u00c9pica 2: Mejoras de UX","text":"<p>ALA-08: Escaneo de c\u00f3digo de barras (#73) Como usuario quiero escanear c\u00f3digo de barras al agregar item para no escribir manualmente. Estimaci\u00f3n: L | Prioridad: P2</p> <p>ALA-09: Sugerencias de items frecuentes (#74) Como usuario quiero ver items que suelo comprar al crear nuevo para agregar m\u00e1s r\u00e1pido. Estimaci\u00f3n: M | Prioridad: P3</p> <p>ALA-10: Vista grid con fotos (#41) Como usuario quiero ver items con fotos en grid para identificar visualmente. Estimaci\u00f3n: M | Prioridad: P2</p> <p>ALA-11: Ordenar por fecha de vencimiento (#42) Como usuario quiero ver items ordenados por vencimiento para consumir primero lo que vence antes. Estimaci\u00f3n: S | Prioridad: P1</p> <p>ALA-12: Subir foto del item (#75) Como usuario quiero tomar foto del producto para recordar cu\u00e1l es. Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-3-ubicaciones-fisicas","title":"\u00c9pica 3: Ubicaciones F\u00edsicas","text":"<p>ALA-13: CRUD de ubicaciones (estantes, cajones) (#76) Como usuario quiero definir ubicaciones f\u00edsicas en mi casa para saber d\u00f3nde est\u00e1 cada cosa. Estimaci\u00f3n: M | Prioridad: P2</p> <p>ALA-14: Asignar ubicaci\u00f3n a items (#77) Como usuario quiero asignar ubicaci\u00f3n al item para encontrarlo f\u00e1cilmente. Estimaci\u00f3n: S | Prioridad: P2</p> <p>ALA-15: Buscar por ubicaci\u00f3n (#78) Como usuario quiero ver todos los items de una ubicaci\u00f3n para revisar un estante completo. Estimaci\u00f3n: S | Prioridad: P2</p> <p>ALA-16: Generar QR por ubicaci\u00f3n (#79) Como usuario quiero poner QR en cada estante para escanear y ver inventario de ese lugar. Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-4-recetas-y-planificacion","title":"\u00c9pica 4: Recetas y Planificaci\u00f3n","text":"<p>ALA-17: CRUD de recetas (#43) Como usuario quiero crear recetas con ingredientes para planificar comidas. Estimaci\u00f3n: L | Prioridad: P2</p> <p>ALA-18: Ver si tengo ingredientes para receta (#80) Como usuario quiero saber si tengo stock para hacer una receta para decidir qu\u00e9 cocinar. Estimaci\u00f3n: M | Prioridad: P2</p> <p>ALA-19: Descontar ingredientes al cocinar (#81) Como usuario quiero descontar autom\u00e1ticamente ingredientes al marcar receta como cocinada para mantener stock actualizado. Estimaci\u00f3n: M | Prioridad: P3</p> <p>ALA-20: Sugerencias de recetas seg\u00fan stock disponible (#82) Como usuario quiero ver qu\u00e9 recetas puedo hacer con lo que tengo para aprovechar ingredientes. Estimaci\u00f3n: L | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-5-compartir-y-colaboracion","title":"\u00c9pica 5: Compartir y Colaboraci\u00f3n","text":"<p>ALA-21: Compartir item con otro usuario del hogar (#83) Como usuario quiero notificar a alguien que agregu\u00e9 un item para coordinar compras. Estimaci\u00f3n: M | Prioridad: P3</p> <p>ALA-22: Historial de consumo por persona (#84) Como usuario quiero ver qui\u00e9n consumi\u00f3 qu\u00e9 para entender patrones de uso. Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-6-alertas-inteligentes","title":"\u00c9pica 6: Alertas Inteligentes","text":"<p>ALA-23: Alerta de vencimiento pr\u00f3ximo (#85) Como usuario quiero recibir notificaci\u00f3n 3 d\u00edas antes de vencimiento para no desperdiciar comida. Estimaci\u00f3n: M | Prioridad: P2</p> <p>ALA-24: Alerta de stock bajo autom\u00e1tico Como usuario quiero que el sistema detecte cuando leche baja de 1L y me notifique. Estimaci\u00f3n: M | Prioridad: P2</p> <p>ALA-25: Predicci\u00f3n de cu\u00e1ndo se acabar\u00e1 un item Como usuario quiero ver estimaci\u00f3n de cu\u00e1ndo se acabar\u00e1 el caf\u00e9 seg\u00fan mi consumo promedio. Estimaci\u00f3n: L | Prioridad: P3</p> <p>ALA-26: Generar lista de compras autom\u00e1tica desde stock bajo Como usuario quiero que items con stock bajo se agreguen autom\u00e1ticamente a lista de compras. Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#lista-de-compras-18-historias","title":"\ud83d\uded2 Lista de Compras (18 historias)","text":""},{"location":"04-planificacion/historias-completas-150/#epica-1-crud-basico-sprint-1","title":"\u00c9pica 1: CRUD B\u00e1sico (Sprint 1)","text":"<ul> <li>\u2705 LST-01: CRUD manual de items (#25)</li> <li>\u2705 LST-02: Agregar desde ALACENA (#26)</li> <li>\u2705 LST-03: Marcar como comprado (#27)</li> <li>\u2705 LST-04: Vista por categor\u00edas (#28)</li> <li>\u2705 LST-05: Sugerencias basadas en historial (#29)</li> </ul>"},{"location":"04-planificacion/historias-completas-150/#epica-2-optimizacion-compra","title":"\u00c9pica 2: Optimizaci\u00f3n Compra","text":"<p>LST-06: Ordenar por supermercado (#44) Como usuario quiero agrupar items por supermercado para optimizar mi recorrido de compra. Estimaci\u00f3n: M | Prioridad: P2</p> <p>LST-07: Estimar costo total (#86) Como usuario quiero ver precio estimado de la lista para saber cu\u00e1nto gastar\u00e9. Estimaci\u00f3n: M | Prioridad: P2</p> <p>LST-08: Agregar precio real al comprar (#45) Como usuario quiero registrar precio real al marcar como comprado para tener historial de precios. Estimaci\u00f3n: S | Prioridad: P2</p> <p>LST-09: Comparar precios hist\u00f3ricos (#87) Como usuario quiero ver si el precio subi\u00f3/baj\u00f3 vs \u00faltima compra para detectar inflaci\u00f3n. Estimaci\u00f3n: M | Prioridad: P3</p> <p>LST-10: Sugerir supermercado m\u00e1s barato Como usuario quiero que el sistema me sugiera d\u00f3nde comprar seg\u00fan precios hist\u00f3ricos. Estimaci\u00f3n: L | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-3-colaboracion","title":"\u00c9pica 3: Colaboraci\u00f3n","text":"<p>LST-11: Compartir lista con otros usuarios (#46) Como usuario quiero compartir lista con mi pareja para que ambos veamos y editemos. Estimaci\u00f3n: L | Prioridad: P2</p> <p>LST-12: Notificaci\u00f3n push al agregar item urgente (#88) Como usuario quiero notificar a otros cuando agrego item urgente para que alguien m\u00e1s pueda comprarlo. Estimaci\u00f3n: M | Prioridad: P3</p> <p>LST-13: Ver qui\u00e9n agreg\u00f3 cada item (#89) Como usuario quiero ver qui\u00e9n pidi\u00f3 cada cosa para coordinar. Estimaci\u00f3n: S | Prioridad: P3</p> <p>LST-14: Marcar item como \"yo lo compro\" (#47) Como usuario quiero reservar items que voy a comprar yo para que otros no dupliquen. Estimaci\u00f3n: S | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-4-integraciones","title":"\u00c9pica 4: Integraciones","text":"<p>LST-15: Sincronizar con Notion (#48) Como usuario quiero exportar/importar lista desde Notion para integrar con mi sistema personal. Estimaci\u00f3n: L | Prioridad: P3</p> <p>LST-16: Enviar lista por WhatsApp Como usuario quiero compartir lista por WhatsApp con alguien que va al super. Estimaci\u00f3n: M | Prioridad: P3</p> <p>LST-17: Comando de voz para agregar items (#90) Como usuario quiero decir \"Agregar leche a la lista\" por voz para agregar mientras cocino sin tocar el m\u00f3vil. Estimaci\u00f3n: XL | Prioridad: P3</p> <p>LST-18: Importar receta como lista de compras Como usuario quiero convertir una receta en lista de compras descontando lo que ya tengo. Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#ecosalud-salud-y-bienestar-20-historias","title":"\ud83d\udc9a ECOSALUD - Salud y Bienestar (20 historias)","text":""},{"location":"04-planificacion/historias-completas-150/#epica-1-registro-basico-sprint-1","title":"\u00c9pica 1: Registro B\u00e1sico (Sprint 1)","text":"<ul> <li>\u2705 ECO-01: Registro manual de datos (#30)</li> <li>\u2705 ECO-02: Hist\u00f3rico cronol\u00f3gico (#31)</li> <li>\u2705 ECO-03: Tipos de registro (#32)</li> </ul>"},{"location":"04-planificacion/historias-completas-150/#epica-2-visualizacion-y-analisis","title":"\u00c9pica 2: Visualizaci\u00f3n y An\u00e1lisis","text":"<p>ECO-04: Gr\u00e1ficos de evoluci\u00f3n (#91) Como usuario quiero ver gr\u00e1fico de mi peso en \u00faltimos 3 meses para visualizar mi progreso. Estimaci\u00f3n: M | Prioridad: P2</p> <p>ECO-05: Alertas de valores anormales (#92) Como usuario quiero recibir alerta si presi\u00f3n est\u00e1 alta (&gt;140/90) para actuar r\u00e1pido. Estimaci\u00f3n: M | Prioridad: P2</p> <p>ECO-06: Exportar datos a PDF (#93) Como usuario quiero exportar hist\u00f3rico a PDF para llevar al m\u00e9dico. Estimaci\u00f3n: M | Prioridad: P2</p> <p>ECO-07: Comparar con metas Como usuario quiero ver si estoy cumpliendo mi meta de peso en gr\u00e1fico. Estimaci\u00f3n: S | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-3-metas-y-recordatorios","title":"\u00c9pica 3: Metas y Recordatorios","text":"<p>ECO-08: Definir metas (ej: bajar 5kg) (#49) Como usuario quiero definir meta de peso para trackear mi objetivo. Estimaci\u00f3n: M | Prioridad: P3</p> <p>ECO-09: Recordatorio diario de registro (#94) Como usuario quiero recordatorio diario para pesarme y mantener h\u00e1bito constante. Estimaci\u00f3n: S | Prioridad: P2</p> <p>ECO-10: Racha de registros consecutivos (#95) Como usuario quiero ver mi racha de d\u00edas consecutivos registrando para motivarme a no romperla. Estimaci\u00f3n: S | Prioridad: P3</p> <p>ECO-11: Proyecci\u00f3n de meta Como usuario quiero ver cu\u00e1ndo llegar\u00e9 a mi meta seg\u00fan tendencia actual. Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-4-integraciones-salud","title":"\u00c9pica 4: Integraciones Salud","text":"<p>ECO-12: Importar desde Google Fit (#50) Como usuario quiero importar pasos y peso desde Google Fit para centralizar todos mis datos. Estimaci\u00f3n: L | Prioridad: P3</p> <p>ECO-13: Integraci\u00f3n con Apple Health (#96) Como usuario iOS quiero importar datos de Apple Health para no duplicar registros. Estimaci\u00f3n: L | Prioridad: P3</p> <p>ECO-14: Compartir datos con m\u00e9dico (#97) Como usuario quiero generar link de acceso temporal para mi m\u00e9dico vea mi hist\u00f3rico sin darle acceso total. Estimaci\u00f3n: L | Prioridad: P3</p> <p>ECO-15: Sincronizar con b\u00e1scula inteligente Como usuario quiero que mi b\u00e1scula Xiaomi registre autom\u00e1ticamente mi peso en ECO. Estimaci\u00f3n: L | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-5-tipos-de-registro-avanzados","title":"\u00c9pica 5: Tipos de Registro Avanzados","text":"<p>ECO-16: Registro de medicamentos tomados Como usuario quiero registrar qu\u00e9 medicamentos tom\u00e9 y a qu\u00e9 hora. Estimaci\u00f3n: M | Prioridad: P2</p> <p>ECO-17: Recordatorio de tomar medicamento (#51) Como usuario quiero recibir alerta diaria para tomar mi medicamento. Estimaci\u00f3n: M | Prioridad: P2</p> <p>ECO-18: Registro de estados de \u00e1nimo (#98) Como usuario quiero registrar mi estado de \u00e1nimo diario para ver patrones emocionales. Estimaci\u00f3n: M | Prioridad: P3</p> <p>ECO-19: Registro de s\u00edntomas (#99) Como usuario quiero anotar s\u00edntomas (dolor cabeza, mareos) para mostrar al m\u00e9dico. Estimaci\u00f3n: M | Prioridad: P3</p> <p>ECO-20: Agregar foto de estudio m\u00e9dico (#100) Como usuario quiero subir foto de an\u00e1lisis de sangre para tenerlo digitalizado. Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-6-analisis-inteligente","title":"\u00c9pica 6: An\u00e1lisis Inteligente","text":"<p>ECO-21: Detectar correlaciones (ej: peso vs estado \u00e1nimo) Como usuario quiero que el sistema me muestre si hay relaci\u00f3n entre mi peso y mi \u00e1nimo. Estimaci\u00f3n: XL | Prioridad: P3</p> <p>ECO-22: Resumen semanal autom\u00e1tico Como usuario quiero recibir email los domingos con resumen de mi semana de salud. Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#api-para-ia-15-historias","title":"\ud83e\udd16 API para IA (15 historias)","text":""},{"location":"04-planificacion/historias-completas-150/#epica-1-graphql-schema-base","title":"\u00c9pica 1: GraphQL Schema Base","text":"<p>API-01: Schema GraphQL para MANTIA (#52) Como desarrollador quiero queries/mutations GraphQL para tareas (getTasks, createTask, updateTask, etc.). Estimaci\u00f3n: L | Prioridad: P1</p> <p>API-02: Schema GraphQL para ALACENA (#53) Como desarrollador quiero queries/mutations GraphQL para inventario (getItems, updateStock, etc.). Estimaci\u00f3n: L | Prioridad: P1</p> <p>API-03: Schema GraphQL para Lista de Compras (#54) Como desarrollador quiero queries/mutations GraphQL para listas (getShoppingList, addItem, etc.). Estimaci\u00f3n: M | Prioridad: P1</p> <p>API-04: Schema GraphQL para ECOSALUD (#55) Como desarrollador quiero queries/mutations GraphQL para registros salud (getHealthRecords, addWeight, etc.). Estimaci\u00f3n: M | Prioridad: P1</p> <p>API-05: Subscriptions GraphQL para cambios en tiempo real (#56) Como desarrollador quiero subscriptions para notificar cuando cambia inventario/lista. Estimaci\u00f3n: L | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-2-autenticacion-api","title":"\u00c9pica 2: Autenticaci\u00f3n API","text":"<p>API-06: Generar API Key por usuario (#57) Como usuario quiero generar API Key personal para usar con agente IA. Estimaci\u00f3n: M | Prioridad: P1</p> <p>API-07: Rotar/Revocar API Keys Como usuario quiero desactivar API Key antigua si se compromete. Estimaci\u00f3n: S | Prioridad: P2</p> <p>API-08: Rate limiting por API Key (#58) Como admin quiero limitar requests por minuto por API Key para evitar abuso. Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-3-queries-conversacionales","title":"\u00c9pica 3: Queries Conversacionales","text":"<p>API-09: Query \"getNextTasks\" optimizado para voz (#101) Como agente IA quiero obtener pr\u00f3ximas 3 tareas de forma simple para responder pregunta de voz. Estimaci\u00f3n: S | Prioridad: P1</p> <p>API-10: Query \"whatCanICookToday\" para recetas (#102) Como agente IA quiero saber qu\u00e9 recetas se pueden hacer con stock actual para 5 personas. Estimaci\u00f3n: M | Prioridad: P2</p> <p>API-11: Query \"getHealthSummary\" con par\u00e1metros flexibles Como agente IA quiero obtener resumen de salud (\u00faltimo colesterol, peso actual, etc.). Estimaci\u00f3n: M | Prioridad: P2</p> <p>API-12: Mutation \"addItemByVoice\" con parsing de lenguaje natural Como agente IA quiero interpretar \"agregar leche y pan\" y crear 2 items en lista. Estimaci\u00f3n: L | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-4-webhooks-salientes","title":"\u00c9pica 4: Webhooks Salientes","text":"<p>API-13: Configurar webhook al completar tarea (#59) Como usuario quiero ejecutar webhook cuando se completa tarea para integrar con automatizaciones. Estimaci\u00f3n: M | Prioridad: P3</p> <p>API-14: Webhook al stock bajo (#60) Como usuario quiero ejecutar webhook cuando stock baja de umbral para notificar sistema externo. Estimaci\u00f3n: M | Prioridad: P3</p> <p>API-15: Playground GraphQL p\u00fablico con autenticaci\u00f3n (#103) Como desarrollador quiero probar queries en playground web para debuggear integraciones. Estimaci\u00f3n: S | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#agente-conversacional-12-historias","title":"\ud83d\udde3\ufe0f Agente Conversacional (12 historias)","text":""},{"location":"04-planificacion/historias-completas-150/#epica-1-infraestructura-agente","title":"\u00c9pica 1: Infraestructura Agente","text":"<p>AGT-01: Endpoint para recibir texto/voz y devolver respuesta Como usuario quiero enviar pregunta por texto y recibir respuesta del agente. Estimaci\u00f3n: L | Prioridad: P1</p> <p>AGT-02: Integraci\u00f3n con Whisper API para transcribir voz Como usuario quiero enviar audio y que se transcriba autom\u00e1ticamente. Estimaci\u00f3n: M | Prioridad: P2</p> <p>AGT-03: Integraci\u00f3n con TTS (Text-to-Speech) para respuestas habladas (#104) Como usuario quiero recibir respuesta en audio para escucharla sin leer. Estimaci\u00f3n: M | Prioridad: P3</p> <p>AGT-04: Context awareness (recordar conversaci\u00f3n previa) Como usuario quiero que el agente recuerde contexto anterior (\"\u00bfy el de hoy?\" refiri\u00e9ndose a peso). Estimaci\u00f3n: L | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-2-comandos-mantia","title":"\u00c9pica 2: Comandos MANTIA","text":"<p>AGT-05: \"\u00bfQu\u00e9 tareas tengo hoy?\" Como usuario quiero preguntar qu\u00e9 tareas vencen hoy y recibir lista. Estimaci\u00f3n: S | Prioridad: P1</p> <p>AGT-06: \"Marca tarea X como completada\" Como usuario quiero completar tarea por comando de voz. Estimaci\u00f3n: S | Prioridad: P1</p> <p>AGT-07: \"Cu\u00e1ndo tengo turno con peluquero\" Como usuario quiero consultar fecha de pr\u00f3xima tarea de tipo \"Turno\". Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-3-comandos-alacena","title":"\u00c9pica 3: Comandos ALACENA","text":"<p>AGT-08: \"Qu\u00e9 pastas podemos comer hoy si somos 5\" (#105) Como usuario quiero que sugiera recetas de pasta para 5 personas seg\u00fan stock. Estimaci\u00f3n: L | Prioridad: P2</p> <p>AGT-09: \"Cu\u00e1nta leche queda\" Como usuario quiero consultar stock actual de un item. Estimaci\u00f3n: S | Prioridad: P1</p> <p>AGT-10: \"Agregar 2 litros de leche al inventario\" Como usuario quiero sumar stock por voz. Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-4-comandos-ecosalud","title":"\u00c9pica 4: Comandos ECOSALUD","text":"<p>AGT-11: \"C\u00f3mo dio mi \u00faltimo estudio de colesterol\" Como usuario quiero preguntarle al agente resultado de \u00faltimo registro de colesterol. Estimaci\u00f3n: S | Prioridad: P1</p> <p>AGT-12: \"Registra que hoy peso 78kg\" Como usuario quiero crear registro de peso por voz. Estimaci\u00f3n: S | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-5-integracion-home-assistant","title":"\u00c9pica 5: Integraci\u00f3n Home Assistant","text":"<p>AGT-13: Integraci\u00f3n con Home Assistant via MQTT (#106) Como usuario quiero conectar ECO con Home Assistant para hablarle al sistema desde parlantes. Estimaci\u00f3n: XL | Prioridad: P3</p> <p>AGT-14: Custom skill para Google Assistant/Alexa Como usuario quiero decir \"Ok Google, preg\u00fantale a ECO qu\u00e9 tareas tengo\" desde mi celular. Estimaci\u00f3n: XL | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#multi-usuario-y-roles-10-historias","title":"\ud83d\udc65 Multi-usuario y Roles (10 historias)","text":""},{"location":"04-planificacion/historias-completas-150/#epica-1-sistema-de-roles","title":"\u00c9pica 1: Sistema de Roles","text":"<p>USR-01: CRUD de usuarios (admin) Como admin quiero crear/editar/eliminar usuarios del hogar. Estimaci\u00f3n: M | Prioridad: P1</p> <p>USR-02: Roles: Admin, Familia, Invitado Como admin quiero asignar roles con permisos diferentes. Estimaci\u00f3n: M | Prioridad: P1</p> <p>USR-03: Permisos por rol (Admin: todo, Familia: CRUD propio, Invitado: solo lectura) Como admin quiero definir qu\u00e9 puede hacer cada rol. Estimaci\u00f3n: L | Prioridad: P1</p> <p>USR-04: Invitar usuario por email (#107) Como admin quiero enviar invitaci\u00f3n por email para que otra persona se una al hogar. Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-2-colaboracion-multi-usuario","title":"\u00c9pica 2: Colaboraci\u00f3n Multi-usuario","text":"<p>USR-05: Ver actividad de otros usuarios (feed) Como usuario quiero ver qu\u00e9 hicieron otros en el hogar hoy (ej: \"Juan complet\u00f3 tarea Regar plantas\"). Estimaci\u00f3n: M | Prioridad: P3</p> <p>USR-06: Asignar tareas/items a usuarios espec\u00edficos Como admin quiero asignar \"Sacar basura\" a un usuario espec\u00edfico. Estimaci\u00f3n: S | Prioridad: P2</p> <p>USR-07: Notificar a usuario cuando se le asigna algo Como usuario quiero recibir notificaci\u00f3n cuando me asignan una tarea. Estimaci\u00f3n: S | Prioridad: P2</p> <p>USR-08: Filtrar por usuario (ver solo mis tareas/items) Como usuario quiero ver solo lo que me corresponde a m\u00ed. Estimaci\u00f3n: S | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-3-hogarhousehold","title":"\u00c9pica 3: Hogar/Household","text":"<p>USR-09: CRUD de \"Household\" (m\u00faltiples hogares por usuario) Como usuario quiero tener acceso a 2 hogares (casa + casa padres). Estimaci\u00f3n: L | Prioridad: P3</p> <p>USR-10: Cambiar entre hogares con selector Como usuario quiero switchear entre mis hogares f\u00e1cilmente. Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#notificaciones-10-historias","title":"\ud83d\udd14 Notificaciones (10 historias)","text":""},{"location":"04-planificacion/historias-completas-150/#epica-1-email","title":"\u00c9pica 1: Email","text":"<p>NOT-01: Email de tarea vencida (MANTIA) Como usuario quiero recibir email cuando tarea vence. Estimaci\u00f3n: S | Prioridad: P2</p> <p>NOT-02: Email de stock bajo (ALACENA) Como usuario quiero email cuando item baja de umbral. Estimaci\u00f3n: S | Prioridad: P2</p> <p>NOT-03: Email de resumen semanal (ECOSALUD) Como usuario quiero email dominical con resumen de salud. Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-2-push-movil","title":"\u00c9pica 2: Push M\u00f3vil","text":"<p>NOT-04: Push de tarea vencida Como usuario quiero push en celular cuando tarea vence hoy. Estimaci\u00f3n: M | Prioridad: P2</p> <p>NOT-05: Push de item agregado a lista compartida Como usuario quiero push cuando alguien agrega item urgente. Estimaci\u00f3n: S | Prioridad: P2</p> <p>NOT-06: Push de valor anormal en ECOSALUD Como usuario quiero push si registro presi\u00f3n alta. Estimaci\u00f3n: S | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-3-sms-opcional","title":"\u00c9pica 3: SMS (Opcional)","text":"<p>NOT-07: SMS de alerta cr\u00edtica (ej: presi\u00f3n muy alta) Como usuario quiero SMS si valor de salud es peligroso. Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-4-configuracion-de-notificaciones","title":"\u00c9pica 4: Configuraci\u00f3n de Notificaciones","text":"<p>NOT-08: Preferencias de notificaci\u00f3n por usuario Como usuario quiero elegir qu\u00e9 notificaciones recibir (push s\u00ed, email no). Estimaci\u00f3n: M | Prioridad: P2</p> <p>NOT-09: Horario de no molestar Como usuario quiero silenciar notificaciones de 22h a 8h. Estimaci\u00f3n: S | Prioridad: P3</p> <p>NOT-10: Consolidar notificaciones (digest) Como usuario quiero recibir 1 email diario con todas las alertas en vez de m\u00faltiples emails. Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#backups-y-exportacion-8-historias","title":"\ud83d\udcbe Backups y Exportaci\u00f3n (8 historias)","text":""},{"location":"04-planificacion/historias-completas-150/#epica-1-backups-automaticos","title":"\u00c9pica 1: Backups Autom\u00e1ticos","text":"<p>BKP-01: Backup diario autom\u00e1tico de base de datos (#108) Como admin quiero backup diario para no perder datos. Estimaci\u00f3n: M | Prioridad: P1</p> <p>BKP-02: Retenci\u00f3n de backups (30 d\u00edas) Como admin quiero mantener backups de \u00faltimos 30 d\u00edas. Estimaci\u00f3n: S | Prioridad: P2</p> <p>BKP-03: Restaurar desde backup espec\u00edfico Como admin quiero restaurar sistema desde backup de hace 1 semana. Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-2-exportacion-de-datos","title":"\u00c9pica 2: Exportaci\u00f3n de Datos","text":"<p>BKP-04: Exportar todos mis datos a JSON (#61) Como usuario quiero descargar JSON con todos mis datos para tener copia local. Estimaci\u00f3n: M | Prioridad: P2</p> <p>BKP-05: Exportar ALACENA a Excel (#109) Como usuario quiero exportar inventario a Excel para an\u00e1lisis offline. Estimaci\u00f3n: S | Prioridad: P3</p> <p>BKP-06: Exportar ECOSALUD a PDF (#110) Como usuario quiero PDF con mi hist\u00f3rico m\u00e9dico para llevar al doctor. Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-3-importacion-de-datos","title":"\u00c9pica 3: Importaci\u00f3n de Datos","text":"<p>BKP-07: Importar tareas desde CSV Como usuario quiero importar 100 tareas desde Excel. Estimaci\u00f3n: M | Prioridad: P3</p> <p>BKP-08: Importar inventario desde plantilla Excel Como usuario quiero cargar mi inventario actual masivamente desde Excel. Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#seguridad-y-admin-8-historias","title":"\ud83d\udd12 Seguridad y Admin (8 historias)","text":""},{"location":"04-planificacion/historias-completas-150/#epica-1-autenticacion-y-seguridad","title":"\u00c9pica 1: Autenticaci\u00f3n y Seguridad","text":"<p>SEC-01: 2FA (autenticaci\u00f3n de dos factores) (#111) Como usuario quiero activar 2FA para mayor seguridad. Estimaci\u00f3n: L | Prioridad: P3</p> <p>SEC-02: Historial de sesiones Como usuario quiero ver d\u00f3nde estoy logueado (dispositivos, IPs). Estimaci\u00f3n: M | Prioridad: P3</p> <p>SEC-03: Cerrar sesi\u00f3n remota Como usuario quiero cerrar sesi\u00f3n en dispositivo perdido. Estimaci\u00f3n: S | Prioridad: P3</p> <p>SEC-04: Cambio de contrase\u00f1a Como usuario quiero cambiar mi contrase\u00f1a f\u00e1cilmente. Estimaci\u00f3n: S | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-2-logging-y-auditoria","title":"\u00c9pica 2: Logging y Auditor\u00eda","text":"<p>SEC-05: Log de acciones cr\u00edticas (admin) Como admin quiero ver qui\u00e9n elimin\u00f3 qu\u00e9 y cu\u00e1ndo. Estimaci\u00f3n: M | Prioridad: P2</p> <p>SEC-06: Alerta de login sospechoso Como usuario quiero recibir email si alguien intenta loguearse desde IP nueva. Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-3-privacidad","title":"\u00c9pica 3: Privacidad","text":"<p>SEC-07: Eliminar cuenta y todos los datos Como usuario quiero borrar mi cuenta permanentemente (GDPR compliance). Estimaci\u00f3n: M | Prioridad: P2</p> <p>SEC-08: Descargar todos mis datos (GDPR) Como usuario quiero descargar copia completa de mis datos personales. Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#ux-y-onboarding-10-historias","title":"\ud83c\udfa8 UX y Onboarding (10 historias)","text":""},{"location":"04-planificacion/historias-completas-150/#epica-1-onboarding","title":"\u00c9pica 1: Onboarding","text":"<p>UXO-01: Tutorial interactivo al primer uso (#62) Como usuario nuevo quiero tutorial guiado para aprender el sistema. Estimaci\u00f3n: L | Prioridad: P2</p> <p>UXO-02: Setup wizard (elegir m\u00f3dulos activos) Como usuario nuevo quiero elegir qu\u00e9 m\u00f3dulos usar (solo MANTIA, o todos). Estimaci\u00f3n: M | Prioridad: P2</p> <p>UXO-03: Tooltips contextuales Como usuario nuevo quiero ver ayuda al pasar mouse sobre botones. Estimaci\u00f3n: S | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-2-personalizacion-visual","title":"\u00c9pica 2: Personalizaci\u00f3n Visual","text":"<p>UXO-04: Temas claro/oscuro Como usuario quiero cambiar entre modo claro y oscuro. Estimaci\u00f3n: M | Prioridad: P2</p> <p>UXO-05: Elegir color primario del sistema Como usuario quiero personalizar color de la app. Estimaci\u00f3n: S | Prioridad: P3</p> <p>UXO-06: Densidad de interfaz (compacta/normal/espaciosa) (#112) Como usuario quiero ajustar espaciado para pantallas peque\u00f1as. Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-3-accesibilidad","title":"\u00c9pica 3: Accesibilidad","text":"<p>UXO-07: Soporte de teclado completo (shortcuts) (#63) Como usuario power quiero navegar solo con teclado (Ctrl+N para nueva tarea). Estimaci\u00f3n: L | Prioridad: P3</p> <p>UXO-08: Tama\u00f1o de fuente ajustable Como usuario con problemas de vista quiero agrandar texto. Estimaci\u00f3n: S | Prioridad: P3</p> <p>UXO-09: Alto contraste para accesibilidad Como usuario con baja visi\u00f3n quiero modo alto contraste. Estimaci\u00f3n: M | Prioridad: P3</p> <p>UXO-10: Soporte screen readers (ARIA labels) (#64) Como usuario ciego quiero usar screen reader para navegar. Estimaci\u00f3n: L | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#infraestructura-y-devops-8-historias","title":"\ud83c\udfd7\ufe0f Infraestructura y DevOps (8 historias)","text":""},{"location":"04-planificacion/historias-completas-150/#epica-1-monitoreo","title":"\u00c9pica 1: Monitoreo","text":"<p>INF-01: Logs centralizados (Sentry/LogRocket) Como desarrollador quiero ver errores de producci\u00f3n en tiempo real. Estimaci\u00f3n: M | Prioridad: P2</p> <p>INF-02: Monitoreo de performance (Lighthouse CI) Como desarrollador quiero medir performance en cada deploy. Estimaci\u00f3n: M | Prioridad: P3</p> <p>INF-03: Alertas de uptime (cuando cae el servicio) Como admin quiero recibir alerta si la app cae. Estimaci\u00f3n: S | Prioridad: P2</p>"},{"location":"04-planificacion/historias-completas-150/#epica-2-cicd","title":"\u00c9pica 2: CI/CD","text":"<p>INF-04: Tests E2E automatizados (Playwright) Como desarrollador quiero tests que validen flujos completos. Estimaci\u00f3n: L | Prioridad: P2</p> <p>INF-05: Preview deployments por PR Como desarrollador quiero preview autom\u00e1tico por cada PR. Estimaci\u00f3n: M | Prioridad: P3</p> <p>INF-06: Rollback autom\u00e1tico si tests fallan Como desarrollador quiero que se revierta deploy si rompe algo. Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#epica-3-escalabilidad","title":"\u00c9pica 3: Escalabilidad","text":"<p>INF-07: Cache de queries pesadas (Redis) (#65) Como desarrollador quiero cachear queries lentas para mejorar velocidad. Estimaci\u00f3n: L | Prioridad: P3</p> <p>INF-08: CDN para assets est\u00e1ticos Como usuario quiero que im\u00e1genes carguen r\u00e1pido desde CDN. Estimaci\u00f3n: S | Prioridad: P3</p>"},{"location":"04-planificacion/historias-completas-150/#resumen-final","title":"\ud83d\udcca Resumen Final","text":"Categor\u00eda Historias Estimaci\u00f3n Total (horas) MANTIA 20 ~120h ALACENA 22 ~165h Lista 18 ~115h ECOSALUD 20 ~130h API IA 15 ~85h Agente Conversacional 12 ~110h Multi-usuario/Roles 10 ~65h Notificaciones 10 ~45h Backups 8 ~40h Seguridad/Admin 8 ~45h UX/Onboarding 10 ~70h Infraestructura 8 ~55h TOTAL 161 ~1045h"},{"location":"04-planificacion/historias-completas-150/#proximos-pasos","title":"\ud83c\udfaf Pr\u00f3ximos Pasos","text":"<ol> <li>Revisar y aprobar estas 161 historias</li> <li>Crear issues en GitHub para todas (usar script automatizado)</li> <li>Priorizar cu\u00e1les van a cada Sprint</li> <li>Definir milestones (v0.1 MVP, v0.2 IA B\u00e1sica, v0.3 Multi-usuario, v1.0 Completo)</li> <li>Empezar con Sprint 2 (siguiente sesi\u00f3n)</li> </ol> <p>\u00bfAprobadas? \u00bfFalta algo cr\u00edtico?</p>"},{"location":"04-planificacion/historias-propuestas-50/","title":"\ud83c\udfaf Propuesta: 50 Historias de Usuario - ECO","text":"<p>Contexto: Historias para los 4 m\u00f3dulos principales sin l\u00edmite temporal, priorizando UX decente e integraciones completas.</p> <p>Distribuci\u00f3n: - MANTIA: 13 historias - ALACENA: 13 historias - Lista de Compras: 12 historias - ECOSALUD: 12 historias</p> <p>TOTAL: 50 historias</p>"},{"location":"04-planificacion/historias-propuestas-50/#mantia-gestion-de-tareas-13-historias","title":"\ud83d\udccb MANTIA - Gesti\u00f3n de Tareas (13 historias)","text":""},{"location":"04-planificacion/historias-propuestas-50/#epica-1-crud-y-operaciones-basicas-ya-definidas-sprint-1","title":"\u00c9pica 1: CRUD y Operaciones B\u00e1sicas (ya definidas - Sprint 1)","text":"<ul> <li>\u2705 MAN-01: CRUD de tareas (#18)</li> <li>\u2705 MAN-02: Marcar tarea como hecha (#19)</li> <li>\u2705 MAN-03: Registrar ejecuci\u00f3n (#20)</li> <li>\u2705 MAN-04: Vista de pendientes (#21)</li> <li>\u2705 MAN-05: C\u00e1lculo de pr\u00f3xima fecha (#22)</li> <li>\u2705 MAN-06: Filtros por estado (#23)</li> <li>\u2705 MAN-07: Categorizaci\u00f3n de tareas (#24)</li> </ul>"},{"location":"04-planificacion/historias-propuestas-50/#epica-2-ux-y-notificaciones","title":"\u00c9pica 2: UX y Notificaciones","text":"<p>MAN-08: Recordatorios por email - Como usuario quiero recibir email 1 d\u00eda antes de tarea vencida - Para no olvidar tareas importantes - Estimaci\u00f3n: M | Prioridad: P2</p> <p>MAN-09: Vista calendario mensual - Como usuario quiero ver tareas en calendario visual - Para planificar mejor mi mes - Estimaci\u00f3n: L | Prioridad: P2</p> <p>MAN-10: Arrastrar y soltar para reprogramar - Como usuario quiero arrastrar tarea en calendario para cambiar fecha - Para reprogramar f\u00e1cilmente - Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-propuestas-50/#epica-3-integraciones","title":"\u00c9pica 3: Integraciones","text":"<p>MAN-11: Sincronizaci\u00f3n Google Calendar - Como usuario quiero exportar tareas a mi Google Calendar - Para verlas en mi calendario personal - Estimaci\u00f3n: L | Prioridad: P3</p> <p>MAN-12: Webhooks para integraciones - Como desarrollador quiero configurar webhooks al completar tareas - Para integrar con Notion, Zapier, etc. - Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-propuestas-50/#epica-4-gamificacion-y-estadisticas","title":"\u00c9pica 4: Gamificaci\u00f3n y Estad\u00edsticas","text":"<p>MAN-13: Dashboard de estad\u00edsticas - Como usuario quiero ver cu\u00e1ntas tareas complet\u00e9 este mes - Para motivarme y ver mi progreso - Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-propuestas-50/#alacena-inventario-13-historias","title":"\ud83c\udffa ALACENA - Inventario (13 historias)","text":""},{"location":"04-planificacion/historias-propuestas-50/#epica-1-crud-y-stock-ya-definidas-sprint-1","title":"\u00c9pica 1: CRUD y Stock (ya definidas - Sprint 1)","text":"<ul> <li>\u2705 ALA-05: Categorizaci\u00f3n y filtros (#33)</li> <li>\u2705 ALA-06: Estados de stock (#34)</li> <li>\u2705 ALA-07: B\u00fasqueda de items (#35)</li> </ul>"},{"location":"04-planificacion/historias-propuestas-50/#epica-2-mejoras-de-ux","title":"\u00c9pica 2: Mejoras de UX","text":"<p>ALA-08: Escaneo de c\u00f3digo de barras - Como usuario quiero escanear c\u00f3digo de barras al agregar item - Para no escribir manualmente - Estimaci\u00f3n: L | Prioridad: P2</p> <p>ALA-09: Sugerencias de items frecuentes - Como usuario quiero ver items que suelo comprar al crear nuevo - Para agregar m\u00e1s r\u00e1pido - Estimaci\u00f3n: M | Prioridad: P3</p> <p>ALA-10: Vista grid con fotos - Como usuario quiero ver items con fotos en grid - Para identificar visualmente - Estimaci\u00f3n: M | Prioridad: P2</p> <p>ALA-11: Ordenar por fecha de vencimiento - Como usuario quiero ver items ordenados por vencimiento - Para consumir primero lo que vence antes - Estimaci\u00f3n: S | Prioridad: P1</p>"},{"location":"04-planificacion/historias-propuestas-50/#epica-3-ubicaciones-fisicas","title":"\u00c9pica 3: Ubicaciones F\u00edsicas","text":"<p>ALA-12: CRUD de ubicaciones (estantes, cajones) - Como usuario quiero definir ubicaciones f\u00edsicas en mi casa - Para saber d\u00f3nde est\u00e1 cada cosa - Estimaci\u00f3n: M | Prioridad: P2</p> <p>ALA-13: Asignar ubicaci\u00f3n a items - Como usuario quiero asignar ubicaci\u00f3n al item - Para encontrarlo f\u00e1cilmente - Estimaci\u00f3n: S | Prioridad: P2</p> <p>ALA-14: Buscar por ubicaci\u00f3n - Como usuario quiero ver todos los items de una ubicaci\u00f3n - Para revisar un estante completo - Estimaci\u00f3n: S | Prioridad: P2</p>"},{"location":"04-planificacion/historias-propuestas-50/#epica-4-recetas-y-planificacion","title":"\u00c9pica 4: Recetas y Planificaci\u00f3n","text":"<p>ALA-15: CRUD de recetas - Como usuario quiero crear recetas con ingredientes - Para planificar comidas - Estimaci\u00f3n: L | Prioridad: P2</p> <p>ALA-16: Ver si tengo ingredientes para receta - Como usuario quiero saber si tengo stock para hacer una receta - Para decidir qu\u00e9 cocinar - Estimaci\u00f3n: M | Prioridad: P2</p> <p>ALA-17: Descontar ingredientes al cocinar - Como usuario quiero descontar autom\u00e1ticamente ingredientes al marcar receta como cocinada - Para mantener stock actualizado - Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-propuestas-50/#epica-5-compartir-y-colaboracion","title":"\u00c9pica 5: Compartir y Colaboraci\u00f3n","text":"<p>ALA-18: Compartir item con otro usuario del hogar - Como usuario quiero notificar a alguien que agregu\u00e9 un item - Para coordinar compras - Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-propuestas-50/#lista-de-compras-12-historias","title":"\ud83d\uded2 Lista de Compras (12 historias)","text":""},{"location":"04-planificacion/historias-propuestas-50/#epica-1-crud-basico-ya-definidas-sprint-1","title":"\u00c9pica 1: CRUD B\u00e1sico (ya definidas - Sprint 1)","text":"<ul> <li>\u2705 LST-01: CRUD manual de items (#25)</li> <li>\u2705 LST-02: Agregar desde ALACENA (#26)</li> <li>\u2705 LST-03: Marcar como comprado (#27)</li> <li>\u2705 LST-04: Vista por categor\u00edas (#28)</li> <li>\u2705 LST-05: Sugerencias basadas en historial (#29)</li> </ul>"},{"location":"04-planificacion/historias-propuestas-50/#epica-2-optimizacion-compra","title":"\u00c9pica 2: Optimizaci\u00f3n Compra","text":"<p>LST-06: Ordenar por supermercado - Como usuario quiero agrupar items por supermercado - Para optimizar mi recorrido de compra - Estimaci\u00f3n: M | Prioridad: P2</p> <p>LST-07: Estimar costo total - Como usuario quiero ver precio estimado de la lista - Para saber cu\u00e1nto gastar\u00e9 - Estimaci\u00f3n: M | Prioridad: P2</p> <p>LST-08: Agregar precio real al comprar - Como usuario quiero registrar precio real al marcar como comprado - Para tener historial de precios - Estimaci\u00f3n: S | Prioridad: P2</p>"},{"location":"04-planificacion/historias-propuestas-50/#epica-3-colaboracion","title":"\u00c9pica 3: Colaboraci\u00f3n","text":"<p>LST-09: Compartir lista con otros usuarios - Como usuario quiero compartir lista con mi pareja - Para que ambos veamos y editemos - Estimaci\u00f3n: L | Prioridad: P2</p> <p>LST-10: Notificaci\u00f3n push al agregar item - Como usuario quiero notificar a otros cuando agrego item urgente - Para que alguien m\u00e1s pueda comprarlo - Estimaci\u00f3n: M | Prioridad: P3</p>"},{"location":"04-planificacion/historias-propuestas-50/#epica-4-integraciones","title":"\u00c9pica 4: Integraciones","text":"<p>LST-11: Sincronizar con Notion - Como usuario quiero exportar/importar lista desde Notion - Para integrar con mi sistema personal - Estimaci\u00f3n: L | Prioridad: P3</p> <p>LST-12: Comando de voz para agregar items - Como usuario quiero decir \"Agregar leche a la lista\" por voz - Para agregar mientras cocino sin tocar el m\u00f3vil - Estimaci\u00f3n: XL | Prioridad: P3</p>"},{"location":"04-planificacion/historias-propuestas-50/#ecosalud-salud-y-bienestar-12-historias","title":"\ud83d\udc9a ECOSALUD - Salud y Bienestar (12 historias)","text":""},{"location":"04-planificacion/historias-propuestas-50/#epica-1-registro-basico-ya-definidas-sprint-1","title":"\u00c9pica 1: Registro B\u00e1sico (ya definidas - Sprint 1)","text":"<ul> <li>\u2705 ECO-01: Registro manual de datos (#30)</li> <li>\u2705 ECO-02: Hist\u00f3rico cronol\u00f3gico (#31)</li> <li>\u2705 ECO-03: Tipos de registro (#32)</li> </ul>"},{"location":"04-planificacion/historias-propuestas-50/#epica-2-visualizacion-y-analisis","title":"\u00c9pica 2: Visualizaci\u00f3n y An\u00e1lisis","text":"<p>ECO-04: Gr\u00e1ficos de evoluci\u00f3n - Como usuario quiero ver gr\u00e1fico de mi peso en \u00faltimos 3 meses - Para visualizar mi progreso - Estimaci\u00f3n: M | Prioridad: P2</p> <p>ECO-05: Alertas de valores anormales - Como usuario quiero recibir alerta si presi\u00f3n est\u00e1 alta (&gt;140/90) - Para actuar r\u00e1pido - Estimaci\u00f3n: M | Prioridad: P2</p> <p>ECO-06: Exportar datos a PDF - Como usuario quiero exportar hist\u00f3rico a PDF - Para llevar al m\u00e9dico - Estimaci\u00f3n: M | Prioridad: P2</p>"},{"location":"04-planificacion/historias-propuestas-50/#epica-3-metas-y-recordatorios","title":"\u00c9pica 3: Metas y Recordatorios","text":"<p>ECO-07: Definir metas (ej: bajar 5kg) - Como usuario quiero definir meta de peso - Para trackear mi objetivo - Estimaci\u00f3n: M | Prioridad: P3</p> <p>ECO-08: Recordatorio diario de registro - Como usuario quiero recordatorio diario para pesarme - Para mantener h\u00e1bito constante - Estimaci\u00f3n: S | Prioridad: P2</p> <p>ECO-09: Racha de registros consecutivos - Como usuario quiero ver mi racha de d\u00edas consecutivos registrando - Para motivarme a no romperla - Estimaci\u00f3n: S | Prioridad: P3</p>"},{"location":"04-planificacion/historias-propuestas-50/#epica-4-integraciones-salud","title":"\u00c9pica 4: Integraciones Salud","text":"<p>ECO-10: Importar desde Google Fit - Como usuario quiero importar pasos y peso desde Google Fit - Para centralizar todos mis datos - Estimaci\u00f3n: L | Prioridad: P3</p> <p>ECO-11: Integraci\u00f3n con Apple Health - Como usuario iOS quiero importar datos de Apple Health - Para no duplicar registros - Estimaci\u00f3n: L | Prioridad: P3</p> <p>ECO-12: Compartir datos con m\u00e9dico - Como usuario quiero generar link de acceso temporal para mi m\u00e9dico - Para que vea mi hist\u00f3rico sin darle acceso total - Estimaci\u00f3n: L | Prioridad: P3</p>"},{"location":"04-planificacion/historias-propuestas-50/#resumen-por-prioridad","title":"\ud83d\udcca Resumen por Prioridad","text":"Prioridad Cantidad Ejemplos P1 1 ALA-11 (Ordenar por vencimiento) P2 26 MAN-08 (Email), ALA-08 (Barcode), LST-06 (Por super), ECO-04 (Gr\u00e1ficos) P3 23 MAN-11 (GCal), ALA-18 (Compartir), LST-12 (Voz), ECO-10 (Google Fit)"},{"location":"04-planificacion/historias-propuestas-50/#resumen-por-estimacion","title":"\ud83d\udcca Resumen por Estimaci\u00f3n","text":"Estimaci\u00f3n Cantidad Horas totales estimadas S 6 ~18h M 26 ~156h L 10 ~100h XL 1 ~20h TOTAL 43 nuevas ~294h (+ 18 existentes)"},{"location":"04-planificacion/historias-propuestas-50/#proximos-pasos","title":"\ud83c\udfaf Pr\u00f3ximos Pasos","text":"<ol> <li>Revisar y aprobar estas 50 historias</li> <li>Priorizar cu\u00e1les van a Sprint 2-5</li> <li>Detallar las de Sprint 2 (pr\u00f3ximas 2 semanas)</li> <li>Crear issues en GitHub para las priorizadas</li> </ol> <p>\u00bfAprobadas? \u00bfAlguna que quieras cambiar, agregar o eliminar?</p>"},{"location":"04-planificacion/historias/","title":"\ud83c\udfaf Gesti\u00f3n de Historias","text":"<p>Panel de control para revisar, priorizar y gestionar las 161 historias de usuario del proyecto ECO.</p> 161 Historias Totales 95 En GitHub 18 Sprint 1 143 Pendientes"},{"location":"04-planificacion/historias/#filtros-rapidos","title":"\ud83d\udd0d Filtros R\u00e1pidos","text":"\ud83d\udccb Todas \ud83d\udd25 P1 - Alta \u26a1 P2 - Media \u2b50 P3 - Baja \ud83d\udccb MANTIA \ud83c\udffa ALACENA \ud83d\uded2 Lista \ud83d\udc9a ECOSALUD \ud83e\udd16 API/IA"},{"location":"04-planificacion/historias/#vista-por-prioridad","title":"\ud83d\udcca Vista por Prioridad","text":""},{"location":"04-planificacion/historias/#prioridad-1-criticas-1-historia","title":"\ud83d\udd25 Prioridad 1 - Cr\u00edticas (1 historia)","text":"ALA-11 #42 P1 S Ordenar por fecha de vencimiento <p>Como usuario quiero ver items ordenados por vencimiento para consumir primero lo que vence antes.</p> \u27a1\ufe0f Mover a Sprint \ud83d\udd04 Cambiar Prioridad \ud83d\uddd1\ufe0f Archivar"},{"location":"04-planificacion/historias/#prioridad-2-importantes-26-historias","title":"\u26a1 Prioridad 2 - Importantes (26 historias)","text":"<p>Historias P2</p> <p>Funcionalidades importantes para UX y valor del producto. Deber\u00edan ir en v0.1 o v0.2.</p> Ver 26 historias P2 (click para expandir) MAN-08 #66 P2 M Recordatorios por email <p>Como usuario quiero recibir email 1 d\u00eda antes de tarea vencida para no olvidar tareas importantes.</p> \u27a1\ufe0f Mover a Sprint \ud83d\udd04 Cambiar Prioridad MAN-09 #36 P2 L Vista calendario mensual <p>Como usuario quiero ver tareas en calendario visual para planificar mejor mi mes.</p> \u27a1\ufe0f Mover a Sprint \ud83d\udd04 Cambiar Prioridad <p>...y 24 historias P2 m\u00e1s. Ver backlog completo</p>"},{"location":"04-planificacion/historias/#prioridad-3-nice-to-have-23-historias","title":"\u2b50 Prioridad 3 - Nice-to-have (23 historias)","text":"<p>Historias P3</p> <p>Features opcionales, optimizaciones, integraciones avanzadas. Para v0.3 en adelante.</p> Ver 23 historias P3 (click para expandir) <p>Integraciones (Google Cal, Todoist, Notion), Gamificaci\u00f3n, Webhooks, etc.</p> <p>Ver backlog completo con todas las P3</p>"},{"location":"04-planificacion/historias/#vista-por-modulo","title":"\ud83d\udce6 Vista por M\u00f3dulo","text":""},{"location":"04-planificacion/historias/#mantia-gestion-de-tareas-20-historias","title":"\ud83d\udccb MANTIA - Gesti\u00f3n de Tareas (20 historias)","text":"7 en Sprint 1    13 pendientes    2 P2    11 P3    Ver detalles  **Sprint 1 (Completadas):** MAN-01 a MAN-07   **Pendientes P2:** MAN-08 (Email), MAN-09 (Calendario), MAN-11 (Push), MAN-15 (Stats), MAN-18 (Asignar)   **Pendientes P3:** MAN-10, MAN-12, MAN-13, MAN-14, MAN-16, MAN-17, MAN-19, MAN-20  [Ver historias completas \u2192](04-planificacion/historias-completas-150#mantia)"},{"location":"04-planificacion/historias/#alacena-inventario-22-historias","title":"\ud83c\udffa ALACENA - Inventario (22 historias)","text":"3 en Sprint 1    19 pendientes    1 P1    9 P2    Ver detalles  **Sprint 1:** ALA-05, ALA-06, ALA-07   **P1:** ALA-11 (Ordenar por vencimiento)   **Pendientes P2:** ALA-08 (Barcode), ALA-10 (Fotos), ALA-12 (Foto item), ALA-13 (Ubicaciones), ALA-14 (Asignar ubicaci\u00f3n), ALA-15 (Buscar ubicaci\u00f3n), ALA-17 (Recetas), ALA-18 (Ingredientes), ALA-23 (Alertas), ALA-24 (Stock bajo)  [Ver historias completas \u2192](04-planificacion/historias-completas-150#alacena)"},{"location":"04-planificacion/historias/#lista-de-compras-18-historias","title":"\ud83d\uded2 Lista de Compras (18 historias)","text":"5 en Sprint 1    13 pendientes    6 P2    7 P3    Ver detalles  **Sprint 1:** LST-01 a LST-05   **Pendientes P2:** LST-06 (Por super), LST-07 (Costo), LST-08 (Precio real), LST-11 (Compartir), LST-14 (Reservar), LST-18 (Desde receta)   **Pendientes P3:** LST-09, LST-10, LST-12, LST-13, LST-15, LST-16, LST-17  [Ver historias completas \u2192](04-planificacion/historias-completas-150#lista)"},{"location":"04-planificacion/historias/#ecosalud-salud-y-bienestar-20-historias","title":"\ud83d\udc9a ECOSALUD - Salud y Bienestar (20 historias)","text":"3 en Sprint 1    17 pendientes    8 P2    9 P3    Ver detalles  **Sprint 1:** ECO-01, ECO-02, ECO-03   **Pendientes P2:** ECO-04 (Gr\u00e1ficos), ECO-05 (Alertas), ECO-06 (PDF), ECO-07 (Comparar metas), ECO-09 (Recordatorio), ECO-16 (Medicamentos), ECO-17 (Alerta medicamento), ECO-20 (Foto estudio)   **Pendientes P3:** Resto  [Ver historias completas \u2192](04-planificacion/historias-completas-150#ecosalud)"},{"location":"04-planificacion/historias/#apis-y-agente-ia-27-historias","title":"\ud83e\udd16 APIs y Agente IA (27 historias)","text":"<p>M\u00f3dulos Clave para v0.2+</p> <p>Estas historias habilitan la funcionalidad de comandos de voz e interacci\u00f3n con IA.</p>"},{"location":"04-planificacion/historias/#api-para-ia-15-historias","title":"API para IA (15 historias)","text":"<ul> <li>11 Issues creados (#52-#60, #101-#103)</li> <li>GraphQL schemas, autenticaci\u00f3n, queries conversacionales</li> <li>Ver detalles \u2192</li> </ul>"},{"location":"04-planificacion/historias/#agente-conversacional-12-historias","title":"Agente Conversacional (12 historias)","text":"<ul> <li>3 Issues creados (#104, #105, #106)</li> <li>Comandos voz, integraci\u00f3n Whisper, Home Assistant</li> <li>Ver detalles \u2192</li> </ul>"},{"location":"04-planificacion/historias/#acciones-rapidas","title":"\ud83c\udfaf Acciones R\u00e1pidas","text":"\ud83d\udc1b Ver Issues en GitHub <p>95 issues actualmente</p> \ud83c\udfaf Milestones <p>Configurar sprints</p> \ud83d\udccb Backlog Completo <p>161 historias detalladas</p> \u2699\ufe0f Workflow <p>C\u00f3mo gestionar historias</p>"},{"location":"04-planificacion/historias/#notas-para-priorizacion","title":"\ud83d\udcdd Notas para Priorizaci\u00f3n","text":"<p>Criterios</p> <ul> <li>P1: Bloqueante, sin esto no funciona nada</li> <li>P2: Alto valor, mejora experiencia significativamente</li> <li>P3: Nice-to-have, puede esperar</li> </ul> <p>Dependencias</p> <ul> <li>APIs GraphQL (API-01 a API-04) deben ir antes del Agente</li> <li>Multi-usuario requiere ajustes en CRUD b\u00e1sicos</li> <li>Integraciones externas (Google Cal, Fit) son P3</li> </ul> <p>Estimaciones</p> <ul> <li>S (Small): 2-4 horas</li> <li>M (Medium): 4-8 horas</li> <li>L (Large): 8-16 horas</li> <li>XL (Extra Large): 16+ horas</li> </ul> <p>\u00daltima actualizaci\u00f3n: 5 de febrero de 2026 Total historias: 161 Issues GitHub: 95 creados</p>"},{"location":"04-planificacion/roadmap/","title":"\ud83d\uddfa\ufe0f Roadmap","text":"<p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Horizonte: Q1-Q2 2026</p>"},{"location":"04-planificacion/roadmap/#proposito","title":"\ud83c\udfaf Prop\u00f3sito","text":"<p>Visualizar evoluci\u00f3n por trimestres/releases y alinear capacidad con objetivos. Referencia: Backlog y DF.</p>"},{"location":"04-planificacion/roadmap/#principios-de-planificacion","title":"\ud83d\udccb Principios de Planificaci\u00f3n","text":"<ul> <li>\u2705 Ritmo sostenible: Sesi\u00f3n semanal + retro quincenal</li> <li>\u2705 Priorizar MVP operable: Uso real antes que features</li> <li>\u2705 Aprendizaje continuo: Historial primero</li> <li>\u2705 ADRs revisados cada 2 semanas</li> </ul>"},{"location":"04-planificacion/roadmap/#hitos-y-fechas","title":"\ud83d\udcc5 Hitos y Fechas","text":""},{"location":"04-planificacion/roadmap/#sprint-0-marco-del-producto","title":"\ud83c\udfaf Sprint 0: Marco del Producto","text":"<p>Fechas: 01 Feb - 09 Feb 2026 Estado: \u23f3 En progreso</p> <p>Objetivo: Consolidar documentaci\u00f3n, backlog y ADRs para arrancar Sprint 1 con claridad total.</p> <p>Entregables: - \u2705 Estructura documental en Markdown - \u23f3 Configuraci\u00f3n MkDocs Material - \u23f3 Backlog Sprint 1 detallado - \u23f3 Plan de proyecto completo - \u2705 ADRs v1 documentados</p>"},{"location":"04-planificacion/roadmap/#sprint-1-mvp-operable","title":"\ud83d\ude80 Sprint 1: MVP Operable","text":"<p>Fechas: 10 Feb - 23 Feb 2026 Estado: \ud83d\udccb Planificado</p> <p>Objetivo: Sistema utilizable en el d\u00eda a d\u00eda (ALACENA + MANTIA + Lista + ECOSALUD m\u00ednimo).</p> <p>Alcance funcional: - ALACENA: Mejoras (filtros, b\u00fasqueda, estados de stock) - MANTIA: CRUD completo + ejecuciones + vista pendientes - Lista: CRUD + integraci\u00f3n ALACENA + marcar comprado - ECOSALUD: Registro b\u00e1sico + hist\u00f3rico</p> <p>Criterio de \u00e9xito: - \u2705 \u2265 20 registros reales en la semana - \u2705 Uso diario durante 7 d\u00edas consecutivos - \u2705 Sin bloqueos cr\u00edticos</p>"},{"location":"04-planificacion/roadmap/#sprint-2-3-consolidacion-y-reportes","title":"Sprint 2-3: Consolidaci\u00f3n y Reportes","text":"<p>Fechas: 24 Feb - 23 Mar 2026 Estado: \ud83d\udccb Planificado</p> <p>Objetivo: Mejorar UX, agregar reportes b\u00e1sicos y consolidar estabilidad.</p> <p>Alcance tentativo: - Reportes de consumo ALACENA - Estad\u00edsticas de cumplimiento MANTIA - Mejoras de navegaci\u00f3n - Estados vac\u00edos completos - Optimizaciones de performance</p>"},{"location":"04-planificacion/roadmap/#roadmap-por-trimestre","title":"\ud83d\udcca Roadmap por Trimestre","text":""},{"location":"04-planificacion/roadmap/#q1-2026-ene-mar","title":"Q1 2026 (Ene - Mar)","text":"<p>Objetivos: - \u2705 Consolidar MVP Sprint 1 - \u2705 Medir uso real (\u2265 20 registros/semana, 7 d\u00edas consecutivos) - \u2705 Estabilizar ALACENA, MANTIA, Lista</p> <p>Entregables: - EP-02 (ALACENA MVP) - Completo - EP-03 (MANTIA MVP) - Completo - EP-04 (Lista) - Completo - EP-05 (ECOSALUD) - B\u00e1sico funcional</p> <p>Riesgos y Mitigaciones: - \u26a0\ufe0f Riesgo: Sobrecarga de features sin uso real   - Mitigaci\u00f3n: Mantener foco en MVP, medir uso diario - \u26a0\ufe0f Riesgo: Complejidad t\u00e9cnica inesperada   - Mitigaci\u00f3n: Simplicidad first, ADRs claros</p>"},{"location":"04-planificacion/roadmap/#q2-2026-abr-jun","title":"Q2 2026 (Abr - Jun)","text":"<p>Objetivos: - \ud83d\udcca Reportes y an\u00e1lisis de datos - \ud83d\udd14 Notificaciones b\u00e1sicas (stock bajo, tareas vencidas) - \ud83c\udfe0 Exploraci\u00f3n de HUESHA (espacios f\u00edsicos) - \ud83d\udcf1 Mejoras m\u00f3viles (PWA completo)</p> <p>Entregables: - Sistema de notificaciones interno - Reportes ALACENA (consumo, tendencias) - Reportes MANTIA (cumplimiento, frecuencia) - HUESHA MVP (definici\u00f3n de espacios)</p> <p>Riesgos y Mitigaciones: - \u26a0\ufe0f Riesgo: Feature creep   - Mitigaci\u00f3n: DoR/DoD estrictos, retros quincenales</p>"},{"location":"04-planificacion/roadmap/#q3-2026-jul-sep-tentativo","title":"Q3 2026 (Jul - Sep) - Tentativo","text":"<p>Objetivos: - \ud83d\udcb0 FINANCIA MVP (presupuestos b\u00e1sicos) - \ud83e\udd16 Asistencia progresiva (sugerencias basadas en historial) - \ud83d\udcc8 Dashboards consolidados - \ud83d\udd04 Sincronizaci\u00f3n b\u00e1sica entre dispositivos</p>"},{"location":"04-planificacion/roadmap/#capacidad-estimada","title":"\ud83d\udcc8 Capacidad Estimada","text":""},{"location":"04-planificacion/roadmap/#por-sprint","title":"Por Sprint","text":"<ul> <li>Issues t\u00e9cnicos: 2-5 por sprint</li> <li>Historias de usuario: 3-7 por sprint</li> <li>Duraci\u00f3n: 2 semanas</li> <li>Velocidad estimada: Aumentar\u00e1 tras Sprint 1 (baseline)</li> </ul>"},{"location":"04-planificacion/roadmap/#por-trimestre","title":"Por Trimestre","text":"<ul> <li>Sprints: ~6 sprints por trimestre</li> <li>\u00c9picas: 1-2 \u00e9picas completas por trimestre</li> <li>Issues totales: ~20-30 por trimestre</li> </ul>"},{"location":"04-planificacion/roadmap/#hitos-clave","title":"\ud83c\udfaf Hitos Clave","text":"Hito Fecha Estado Descripci\u00f3n Deploy inicial Nov 2025 \u2705 ALACENA en producci\u00f3n Sistema de taras Ene 2026 \u2705 Control de stock masivo Framework documental 09 Feb 2026 \u23f3 Docs consolidados MVP Sprint 1 23 Feb 2026 \ud83d\udccb Sistema operable diario 100 registros reales Mar 2026 \ud83d\udccb Validaci\u00f3n de uso HUESHA MVP Jun 2026 \ud83d\udccb Gesti\u00f3n de espacios FINANCIA MVP Sep 2026 \ud83d\udccb Presupuestos b\u00e1sicos"},{"location":"04-planificacion/roadmap/#revision-y-ajuste","title":"\ud83d\udd04 Revisi\u00f3n y Ajuste","text":""},{"location":"04-planificacion/roadmap/#frecuencia","title":"Frecuencia","text":"<ul> <li>Semanal: Review de progreso y bloqueos</li> <li>Quincenal: Retro + ajuste de roadmap</li> <li>Mensual: Revisi\u00f3n de hitos y capacidad</li> </ul>"},{"location":"04-planificacion/roadmap/#triggers-de-actualizacion","title":"Triggers de Actualizaci\u00f3n","text":"<ul> <li>\u2705 Cambio de alcance de \u00e9pica</li> <li>\u2705 Nueva ADR que impacta roadmap</li> <li>\u2705 Bloqueo t\u00e9cnico significativo</li> <li>\u2705 Cambio de prioridades</li> </ul>"},{"location":"04-planificacion/roadmap/#enlaces-de-referencia","title":"\ud83d\udd17 Enlaces de Referencia","text":"<ul> <li>Documento Funcional</li> <li>Backlog Maestro</li> <li>Sprints</li> <li>Libro de Sesiones</li> <li>ADRs</li> </ul> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Pr\u00f3xima revisi\u00f3n: Post Sprint 1 (24 Feb 2026)</p>"},{"location":"04-planificacion/sprints/","title":"\ud83c\udfc3 Sprints","text":"<p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Sprint actual: Sprint 0</p>"},{"location":"04-planificacion/sprints/#proposito","title":"\ud83c\udfaf Prop\u00f3sito","text":"<p>Detalle completo de cada sprint: objetivos, alcance, historias, DoR/DoD y retrospectivas.</p>"},{"location":"04-planificacion/sprints/#sprint-0-marco-del-producto","title":"\ud83d\udccb Sprint 0: Marco del Producto","text":"<p>Fechas: 01 Feb - 09 Feb 2026 Estado: \u23f3 En progreso Tipo: Preparaci\u00f3n y documentaci\u00f3n</p>"},{"location":"04-planificacion/sprints/#objetivo","title":"Objetivo","text":"<p>Consolidar marco del producto (documentaci\u00f3n, backlog, ADRs) para arrancar Sprint 1 con total claridad.</p>"},{"location":"04-planificacion/sprints/#alcance","title":"Alcance","text":"<p>Documentaci\u00f3n: - \u2705 Migraci\u00f3n de ECO.htm a Markdown estructurado - \u23f3 Configuraci\u00f3n de MkDocs Material - \u23f3 README maestro con \u00edndice completo - \u2705 Estructura de carpetas definida</p> <p>Planificaci\u00f3n: - \u23f3 Backlog Sprint 1 detallado (\u00e9picas + historias) - \u23f3 Roadmap Q1-Q2 2026 - \u23f3 Plan de proyecto completo</p> <p>Arquitectura: - \u2705 ADRs v1 documentados - \u23f3 Modelo de datos consolidado - \u23f3 Inventario AS-IS completo</p>"},{"location":"04-planificacion/sprints/#sesiones","title":"Sesiones","text":"Fecha Duraci\u00f3n Tema Estado 04 Feb 200 min Estructura documental \u23f3 En curso 05 Feb 200 min Consolidaci\u00f3n t\u00e9cnica \ud83d\udccb Planificado 06 Feb 200 min Plan de proyecto final \ud83d\udccb Planificado"},{"location":"04-planificacion/sprints/#entregables","title":"Entregables","text":"<ul> <li>\u2705 docs/01-contexto-general.md</li> <li>\u2705 docs/02-documento-funcional.md</li> <li>\u2705 docs/03-libro-sesiones.md</li> <li>\u2705 docs/04-planificacion/ (backlog, roadmap, sprints)</li> <li>\u23f3 docs/05-arquitectura/ (adrs, modelo, inventario)</li> <li>\u23f3 docs/06-ux-navegacion.md</li> <li>\u2705 docs/07-cheatsheet.md</li> <li>\u2705 docs/README.md</li> <li>\u2705 mkdocs.yml</li> </ul>"},{"location":"04-planificacion/sprints/#criterio-de-exito","title":"Criterio de \u00c9xito","text":"<ul> <li>\u2705 Documentaci\u00f3n navegable y completa</li> <li>\u2705 Backlog Sprint 1 listo para ejecutar</li> <li>\u2705 ADRs v1 consolidados</li> <li>\u2705 MkDocs funcionando localmente</li> <li>\u23f3 Plan de proyecto con fechas y capacidad</li> </ul>"},{"location":"04-planificacion/sprints/#retrospectiva","title":"Retrospectiva","text":"<p>Pendiente de completar el 09 Feb 2026</p>"},{"location":"04-planificacion/sprints/#sprint-1-mvp-operable","title":"\ud83d\ude80 Sprint 1: MVP Operable","text":"<p>Fechas: 10 Feb - 23 Feb 2026 Estado: \ud83d\udccb Planificado Tipo: Desarrollo funcional</p>"},{"location":"04-planificacion/sprints/#objetivo_1","title":"Objetivo","text":"<p>Que ECO pueda ser usado por vos mismo de forma real y diaria. Sistema completamente funcional para ALACENA, MANTIA, Lista y ECOSALUD b\u00e1sico.</p>"},{"location":"04-planificacion/sprints/#alcance-funcional","title":"Alcance Funcional","text":""},{"location":"04-planificacion/sprints/#alacena-mejoras","title":"ALACENA (Mejoras)","text":"<ul> <li>\ud83d\udccb ALA-05: Categorizaci\u00f3n y filtros</li> <li>\ud83d\udccb ALA-06: Estados de stock (bajo, normal, alto)</li> <li>\ud83d\udccb ALA-07: B\u00fasqueda de items</li> </ul>"},{"location":"04-planificacion/sprints/#mantia-completo","title":"MANTIA (Completo)","text":"<ul> <li>\ud83d\udccb MAN-01: CRUD de tareas</li> <li>\ud83d\udccb MAN-02: Marcar tarea como hecha</li> <li>\ud83d\udccb MAN-03: Registrar ejecuci\u00f3n</li> <li>\ud83d\udccb MAN-04: Vista de pendientes</li> <li>\ud83d\udccb MAN-05: C\u00e1lculo de pr\u00f3xima fecha (periodicidad)</li> <li>\ud83d\udccb MAN-06: Filtros por estado</li> <li>\ud83d\udccb MAN-07: Categorizaci\u00f3n de tareas</li> </ul>"},{"location":"04-planificacion/sprints/#lista-de-compras","title":"Lista de Compras","text":"<ul> <li>\ud83d\udccb LST-01: CRUD manual de items</li> <li>\ud83d\udccb LST-02: Agregar desde ALACENA (stock bajo)</li> <li>\ud83d\udccb LST-03: Marcar como comprado</li> <li>\ud83d\udccb LST-04: Vista por categor\u00edas</li> </ul>"},{"location":"04-planificacion/sprints/#ecosalud-basico","title":"ECOSALUD (B\u00e1sico)","text":"<ul> <li>\ud83d\udccb ECO-01: Registro manual de datos</li> <li>\ud83d\udccb ECO-02: Hist\u00f3rico cronol\u00f3gico</li> <li>\ud83d\udccb ECO-03: Tipos de registro (peso, presi\u00f3n, notas)</li> </ul>"},{"location":"04-planificacion/sprints/#alcance-tecnico","title":"Alcance T\u00e9cnico","text":"<ul> <li>\u23f3 DB extendida seg\u00fan modelo (migraciones Prisma)</li> <li>\u23f3 Logs estructurados simples</li> <li>\u23f3 Estados vac\u00edos para todos los m\u00f3dulos</li> <li>\u23f3 Validaciones b\u00e1sicas en frontend y backend</li> <li>\u23f3 Tests m\u00ednimos (endpoints cr\u00edticos)</li> </ul>"},{"location":"04-planificacion/sprints/#historias-totales","title":"Historias Totales","text":"<p>Total: 18 historias Estimaci\u00f3n: L (Sprint completo de 2 semanas)</p>"},{"location":"04-planificacion/sprints/#criterio-de-exito_1","title":"Criterio de \u00c9xito","text":""},{"location":"04-planificacion/sprints/#metricas-de-uso","title":"M\u00e9tricas de Uso","text":"<ul> <li>\u2705 \u2265 20 registros reales durante la semana</li> <li>\u2705 Uso diario durante 7 d\u00edas consecutivos</li> <li>\u2705 Sin bloqueos cr\u00edticos que impidan flujo</li> </ul>"},{"location":"04-planificacion/sprints/#metricas-tecnicas","title":"M\u00e9tricas T\u00e9cnicas","text":"<ul> <li>\u2705 100% de historias mergeadas a main</li> <li>\u2705 100% de migraciones aplicadas en producci\u00f3n</li> <li>\u2705 0 errores cr\u00edticos en producci\u00f3n</li> <li>\u2705 Todas las features probadas desde m\u00f3vil</li> </ul>"},{"location":"04-planificacion/sprints/#definition-of-ready-dor","title":"Definition of Ready (DoR)","text":"<p>Una historia est\u00e1 lista si:</p> <ul> <li>\u2705 Tiene objetivo claro</li> <li>\u2705 Criterios de aceptaci\u00f3n testables (m\u00ednimo 3)</li> <li>\u2705 Impacto en datos definido (modelo actualizado)</li> <li>\u2705 Flujo feliz escrito</li> <li>\u2705 Estados vac\u00edos considerados</li> <li>\u2705 No hay dependencias bloqueantes</li> </ul>"},{"location":"04-planificacion/sprints/#definition-of-done-dod","title":"Definition of Done (DoD)","text":"<p>Est\u00e1 hecha si:</p> <ul> <li>\u2705 C\u00f3digo mergeado a main</li> <li>\u2705 Migraciones aplicadas en producci\u00f3n (si aplica)</li> <li>\u2705 Log b\u00e1sico funcionando</li> <li>\u2705 Probado desde m\u00f3vil (responsive)</li> <li>\u2705 Deployado a producci\u00f3n</li> <li>\u2705 Documentado en DF si cambia modelo/ADR</li> </ul>"},{"location":"04-planificacion/sprints/#retrospectiva_1","title":"Retrospectiva","text":"<p>Pendiente de completar el 24 Feb 2026</p>"},{"location":"04-planificacion/sprints/#template-de-sprint-futuro","title":"\ud83d\udcca Template de Sprint Futuro","text":"<pre><code>## \ud83d\ude80 Sprint N: [Nombre]\n\n**Fechas:** DD MMM - DD MMM AAAA\n**Estado:** \ud83d\udccb Planificado | \u23f3 En progresso | \u2705 Completado\n**Tipo:** [Desarrollo | Refactor | Infraestructura]\n\n### Objetivo\n[Una frase clara del objetivo principal]\n\n### Alcance Funcional\n[Lista de \u00e9picas/historias incluidas]\n\n### Alcance T\u00e9cnico\n[Cambios de infraestructura, refactors, etc.]\n\n### Historias Totales\n**Total:** X historias\n**Estimaci\u00f3n:** S | M | L | XL\n\n### Criterio de \u00c9xito\n[M\u00e9tricas claras y medibles]\n\n### DoR / DoD\n[Referencias o especificaciones si difieren del est\u00e1ndar]\n\n### Retrospectiva\n**Qu\u00e9 funcion\u00f3:**\n- [Item 1]\n\n**Qu\u00e9 mejorar:**\n- [Item 1]\n\n**Acciones:**\n- [Acci\u00f3n 1]: [Responsable]\n</code></pre>"},{"location":"04-planificacion/sprints/#metricas-de-sprints","title":"\ud83d\udcc8 M\u00e9tricas de Sprints","text":""},{"location":"04-planificacion/sprints/#velocidad-stories-completadas-por-sprint","title":"Velocidad (Stories completadas por sprint)","text":"Sprint Planificado Completado % Sprint 0 8 items TBD TBD Sprint 1 18 historias - - <p>Se establecer\u00e1 baseline tras Sprint 1</p>"},{"location":"04-planificacion/sprints/#tiempo-por-historia","title":"Tiempo por Historia","text":"<p>Pendiente de medir tras Sprint 1</p>"},{"location":"04-planificacion/sprints/#bloqueos-por-sprint","title":"Bloqueos por Sprint","text":"<p>Pendiente de registrar</p>"},{"location":"04-planificacion/sprints/#ceremonias-de-sprint","title":"\ud83d\udd04 Ceremonias de Sprint","text":""},{"location":"04-planificacion/sprints/#planning-lunes-semana-1","title":"Planning (Lunes semana 1)","text":"<ul> <li>Duraci\u00f3n: 30 min</li> <li>Objetivo: Seleccionar historias del backlog</li> <li>Output: Sprint definido en este documento</li> </ul>"},{"location":"04-planificacion/sprints/#daily-stand-up-opcional","title":"Daily Stand-up (Opcional)","text":"<ul> <li>Frecuencia: 2-3 veces por semana</li> <li>Duraci\u00f3n: 5 min</li> <li>Formato: Async (actualizaci\u00f3n de estado)</li> </ul>"},{"location":"04-planificacion/sprints/#review-viernes-semana-2","title":"Review (Viernes semana 2)","text":"<ul> <li>Duraci\u00f3n: 30 min</li> <li>Objetivo: Demostrar entregables</li> <li>Output: Actualizaci\u00f3n de roadmap</li> </ul>"},{"location":"04-planificacion/sprints/#retro-viernes-semana-2","title":"Retro (Viernes semana 2)","text":"<ul> <li>Duraci\u00f3n: 20 min</li> <li>Objetivo: Identificar mejoras</li> <li>Output: Acciones concretas</li> </ul>"},{"location":"04-planificacion/sprints/#enlaces","title":"\ud83d\udd17 Enlaces","text":"<ul> <li>Backlog Maestro</li> <li>Roadmap</li> <li>Documento Funcional</li> <li>Libro de Sesiones</li> </ul> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Pr\u00f3xima revisi\u00f3n: Fin de Sprint 0 (09 Feb 2026)</p>"},{"location":"04-planificacion/sprints/","title":"Sprints","text":"<p>Documentaci\u00f3n de cada sprint del proyecto.</p>"},{"location":"05-arquitectura/adrs/","title":"\ud83d\udcdc ADRs \u2013 Architecture Decision Records","text":"<p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026</p>"},{"location":"05-arquitectura/adrs/#proposito","title":"\ud83c\udfaf Prop\u00f3sito","text":"<p>Registro de decisiones arquitect\u00f3nicas del proyecto ECO. Cada ADR documenta una decisi\u00f3n t\u00e9cnica significativa, su contexto, alternativas consideradas y consecuencias.</p>"},{"location":"05-arquitectura/adrs/#indice-de-adrs","title":"\ud83d\udccb \u00cdndice de ADRs","text":"ID T\u00edtulo Estado Fecha ADR-001 Monolito modular (no microservicios) \u2705 Aceptada Nov 2025 ADR-002 Aislamiento por hogar \u2705 Aceptada Nov 2025 ADR-003 Autenticaci\u00f3n b\u00e1sica \u2705 Aceptada Nov 2025 ADR-004 Periodicidad declarativa en MANTIA \u2705 Aceptada Dic 2025 ADR-005 Lista de Compras transversal \u2705 Aceptada Dic 2025 ADR-006 Supabase para DB + Auth \u2705 Aceptada Nov 2025 ADR-007 Cloudinary para media \u2705 Aceptada Nov 2025 ADR-008 Web antes que mobile nativo \u2705 Aceptada Dic 2025"},{"location":"05-arquitectura/adrs/#adr-001-monolito-modular","title":"ADR-001: Monolito Modular","text":"<p>Estado: \u2705 Aceptada Fecha: Noviembre 2025 Autores: Fran Alberio</p>"},{"location":"05-arquitectura/adrs/#contexto","title":"Contexto","text":"<p>ECO necesita una arquitectura que permita: - Desarrollo r\u00e1pido con una sola persona - Despliegue simple sin complejidad de DevOps - Separaci\u00f3n clara de responsabilidades (m\u00f3dulos) - Posibilidad de extraer microservicios a futuro</p>"},{"location":"05-arquitectura/adrs/#decision","title":"Decisi\u00f3n","text":"<p>Construir un monolito modular con una sola API y repositorio, organizado internamente por m\u00f3dulos funcionales (ALACENA, MANTIA, etc.).</p> <p>Stack: - Backend: Node.js + Express - ORM: Prisma - DB: PostgreSQL (Supabase)</p> <p>Organizaci\u00f3n: <pre><code>backend/\n  src/\n    modules/\n      alacena/\n      mantia/\n      ecosalud/\n    shared/\n    app.js\n</code></pre></p>"},{"location":"05-arquitectura/adrs/#consecuencias","title":"Consecuencias","text":"<p>Positivas: - \u2705 Despliegue simple (un solo servicio) - \u2705 Desarrollo r\u00e1pido sin overhead de comunicaci\u00f3n entre servicios - \u2705 Base de datos compartida (transacciones ACID) - \u2705 Menor costo de infraestructura - \u2705 Un solo repositorio (monorepo)</p> <p>Negativas: - \u26a0\ufe0f Acoplamiento potencial entre m\u00f3dulos (requiere disciplina) - \u26a0\ufe0f Escala vertical limitada (no cr\u00edtico para uso personal) - \u26a0\ufe0f Deploy all-or-nothing (no deploy independiente por m\u00f3dulo)</p>"},{"location":"05-arquitectura/adrs/#alternativas-consideradas","title":"Alternativas Consideradas","text":"<p>1. Microservicios desde el inicio - \u274c Descartado: Overhead operativo muy alto para MVP - \u274c Complejidad de comunicaci\u00f3n entre servicios - \u274c Costos de infraestructura multiplicados</p> <p>2. Serverless (funciones separadas) - \u274c Descartado: Cold starts problem\u00e1ticos - \u274c Mayor complejidad de estados compartidos - \u274c Lock-in con proveedor cloud</p>"},{"location":"05-arquitectura/adrs/#notas-de-implementacion","title":"Notas de Implementaci\u00f3n","text":"<ul> <li>Mantener m\u00f3dulos con dependencias claras y unidireccionales</li> <li>Usar eventos internos para comunicaci\u00f3n entre m\u00f3dulos</li> <li>Preparar c\u00f3digo para posible extracci\u00f3n futura (interfaces bien definidas)</li> </ul>"},{"location":"05-arquitectura/adrs/#adr-002-aislamiento-por-hogar","title":"ADR-002: Aislamiento por Hogar","text":"<p>Estado: \u2705 Aceptada Fecha: Noviembre 2025 Autores: Fran Alberio</p>"},{"location":"05-arquitectura/adrs/#contexto_1","title":"Contexto","text":"<p>ECO necesita soportar uso familiar con datos completamente aislados por hogar. Cada hogar debe ser independiente y no ver datos de otros hogares.</p>"},{"location":"05-arquitectura/adrs/#decision_1","title":"Decisi\u00f3n","text":"<p>Implementar multi-tenancy a nivel de hogar con: - Tabla <code>Household</code> (hogar) - Tabla <code>UserHousehold</code> (relaci\u00f3n usuario-hogar) - Filtro autom\u00e1tico en todas las queries por <code>household_id</code></p> <p>Esquema: <pre><code>model Household {\n  id   String @id\n  name String\n}\n\nmodel UserHousehold {\n  user_id      String\n  household_id String\n  role         String  // \"owner\" | \"member\"\n}\n</code></pre></p> <p>Todas las entidades de m\u00f3dulos tienen <code>household_id</code> obligatorio.</p>"},{"location":"05-arquitectura/adrs/#consecuencias_1","title":"Consecuencias","text":"<p>Positivas: - \u2705 Aislamiento total de datos por hogar - \u2705 Soporte para uso familiar sin complejidad - \u2705 Base de datos compartida (eficiencia) - \u2705 Escalabilidad horizontal simple (sharding futuro por hogar)</p> <p>Negativas: - \u26a0\ufe0f Requiere disciplina en queries (siempre filtrar por household_id) - \u26a0\ufe0f Riesgo de data leakage si se olvida el filtro - \u26a0\ufe0f Migraciones m\u00e1s complejas (todas las tablas tienen household_id)</p>"},{"location":"05-arquitectura/adrs/#alternativas-consideradas_1","title":"Alternativas Consideradas","text":"<p>1. Base de datos separada por hogar - \u274c Overhead operativo enorme - \u274c Costos multiplicados - \u274c Migraciones complejas</p> <p>2. Un solo usuario por instancia - \u274c Limita uso familiar - \u274c No permite compartir datos en el futuro</p>"},{"location":"05-arquitectura/adrs/#mitigacion-de-riesgos","title":"Mitigaci\u00f3n de Riesgos","text":"<ul> <li>Middleware autom\u00e1tico que inyecta <code>household_id</code> en contexto</li> <li>Tests de aislamiento con dos hogares de prueba</li> <li>Revisi\u00f3n de code antes de merge (checklist: \u00bffiltra por household?)</li> </ul>"},{"location":"05-arquitectura/adrs/#adr-003-autenticacion-basica","title":"ADR-003: Autenticaci\u00f3n B\u00e1sica","text":"<p>Estado: \u2705 Aceptada Fecha: Noviembre 2025 Autores: Fran Alberio</p>"},{"location":"05-arquitectura/adrs/#contexto_2","title":"Contexto","text":"<p>ECO necesita autenticaci\u00f3n simple para: - Identificar usuarios - Asociarlos a hogares - Proteger datos</p> <p>No requiere (v1): - OAuth/Social login - 2FA - Gesti\u00f3n compleja de permisos</p>"},{"location":"05-arquitectura/adrs/#decision_2","title":"Decisi\u00f3n","text":"<p>Usar Supabase Auth con: - Email + password - JWT tokens - Sesiones gestionadas por Supabase</p> <p>Implementaci\u00f3n: - Frontend: NextAuth.js integrado con Supabase - Backend: Validaci\u00f3n de JWT en middleware</p>"},{"location":"05-arquitectura/adrs/#consecuencias_2","title":"Consecuencias","text":"<p>Positivas: - \u2705 Implementaci\u00f3n r\u00e1pida (servicios gestionados) - \u2705 Sin gesti\u00f3n de passwords (hashing, salt, etc.) - \u2705 Escalable a OAuth si se necesita - \u2705 Gratis hasta tier generoso</p> <p>Negativas: - \u26a0\ufe0f Dependencia de Supabase (mitigable con alternativas) - \u26a0\ufe0f No 2FA (no cr\u00edtico para MVP)</p>"},{"location":"05-arquitectura/adrs/#alternativas-consideradas_2","title":"Alternativas Consideradas","text":"<p>1. Auth propio (Passport.js) - \u274c Overhead de mantener seguridad - \u274c Responsabilidad de bugs de seguridad</p> <p>2. Auth0 / Clerk - \u274c Costos m\u00e1s altos - \u274c M\u00e1s features de las necesarias (overkill)</p>"},{"location":"05-arquitectura/adrs/#adr-004-periodicidad-declarativa","title":"ADR-004: Periodicidad Declarativa","text":"<p>Estado: \u2705 Aceptada Fecha: Diciembre 2025 Autores: Fran Alberio</p>"},{"location":"05-arquitectura/adrs/#contexto_3","title":"Contexto","text":"<p>MANTIA necesita soportar tareas peri\u00f3dicas (diarias, semanales, mensuales) sin: - Cron jobs complejos - Generaci\u00f3n autom\u00e1tica de instancias - Overhead operativo</p>"},{"location":"05-arquitectura/adrs/#decision_3","title":"Decisi\u00f3n","text":"<p>Periodicidad declarativa con c\u00e1lculo on-demand: - Campo <code>periodicidad</code> en <code>Task</code> (diaria|semanal|mensual|null) - Campo <code>proxima_sugerida</code> calculado tras cada ejecuci\u00f3n - No generaci\u00f3n autom\u00e1tica de tareas futuras</p> <p>Flujo: 1. Usuario marca tarea como hecha 2. Sistema registra ejecuci\u00f3n 3. Sistema calcula <code>proxima_sugerida</code> basado en <code>periodicidad</code> 4. Vista \"Pendientes\" muestra tareas con <code>proxima_sugerida</code> pasada</p>"},{"location":"05-arquitectura/adrs/#consecuencias_3","title":"Consecuencias","text":"<p>Positivas: - \u2705 Simplicidad: sin cron jobs ni workers - \u2705 Flexibilidad: usuario puede saltearse ejecuciones - \u2705 Historial real (solo se registra lo ejecutado)</p> <p>Negativas: - \u26a0\ufe0f No recordatorios autom\u00e1ticos (feature futura) - \u26a0\ufe0f Requiere que usuario abra la app para ver pendientes</p>"},{"location":"05-arquitectura/adrs/#alternativas-consideradas_3","title":"Alternativas Consideradas","text":"<p>1. Cron jobs que generan instancias - \u274c Complejidad operativa - \u274c Genera ruido (tareas no ejecutadas)</p> <p>2. Recordatorios push - \u274c Fuera de alcance v1 (No-Objetivo declarado)</p>"},{"location":"05-arquitectura/adrs/#adr-005-lista-transversal","title":"ADR-005: Lista Transversal","text":"<p>Estado: \u2705 Aceptada Fecha: Diciembre 2025 Autores: Fran Alberio</p>"},{"location":"05-arquitectura/adrs/#contexto_4","title":"Contexto","text":"<p>M\u00faltiples m\u00f3dulos necesitan agregar items a una lista de compras: - ALACENA (stock bajo) - MANTIA (insumos para tarea) - Manual por usuario</p>"},{"location":"05-arquitectura/adrs/#decision_4","title":"Decisi\u00f3n","text":"<p>Lista de Compras como entidad transversal con: - Una sola lista por hogar - Campo <code>origen</code> (manual|alacena|mantia) - Campo <code>origen_ref_id</code> (referencia al item original)</p> <p>Modelo: <pre><code>model ShoppingListItem {\n  id            String\n  household_id  String\n  nombre        String\n  cantidad      Float?\n  unidad        String?\n  origen        String\n  origen_ref_id String?\n  estado        String  // pendiente|comprado\n}\n</code></pre></p>"},{"location":"05-arquitectura/adrs/#consecuencias_4","title":"Consecuencias","text":"<p>Positivas: - \u2705 Centralizaci\u00f3n de necesidades - \u2705 Trazabilidad de origen - \u2705 Simplicidad (una sola lista)</p> <p>Negativas: - \u26a0\ufe0f No m\u00faltiples listas (limitaci\u00f3n v1 consciente) - \u26a0\ufe0f No compartir fuera del hogar (limitaci\u00f3n v1)</p>"},{"location":"05-arquitectura/adrs/#alternativas-consideradas_4","title":"Alternativas Consideradas","text":"<p>1. Listas m\u00faltiples por hogar - \u274c Complejidad innecesaria para MVP - \u274c UX m\u00e1s confusa</p> <p>2. Listas separadas por m\u00f3dulo - \u274c Usuario debe consultar m\u00faltiples lugares - \u274c Duplicaci\u00f3n de items</p>"},{"location":"05-arquitectura/adrs/#adr-006-supabase-para-db-auth","title":"ADR-006: Supabase para DB + Auth","text":"<p>Estado: \u2705 Aceptada Fecha: Noviembre 2025 Autores: Fran Alberio</p>"},{"location":"05-arquitectura/adrs/#contexto_5","title":"Contexto","text":"<p>ECO necesita base de datos PostgreSQL y autenticaci\u00f3n sin gesti\u00f3n de infraestructura.</p>"},{"location":"05-arquitectura/adrs/#decision_5","title":"Decisi\u00f3n","text":"<p>Usar Supabase para: - PostgreSQL gestionado - Autenticaci\u00f3n (ver ADR-003) - Backups autom\u00e1ticos - UI de admin</p>"},{"location":"05-arquitectura/adrs/#consecuencias_5","title":"Consecuencias","text":"<p>Positivas: - \u2705 Gratis hasta tier generoso - \u2705 Postgresql completo (no limitaciones) - \u2705 Backups autom\u00e1ticos - \u2705 Migraciones con Prisma funcionan perfectamente</p> <p>Negativas: - \u26a0\ufe0f Vendor lock-in mitigable (Postgres est\u00e1ndar)</p>"},{"location":"05-arquitectura/adrs/#adr-007-cloudinary-para-media","title":"ADR-007: Cloudinary para Media","text":"<p>Estado: \u2705 Aceptada Fecha: Noviembre 2025</p>"},{"location":"05-arquitectura/adrs/#decision_6","title":"Decisi\u00f3n","text":"<p>Usar Cloudinary para almacenamiento de im\u00e1genes (items de ALACENA).</p>"},{"location":"05-arquitectura/adrs/#consecuencias_6","title":"Consecuencias","text":"<p>Positivas: - \u2705 Gratis hasta tier generoso - \u2705 Optimizaci\u00f3n autom\u00e1tica de im\u00e1genes - \u2705 CDN incluido</p>"},{"location":"05-arquitectura/adrs/#adr-008-web-antes-que-mobile-nativo","title":"ADR-008: Web antes que Mobile Nativo","text":"<p>Estado: \u2705 Aceptada Fecha: Diciembre 2025</p>"},{"location":"05-arquitectura/adrs/#decision_7","title":"Decisi\u00f3n","text":"<p>Priorizar PWA web mobile-first antes que app nativa.</p>"},{"location":"05-arquitectura/adrs/#consecuencias_7","title":"Consecuencias","text":"<p>Positivas: - \u2705 Un solo codebase - \u2705 Deploy instant\u00e1neo (sin stores) - \u2705 Menor complejidad</p> <p>Negativas: - \u26a0\ufe0f Limitaciones de PWA vs nativo (notificaciones, offline)</p>"},{"location":"05-arquitectura/adrs/#plantilla-para-nuevas-adrs","title":"\ud83d\udcdd Plantilla para Nuevas ADRs","text":"<pre><code>## ADR-XXX: [T\u00edtulo]\n\n**Estado:** \ud83d\udccb Propuesta | \u2705 Aceptada | \u274c Rechazada | \ud83d\uddc4\ufe0f Obsoleta\n**Fecha:** [Mes AAAA]\n**Autores:** [Nombre]\n\n### Contexto\n[Situaci\u00f3n que motiva la decisi\u00f3n]\n\n### Decisi\u00f3n\n[Qu\u00e9 se decidi\u00f3 hacer]\n\n### Consecuencias\n\n**Positivas:**\n- \u2705 [Pro 1]\n- \u2705 [Pro 2]\n\n**Negativas:**\n- \u26a0\ufe0f [Contra 1]\n- \u26a0\ufe0f [Contra 2]\n\n### Alternativas Consideradas\n\n**1. [Alternativa 1]**\n- \u274c [Por qu\u00e9 se descart\u00f3]\n\n**2. [Alternativa 2]**\n- \u274c [Por qu\u00e9 se descart\u00f3]\n\n### Notas de Implementaci\u00f3n\n[Detalles t\u00e9cnicos relevantes]\n</code></pre>"},{"location":"05-arquitectura/adrs/#enlaces","title":"\ud83d\udd17 Enlaces","text":"<ul> <li>Documento Funcional</li> <li>Inventario AS-IS</li> <li>Modelo de Datos</li> <li>Libro de Sesiones</li> </ul> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Pr\u00f3xima revisi\u00f3n: Quincenal (pr\u00f3xima: 18 Feb 2026)</p>"},{"location":"05-arquitectura/inventario-as-is/","title":"\ud83d\udcca Inventario AS-IS","text":"<p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Sprint: Sprint 0</p>"},{"location":"05-arquitectura/inventario-as-is/#proposito","title":"\ud83c\udfaf Prop\u00f3sito","text":"<p>Estado real del ecosistema ECO seg\u00fan el sistema actual en producci\u00f3n. No es el plano ideal, es la realidad operativa. Actualizar cuando cambie algo relevante.</p>"},{"location":"05-arquitectura/inventario-as-is/#urls-en-produccion","title":"\ud83c\udf10 URLs en Producci\u00f3n","text":"Servicio URL Estado Frontend https://alacena-blush.vercel.app \u2705 Activo Backend API https://alacena-backend.fly.dev \u2705 Activo Database Supabase PostgreSQL \u2705 Activo Media Cloudinary \u2705 Activo"},{"location":"05-arquitectura/inventario-as-is/#credenciales-de-prueba","title":"Credenciales de Prueba","text":"<ul> <li>Admin: admin@alacena.com / admin123</li> <li>Usuario: user@alacena.com / user123</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#frontend","title":"\ud83c\udfa8 Frontend","text":""},{"location":"05-arquitectura/inventario-as-is/#hosting-deploy","title":"Hosting &amp; Deploy","text":"<ul> <li>Proveedor: Vercel</li> <li>URL producci\u00f3n: https://alacena-blush.vercel.app</li> <li>Branch principal: main</li> <li>Auto-deploy: \u2705 Habilitado en push a main</li> <li>Preview deploys: \u2705 Habilitado en PRs</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#stack-tecnologico","title":"Stack Tecnol\u00f3gico","text":"<ul> <li>Framework: Next.js 14</li> <li>UI Library: React 18</li> <li>Lenguaje: TypeScript</li> <li>Styling: Tailwind CSS</li> <li>Auth: NextAuth.js v5</li> <li>HTTP Client: Fetch API nativo</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#variables-de-entorno-vercel","title":"Variables de Entorno (Vercel)","text":"<pre><code>NEXT_PUBLIC_API_URL=https://alacena-backend.fly.dev\nNEXT_PUBLIC_AUTH_SECRET=[secret]\nNEXT_PUBLIC_NEXTAUTH_SECRET=[secret]\n</code></pre>"},{"location":"05-arquitectura/inventario-as-is/#estado-actual","title":"Estado Actual","text":"<ul> <li>\u2705 ALACENA: Operativo completo</li> <li>CRUD de items</li> <li>Registro de movimientos</li> <li>Sistema de taras</li> <li>Control de stock masivo</li> <li>C\u00f3digos QR</li> <li>\u23f3 MANTIA: No implementado</li> <li>\u23f3 ECOSALUD: No implementado</li> <li>\u23f3 Lista de Compras: No implementado</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#backend-api","title":"\u2699\ufe0f Backend / API","text":""},{"location":"05-arquitectura/inventario-as-is/#hosting-deploy_1","title":"Hosting &amp; Deploy","text":"<ul> <li>Proveedor: Fly.io</li> <li>URL producci\u00f3n: https://alacena-backend.fly.dev</li> <li>Branch principal: main</li> <li>Deploy: Manual via <code>fly deploy</code></li> <li>Regi\u00f3n: Miami (mia)</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#stack-tecnologico_1","title":"Stack Tecnol\u00f3gico","text":"<ul> <li>Runtime: Node.js 18</li> <li>Framework: Express</li> <li>ORM: Prisma</li> <li>Lenguaje: JavaScript (ES modules)</li> <li>Base image: Debian Slim (no Alpine por OpenSSL)</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#estructura","title":"Estructura","text":"<pre><code>backend/\n  api/\n    index.js           # Entry point para Vercel (legacy)\n  src/\n    app.js             # Express app\n    server.js          # Server startup\n    controllers/       # Controladores por m\u00f3dulo\n    routes/            # Rutas por m\u00f3dulo\n    services/          # L\u00f3gica de negocio\n    prisma/            # Cliente Prisma\n  prisma/\n    schema.prisma      # Modelo de datos\n    migrations/        # Migraciones\n</code></pre>"},{"location":"05-arquitectura/inventario-as-is/#secrets-en-flyio","title":"Secrets en Fly.io","text":"<pre><code>DATABASE_URL=[supabase connection string]\nJWT_SECRET=[secret]\n</code></pre>"},{"location":"05-arquitectura/inventario-as-is/#endpoints-disponibles","title":"Endpoints Disponibles","text":""},{"location":"05-arquitectura/inventario-as-is/#alacena","title":"ALACENA","text":"<ul> <li><code>GET /api/items</code> - Listar items</li> <li><code>POST /api/items</code> - Crear item</li> <li><code>GET /api/items/:id</code> - Detalle de item</li> <li><code>PUT /api/items/:id</code> - Actualizar item</li> <li><code>DELETE /api/items/:id</code> - Eliminar item</li> <li><code>POST /api/items/:id/movements</code> - Registrar movimiento</li> <li><code>GET /api/containers</code> - Listar contenedores</li> <li><code>GET /api/containers/:code</code> - Detalle de contenedor</li> <li><code>PUT /api/containers/:code</code> - Actualizar contenedor</li> <li><code>POST /api/reserves</code> - Crear reserva</li> <li><code>GET /api/reserves/:containerId</code> - Obtener reserva</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#estado-actual_1","title":"Estado Actual","text":"<ul> <li>\u2705 ALACENA: Endpoints completos</li> <li>\u23f3 MANTIA: No implementado</li> <li>\u23f3 ECOSALUD: No implementado</li> <li>\u23f3 Lista: No implementado</li> <li>\u2705 Auth: JWT b\u00e1sico funcionando</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#base-de-datos","title":"\ud83d\uddc4\ufe0f Base de Datos","text":""},{"location":"05-arquitectura/inventario-as-is/#proveedor-ubicacion","title":"Proveedor &amp; Ubicaci\u00f3n","text":"<ul> <li>Proveedor: Supabase</li> <li>Engine: PostgreSQL 15</li> <li>Regi\u00f3n: us-east-1</li> <li>Host: db.orqnbchxoqalghcaaajw.supabase.co</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#entornos","title":"Entornos","text":"<ul> <li>Producci\u00f3n: \u2705 Activo (\u00fanico entorno actual)</li> <li>Desarrollo: N/A (usa producci\u00f3n)</li> <li>Test: N/A</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#conexion","title":"Conexi\u00f3n","text":"<ul> <li>Desde Backend: Connection string DNS (no IPv6)</li> <li>Pool size: Default Supabase</li> <li>SSL: \u2705 Habilitado</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#tablas-existentes-alacena","title":"Tablas Existentes (ALACENA)","text":""},{"location":"05-arquitectura/inventario-as-is/#user","title":"User","text":"<pre><code>id, email, password_hash, name, role, created_at, updated_at\n</code></pre>"},{"location":"05-arquitectura/inventario-as-is/#container","title":"Container","text":"<pre><code>id, code, name, location_id, current_item_id, shelf_row, shelf_col,\ncapacity_ml, typeId, created_at, updated_at\n</code></pre>"},{"location":"05-arquitectura/inventario-as-is/#containertype","title":"ContainerType","text":"<pre><code>id, name, description, tareWeight_g, capacity_ml, created_at, updated_at\n</code></pre>"},{"location":"05-arquitectura/inventario-as-is/#item","title":"Item","text":"<pre><code>id, code, name, category, unit, location, created_at, updated_at\n</code></pre>"},{"location":"05-arquitectura/inventario-as-is/#reserve","title":"Reserve","text":"<pre><code>id, container_id, item_id, weight_g, timestamp, created_at, updated_at\n</code></pre>"},{"location":"05-arquitectura/inventario-as-is/#location","title":"Location","text":"<pre><code>id, name, type, created_at, updated_at\n</code></pre>"},{"location":"05-arquitectura/inventario-as-is/#migraciones","title":"Migraciones","text":"<ul> <li>Total: ~15 migraciones</li> <li>Estado: Todas aplicadas en producci\u00f3n</li> <li>Herramienta: Prisma Migrate</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#autenticacion","title":"\ud83d\udd10 Autenticaci\u00f3n","text":""},{"location":"05-arquitectura/inventario-as-is/#proveedor","title":"Proveedor","text":"<ul> <li>Supabase Auth integrado con NextAuth.js</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#metodos-soportados","title":"M\u00e9todos Soportados","text":"<ul> <li>\u2705 Email + Password</li> <li>\u274c OAuth/Social (no implementado)</li> <li>\u274c 2FA (no implementado)</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#tokens","title":"Tokens","text":"<ul> <li>Tipo: JWT</li> <li>Expiraci\u00f3n: 24 horas (default Supabase)</li> <li>Refresh: Autom\u00e1tico via Supabase</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#flujo-actual","title":"Flujo Actual","text":"<ol> <li>Usuario ingresa email/password en <code>/login</code></li> <li>NextAuth valida con Supabase</li> <li>Supabase devuelve JWT</li> <li>Frontend incluye JWT en headers (<code>Authorization: Bearer ...</code>)</li> <li>Backend valida JWT con Supabase</li> </ol>"},{"location":"05-arquitectura/inventario-as-is/#media-archivos","title":"\ud83d\udcc1 Media / Archivos","text":""},{"location":"05-arquitectura/inventario-as-is/#proveedor_1","title":"Proveedor","text":"<ul> <li>Cloudinary</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#uso-actual","title":"Uso Actual","text":"<ul> <li>Im\u00e1genes de items de ALACENA</li> <li>Formato: JPG/PNG</li> <li>Transformaciones: Autom\u00e1ticas (optimizaci\u00f3n, resize)</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#configuracion","title":"Configuraci\u00f3n","text":"<ul> <li>Cloud name: [configurado]</li> <li>Upload preset: [configurado]</li> <li>Folder: <code>eco/alacena/</code></li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#infraestructura-transversal","title":"\ud83d\udd27 Infraestructura Transversal","text":""},{"location":"05-arquitectura/inventario-as-is/#repositorio","title":"Repositorio","text":"<ul> <li>URL: https://github.com/falberio/eco</li> <li>Nombre actual: <code>alacena</code> (pendiente renombrar a <code>eco</code>)</li> <li>Branch principal: <code>main</code></li> <li>Protecciones: N/A</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#issue-tracking","title":"Issue Tracking","text":"<ul> <li>GitHub Issues</li> <li>Labels: type:, module:, priority:, sprint:</li> <li>Projects: Pendiente de crear</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#cicd","title":"CI/CD","text":"<ul> <li>Frontend: Vercel (autom\u00e1tico en push)</li> <li>Backend: Manual (<code>fly deploy</code>)</li> <li>Database: Migraciones manuales (<code>npx prisma migrate deploy</code>)</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#documentacion","title":"Documentaci\u00f3n","text":"<ul> <li>Formato: Markdown</li> <li>Ubicaci\u00f3n: <code>docs/</code></li> <li>Web: MkDocs (en configuraci\u00f3n)</li> <li>Hosting docs: Pendiente</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#monitoreo-logs","title":"Monitoreo &amp; Logs","text":"<ul> <li>Frontend: Vercel logs</li> <li>Backend: Fly.io logs (<code>fly logs</code>)</li> <li>Database: Supabase dashboard</li> <li>Errores: Console logs (no servicio de tracking)</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#estado-de-modulos","title":"\ud83d\udcca Estado de M\u00f3dulos","text":"M\u00f3dulo Backend Frontend DB Estado ALACENA \u2705 \u2705 \u2705 Operativo MANTIA \u274c \u274c \u274c No implementado ECOSALUD \u274c \u274c \u274c No implementado Lista \u274c \u274c \u274c No implementado HUESHA \u274c \u274c \u274c Futuro FINANCIA \u274c \u274c \u274c Futuro"},{"location":"05-arquitectura/inventario-as-is/#proximas-expansiones-sprint-1","title":"\ud83d\ude80 Pr\u00f3ximas Expansiones (Sprint 1)","text":""},{"location":"05-arquitectura/inventario-as-is/#backend","title":"Backend","text":"<ul> <li>\u23f3 Endpoints MANTIA</li> <li>\u23f3 Endpoints Lista de Compras</li> <li>\u23f3 Endpoints ECOSALUD (b\u00e1sico)</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#database","title":"Database","text":"<ul> <li>\u23f3 Tablas MANTIA (Task, TaskExecution)</li> <li>\u23f3 Tabla ShoppingListItem</li> <li>\u23f3 Tabla HealthRecord</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#frontend_1","title":"Frontend","text":"<ul> <li>\u23f3 P\u00e1ginas MANTIA</li> <li>\u23f3 P\u00e1gina Lista de Compras</li> <li>\u23f3 P\u00e1gina ECOSALUD (b\u00e1sico)</li> </ul>"},{"location":"05-arquitectura/inventario-as-is/#enlaces","title":"\ud83d\udd17 Enlaces","text":"<ul> <li>ADRs</li> <li>Modelo de Datos</li> <li>Procedimientos</li> <li>Documento Funcional</li> </ul> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Pr\u00f3xima revisi\u00f3n: Fin de Sprint 1 (24 Feb 2026)</p>"},{"location":"05-arquitectura/modelo-datos/","title":"\ud83d\uddc4\ufe0f Modelo de Datos","text":"<p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Sprint: Sprint 0</p>"},{"location":"05-arquitectura/modelo-datos/#proposito","title":"\ud83c\udfaf Prop\u00f3sito","text":"<p>Documentaci\u00f3n completa del modelo de datos de ECO. Alineado con el schema Prisma actual en <code>backend/prisma/schema.prisma</code>.</p> <p>Nota: Este documento refleja el estado actual + extensiones planificadas para Sprint 1.</p>"},{"location":"05-arquitectura/modelo-datos/#diagrama-entidad-relacion","title":"\ud83d\udcca Diagrama Entidad-Relaci\u00f3n","text":"<pre><code>erDiagram\n    User ||--o{ UserHousehold : \"pertenece\"\n    Household ||--o{ UserHousehold : \"tiene\"\n    Household ||--o{ PantryItem : \"posee\"\n    Household ||--o{ Task : \"posee\"\n    Household ||--o{ ShoppingListItem : \"posee\"\n    Household ||--o{ HealthRecord : \"posee\"\n\n    PantryItem ||--o{ PantryMovement : \"tiene\"\n    PantryItem ||--o{ Reserve : \"reserva\"\n\n    Container ||--o{ Reserve : \"almacena\"\n    ContainerType ||--o{ Container : \"tipo\"\n\n    Task ||--o{ TaskExecution : \"ejecutada\"\n    User ||--o{ TaskExecution : \"ejecuta\"\n    User ||--o{ PantryMovement : \"registra\"\n    User ||--o{ HealthRecord : \"registra\"\n\n    PantryItem ||--o{ ShoppingListItem : \"origen\"</code></pre>"},{"location":"05-arquitectura/modelo-datos/#capa-de-soporte","title":"\ud83d\udc65 Capa de Soporte","text":""},{"location":"05-arquitectura/modelo-datos/#user","title":"User","text":"<p>Representa un usuario del sistema.</p> <pre><code>model User {\n  id            String   @id @default(uuid())\n  email         String   @unique\n  password_hash String\n  name          String?\n  role          String   @default(\"user\")  // \"admin\" | \"user\"\n  created_at    DateTime @default(now())\n  updated_at    DateTime @updatedAt\n}\n</code></pre> <p>Campos: - <code>id</code>: UUID \u00fanico - <code>email</code>: Email \u00fanico del usuario - <code>password_hash</code>: Hash bcrypt del password - <code>name</code>: Nombre completo (opcional) - <code>role</code>: Rol del usuario (admin tiene accesos adicionales)</p> <p>Relaciones: - <code>UserHousehold[]</code>: Hogares a los que pertenece</p>"},{"location":"05-arquitectura/modelo-datos/#household","title":"Household","text":"<p>Representa un hogar (unidad de aislamiento de datos).</p> <pre><code>model Household {\n  id         String   @id @default(uuid())\n  name       String\n  created_at DateTime @default(now())\n}\n</code></pre> <p>Campos: - <code>id</code>: UUID \u00fanico - <code>name</code>: Nombre del hogar (ej: \"Casa Alberio\")</p> <p>Relaciones: - <code>UserHousehold[]</code>: Usuarios del hogar - <code>PantryItem[]</code>: Items de alacena - <code>Task[]</code>: Tareas - <code>ShoppingListItem[]</code>: Items de lista - <code>HealthRecord[]</code>: Registros de salud</p>"},{"location":"05-arquitectura/modelo-datos/#userhousehold","title":"UserHousehold","text":"<p>Relaci\u00f3n muchos-a-muchos entre usuarios y hogares.</p> <pre><code>model UserHousehold {\n  user_id      String\n  household_id String\n  role         String   @default(\"member\")  // \"owner\" | \"member\"\n  joined_at    DateTime @default(now())\n\n  @@id([user_id, household_id])\n}\n</code></pre> <p>Campos: - <code>user_id</code>: Referencia a User - <code>household_id</code>: Referencia a Household - <code>role</code>: Rol del usuario en el hogar (owner puede gestionar miembros)</p>"},{"location":"05-arquitectura/modelo-datos/#alacena","title":"\ud83c\udffa ALACENA","text":""},{"location":"05-arquitectura/modelo-datos/#pantryitem","title":"PantryItem","text":"<p>Item de inventario (alimento, producto, etc.).</p> <pre><code>model PantryItem {\n  id           String   @id @default(uuid())\n  household_id String\n  code         String?  @unique\n  name         String\n  category     String?\n  unit         String   @default(\"unidad\")\n  location     String?\n  notes        String?\n  created_at   DateTime @default(now())\n  updated_at   DateTime @updatedAt\n}\n</code></pre> <p>Campos: - <code>household_id</code>: Hogar al que pertenece - <code>code</code>: C\u00f3digo \u00fanico opcional (ej: \"ARR-001\") - <code>name</code>: Nombre del item (ej: \"Arroz integral\") - <code>category</code>: Categor\u00eda (ej: \"Granos\", \"L\u00e1cteos\") - <code>unit</code>: Unidad de medida (g, ml, unidad, kg) - <code>location</code>: Ubicaci\u00f3n f\u00edsica (ej: \"Alacena principal\")</p> <p>Relaciones: - <code>PantryMovement[]</code>: Movimientos (ingreso/consumo) - <code>Reserve[]</code>: Reservas en contenedores</p>"},{"location":"05-arquitectura/modelo-datos/#pantrymovement","title":"PantryMovement","text":"<p>Movimiento de stock (ingreso, consumo, ajuste).</p> <pre><code>model PantryMovement {\n  id         String   @id @default(uuid())\n  item_id    String\n  user_id    String\n  type       String   // \"ingreso\" | \"consumo\" | \"ajuste\"\n  quantity   Float\n  timestamp  DateTime @default(now())\n  notes      String?\n}\n</code></pre> <p>Campos: - <code>item_id</code>: Item afectado - <code>user_id</code>: Usuario que registr\u00f3 - <code>type</code>: Tipo de movimiento - <code>quantity</code>: Cantidad (positiva o negativa) - <code>notes</code>: Notas opcionales</p> <p>L\u00f3gica: - <code>ingreso</code>: Sumar al stock - <code>consumo</code>: Restar del stock - <code>ajuste</code>: Setear stock directamente</p>"},{"location":"05-arquitectura/modelo-datos/#container","title":"Container","text":"<p>Contenedor f\u00edsico (frasco, tupperware).</p> <pre><code>model Container {\n  id              String  @id @default(uuid())\n  code            String  @unique\n  name            String?\n  location_id     String?\n  current_item_id String?\n  shelf_row       Int?\n  shelf_col       Int?\n  capacity_ml     Int?\n  typeId          String?\n  created_at      DateTime @default(now())\n  updated_at      DateTime @updatedAt\n}\n</code></pre> <p>Campos: - <code>code</code>: C\u00f3digo \u00fanico (ej: \"JAR-001\") - <code>typeId</code>: Tipo de contenedor (referencia a ContainerType) - <code>capacity_ml</code>: Capacidad en ml - <code>current_item_id</code>: Item actual almacenado - <code>shelf_row</code>, <code>shelf_col</code>: Ubicaci\u00f3n en estanter\u00eda</p> <p>Relaciones: - <code>ContainerType</code>: Tipo del contenedor - <code>Reserve[]</code>: Reservas hist\u00f3ricas</p>"},{"location":"05-arquitectura/modelo-datos/#containertype","title":"ContainerType","text":"<p>Tipo de contenedor con tara definida.</p> <pre><code>model ContainerType {\n  id          String @id @default(uuid())\n  name        String @unique\n  description String?\n  tareWeight_g Float\n  capacity_ml Int?\n  created_at  DateTime @default(now())\n  updated_at  DateTime @updatedAt\n}\n</code></pre> <p>Campos: - <code>name</code>: Nombre del tipo (ej: \"JAR-750-LOW\") - <code>tareWeight_g</code>: Peso de tara en gramos - <code>capacity_ml</code>: Capacidad t\u00edpica en ml</p> <p>Tipos existentes: - JAR-750-LOW: 637g - JAR-750-HIGH: 692g - JAR-1000: 746g - JAR-1500: 929g</p>"},{"location":"05-arquitectura/modelo-datos/#reserve","title":"Reserve","text":"<p>Registro de contenido de un contenedor en un momento.</p> <pre><code>model Reserve {\n  id           String   @id @default(uuid())\n  container_id String\n  item_id      String\n  weight_g     Float\n  timestamp    DateTime @default(now())\n}\n</code></pre> <p>Campos: - <code>container_id</code>: Contenedor - <code>item_id</code>: Item almacenado - <code>weight_g</code>: Peso neto en gramos - <code>timestamp</code>: Momento del registro</p>"},{"location":"05-arquitectura/modelo-datos/#mantia","title":"\ud83d\udccb MANTIA","text":""},{"location":"05-arquitectura/modelo-datos/#task","title":"Task","text":"<p>Tarea del hogar.</p> <pre><code>model Task {\n  id               String   @id @default(uuid())\n  household_id     String\n  title            String\n  description      String?\n  category         String?\n  periodicity      String?  // \"daily\" | \"weekly\" | \"monthly\" | null\n  state            String   @default(\"active\")  // \"active\" | \"paused\" | \"completed\"\n  next_suggested   DateTime?\n  created_at       DateTime @default(now())\n  updated_at       DateTime @updatedAt\n}\n</code></pre> <p>Campos: - <code>household_id</code>: Hogar al que pertenece - <code>title</code>: T\u00edtulo de la tarea - <code>description</code>: Descripci\u00f3n detallada (opcional) - <code>category</code>: Categor\u00eda (ej: \"Limpieza\", \"Mantenimiento\") - <code>periodicity</code>: Frecuencia (diaria, semanal, mensual, null para \u00fanica) - <code>state</code>: Estado actual - <code>next_suggested</code>: Pr\u00f3xima fecha sugerida (calculada)</p> <p>Relaciones: - <code>TaskExecution[]</code>: Historial de ejecuciones</p>"},{"location":"05-arquitectura/modelo-datos/#taskexecution","title":"TaskExecution","text":"<p>Registro de ejecuci\u00f3n de una tarea.</p> <pre><code>model TaskExecution {\n  id        String   @id @default(uuid())\n  task_id   String\n  user_id   String\n  timestamp DateTime @default(now())\n  notes     String?\n}\n</code></pre> <p>Campos: - <code>task_id</code>: Tarea ejecutada - <code>user_id</code>: Usuario que ejecut\u00f3 - <code>timestamp</code>: Momento de ejecuci\u00f3n - <code>notes</code>: Notas opcionales (ej: \"Se cambi\u00f3 filtro\")</p> <p>L\u00f3gica: Al crear una ejecuci\u00f3n, recalcular <code>next_suggested</code> de la tarea basado en <code>periodicity</code>.</p>"},{"location":"05-arquitectura/modelo-datos/#lista-de-compras","title":"\ud83d\uded2 Lista de Compras","text":""},{"location":"05-arquitectura/modelo-datos/#shoppinglistitem","title":"ShoppingListItem","text":"<p>Item de la lista de compras.</p> <pre><code>model ShoppingListItem {\n  id            String   @id @default(uuid())\n  household_id  String\n  name          String\n  quantity      Float?\n  unit          String?\n  origin        String   @default(\"manual\")  // \"manual\" | \"alacena\" | \"mantia\"\n  origin_ref_id String?\n  state         String   @default(\"pending\")  // \"pending\" | \"purchased\"\n  created_at    DateTime @default(now())\n  updated_at    DateTime @updatedAt\n}\n</code></pre> <p>Campos: - <code>household_id</code>: Hogar al que pertenece - <code>name</code>: Nombre del item a comprar - <code>quantity</code>: Cantidad (opcional) - <code>unit</code>: Unidad (opcional) - <code>origin</code>: Origen del item (manual, desde alacena, desde mantia) - <code>origin_ref_id</code>: ID del item original (si aplica) - <code>state</code>: Estado (pendiente, comprado)</p> <p>Flujos: - Manual: Usuario agrega directo - Desde ALACENA: Cuando stock &lt; m\u00ednimo, usuario puede \"Agregar a lista\" - Desde MANTIA: Al ejecutar tarea, puede agregar insumos necesarios</p>"},{"location":"05-arquitectura/modelo-datos/#ecosalud","title":"\ud83d\udc8a ECOSALUD","text":""},{"location":"05-arquitectura/modelo-datos/#healthrecord","title":"HealthRecord","text":"<p>Registro de salud y bienestar.</p> <pre><code>model HealthRecord {\n  id           String   @id @default(uuid())\n  household_id String\n  user_id      String\n  type         String   // \"weight\" | \"pressure\" | \"glucose\" | \"note\"\n  value        String   // JSON flexible\n  timestamp    DateTime @default(now())\n  notes        String?\n}\n</code></pre> <p>Campos: - <code>household_id</code>: Hogar - <code>user_id</code>: Usuario del registro - <code>type</code>: Tipo de registro - <code>value</code>: Valor (JSON para flexibilidad) - <code>timestamp</code>: Momento del registro - <code>notes</code>: Notas adicionales</p> <p>Ejemplos de <code>value</code>: - Peso: <code>{\"kg\": 75.5}</code> - Presi\u00f3n: <code>{\"systolic\": 120, \"diastolic\": 80}</code> - Glucosa: <code>{\"mg_dl\": 95}</code> - Nota: <code>{\"text\": \"Me siento bien hoy\"}</code></p>"},{"location":"05-arquitectura/modelo-datos/#ubicaciones-soporte","title":"\ud83d\udccd Ubicaciones (Soporte)","text":""},{"location":"05-arquitectura/modelo-datos/#location","title":"Location","text":"<p>Ubicaci\u00f3n f\u00edsica en el hogar.</p> <pre><code>model Location {\n  id         String   @id @default(uuid())\n  name       String\n  type       String   // \"shelf\" | \"pantry\" | \"fridge\" | \"freezer\"\n  created_at DateTime @default(now())\n  updated_at DateTime @updatedAt\n}\n</code></pre> <p>Uso: Referenciado desde Container y PantryItem.</p>"},{"location":"05-arquitectura/modelo-datos/#relaciones-clave","title":"\ud83d\udd17 Relaciones Clave","text":""},{"location":"05-arquitectura/modelo-datos/#multi-tenancy-por-hogar","title":"Multi-tenancy por Hogar","text":"<p>Todas las entidades principales tienen <code>household_id</code> y SIEMPRE deben filtrarse por \u00e9l: - PantryItem - Task - ShoppingListItem - HealthRecord</p>"},{"location":"05-arquitectura/modelo-datos/#trazabilidad-de-origen","title":"Trazabilidad de Origen","text":"<ul> <li><code>ShoppingListItem.origin_ref_id</code> \u2192 Referencia a <code>PantryItem.id</code> o <code>Task.id</code></li> <li><code>PantryMovement.user_id</code> \u2192 Qui\u00e9n registr\u00f3</li> <li><code>TaskExecution.user_id</code> \u2192 Qui\u00e9n ejecut\u00f3</li> <li><code>HealthRecord.user_id</code> \u2192 De qui\u00e9n es el registro</li> </ul>"},{"location":"05-arquitectura/modelo-datos/#historial","title":"Historial","text":"<ul> <li><code>PantryMovement</code>: Historial completo de alacena</li> <li><code>TaskExecution</code>: Historial de cumplimiento</li> <li><code>Reserve</code>: Historial de contenedores</li> <li><code>HealthRecord</code>: Historial de salud</li> </ul>"},{"location":"05-arquitectura/modelo-datos/#migraciones-prisma","title":"\ud83d\udd27 Migraciones Prisma","text":""},{"location":"05-arquitectura/modelo-datos/#comandos","title":"Comandos","text":"<pre><code># Crear migraci\u00f3n\nnpx prisma migrate dev --name nombre_migracion\n\n# Aplicar migraciones en producci\u00f3n\nnpx prisma migrate deploy\n\n# Resetear DB (\u26a0\ufe0f SOLO DEV)\nnpx prisma migrate reset\n\n# Ver estado\nnpx prisma migrate status\n</code></pre>"},{"location":"05-arquitectura/modelo-datos/#convenciones","title":"Convenciones","text":"<ul> <li>Nombres en snake_case</li> <li>Prefijo descriptivo (ej: <code>add_task_tables</code>, <code>fix_tara_weights</code>)</li> <li>Una responsabilidad por migraci\u00f3n</li> </ul>"},{"location":"05-arquitectura/modelo-datos/#enlaces","title":"\ud83d\udd17 Enlaces","text":"<ul> <li>ADRs</li> <li>Inventario AS-IS</li> <li>Documento Funcional</li> <li>Schema Prisma actual</li> </ul> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Pr\u00f3xima revisi\u00f3n: Inicio Sprint 1 (10 Feb 2026)</p>"},{"location":"05-arquitectura/procedimientos/","title":"\u2699\ufe0f Procedimientos Operativos","text":"<p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026</p>"},{"location":"05-arquitectura/procedimientos/#proposito","title":"\ud83c\udfaf Prop\u00f3sito","text":"<p>Documentaci\u00f3n de procesos operativos para deploy, backfill, migraciones y tareas recurrentes de ECO.</p>"},{"location":"05-arquitectura/procedimientos/#deploy","title":"\ud83d\ude80 Deploy","text":""},{"location":"05-arquitectura/procedimientos/#frontend-vercel","title":"Frontend (Vercel)","text":"<p>Deploy Autom\u00e1tico: <pre><code># Simplemente hacer push a main\ngit add .\ngit commit -m \"feat: nueva funcionalidad\"\ngit push origin main\n</code></pre></p> <p>Vercel detecta el push y deploy autom\u00e1ticamente.</p> <p>Deploy Manual (si es necesario): <pre><code># Desde CLI de Vercel\nvercel --prod\n</code></pre></p> <p>Rollback: 1. Ir a Vercel Dashboard 2. Deployments \u2192 Seleccionar deploy anterior 3. \"Promote to Production\"</p>"},{"location":"05-arquitectura/procedimientos/#backend-flyio","title":"Backend (Fly.io)","text":"<p>Pre-requisitos: - Tener flyctl instalado - Estar autenticado: <code>fly auth login</code></p> <p>Deploy Manual: <pre><code>cd backend\nfly deploy\n</code></pre></p> <p>Ver logs: <pre><code>fly logs\n</code></pre></p> <p>Rollback: <pre><code># Listar releases\nfly releases\n\n# Rollback a release anterior\nfly releases rollback [release_number]\n</code></pre></p> <p>Secrets (variables de entorno): <pre><code># Setear secret\nfly secrets set KEY=value\n\n# Ver secrets\nfly secrets list\n\n# Eliminar secret\nfly secrets unset KEY\n</code></pre></p>"},{"location":"05-arquitectura/procedimientos/#base-de-datos-migraciones-prisma","title":"Base de Datos (Migraciones Prisma)","text":"<p>Crear migraci\u00f3n (desarrollo): <pre><code>cd backend\nnpx prisma migrate dev --name nombre_descriptivo\n</code></pre></p> <p>Aplicar migraciones en producci\u00f3n: <pre><code># Desde local con DATABASE_URL de prod\nDATABASE_URL=\"postgresql://...\" npx prisma migrate deploy\n\n# O conectarse al backend y ejecutar\nfly ssh console\nnpx prisma migrate deploy\n</code></pre></p> <p>Verificar estado: <pre><code>npx prisma migrate status\n</code></pre></p> <p>\u26a0\ufe0f Rollback de migraci\u00f3n: <pre><code>-- Conectarse a la DB y ejecutar manualmente\n-- NO hay comando autom\u00e1tico en Prisma\n</code></pre></p>"},{"location":"05-arquitectura/procedimientos/#backfill-regularizacion","title":"\ud83d\udcdd Backfill (Regularizaci\u00f3n)","text":""},{"location":"05-arquitectura/procedimientos/#proposito_1","title":"Prop\u00f3sito","text":"<p>Registrar decisiones o trabajos pasados sin frenar el avance.</p>"},{"location":"05-arquitectura/procedimientos/#procedimiento","title":"Procedimiento","text":"<ol> <li>Detectar hecho pasado</li> <li>Deploy no documentado</li> <li>Decisi\u00f3n t\u00e9cnica tomada</li> <li> <p>Configuraci\u00f3n aplicada</p> </li> <li> <p>Decidir d\u00f3nde vive:</p> </li> <li>Deploy/instalaci\u00f3n \u2192 Inventario AS-IS</li> <li>Decisi\u00f3n arquitect\u00f3nica \u2192 ADRs</li> <li> <p>Trabajo futuro \u2192 Issue en GitHub</p> </li> <li> <p>Registrar con fecha aproximada: <pre><code>**Fecha:** ~2025-11 o Noviembre 2025\n</code></pre></p> </li> <li> <p>Si requiere acci\u00f3n:</p> </li> <li>Crear issue en GitHub</li> <li> <p>Linkear desde documentaci\u00f3n</p> </li> <li> <p>Si no requiere acci\u00f3n:</p> </li> <li>Queda como hist\u00f3rico</li> </ol>"},{"location":"05-arquitectura/procedimientos/#plantilla-de-backfill","title":"Plantilla de Backfill","text":"<pre><code>### Backfill: [T\u00edtulo]\n\n**Fecha aproximada:** ~AAAA-MM\n**Tipo:** [Deploy | Decisi\u00f3n | Configuraci\u00f3n]\n**Documentado en:** [Documento espec\u00edfico]\n\n**Descripci\u00f3n:**\n[Qu\u00e9 se hizo]\n\n**Estado:**\n- \u2705 Registrado\n- \u23f3 Requiere documentaci\u00f3n adicional\n- \ud83d\udccb Requiere issue\n\n**Issue relacionado:** #XXX (si aplica)\n</code></pre>"},{"location":"05-arquitectura/procedimientos/#workflow-de-desarrollo","title":"\ud83d\udd04 Workflow de Desarrollo","text":""},{"location":"05-arquitectura/procedimientos/#crear-feature","title":"Crear Feature","text":"<ol> <li> <p>Crear branch: <pre><code>git checkout -b feature/nombre-descriptivo\n</code></pre></p> </li> <li> <p>Desarrollar:</p> </li> <li>Escribir c\u00f3digo</li> <li>Actualizar documentaci\u00f3n si cambia modelo/ADR</li> <li> <p>Probar localmente</p> </li> <li> <p>Commit con mensaje convencional: <pre><code>feat: nueva funcionalidad\nfix: correcci\u00f3n de bug\ndocs: actualizaci\u00f3n de documentaci\u00f3n\nrefactor: refactor de c\u00f3digo\ntest: agregar tests\n</code></pre></p> </li> <li> <p>Push y crear PR: <pre><code>git push origin feature/nombre-descriptivo\n</code></pre></p> </li> <li> <p>Merge a main:</p> </li> <li>Review (autom\u00e1tica si sos solo vos)</li> <li>Merge</li> <li>Delete branch</li> </ol>"},{"location":"05-arquitectura/procedimientos/#sesiones-de-trabajo","title":"\ud83d\udcca Sesiones de Trabajo","text":""},{"location":"05-arquitectura/procedimientos/#review-semanal-30-min","title":"Review Semanal (30 min)","text":"<p>Cu\u00e1ndo: Viernes tarde o Lunes temprano</p> <p>Agenda: 1. Repasar lo completado en la semana 2. Verificar si el DF cambi\u00f3 (modelo, ADRs) 3. Actualizar Libro de Sesiones 4. Actualizar estado en Roadmap</p> <p>Output: - Minuta en Libro de Sesiones - DF actualizado (si aplica)</p>"},{"location":"05-arquitectura/procedimientos/#planificacion-semanal-30-min","title":"Planificaci\u00f3n Semanal (30 min)","text":"<p>Cu\u00e1ndo: Lunes temprano</p> <p>Agenda: 1. Revisar Backlog 2. Seleccionar 2-5 issues para la semana 3. Verificar capacidad realista 4. Actualizar estado de sprint</p> <p>Output: - Issues seleccionados y asignados - Estimaci\u00f3n de esfuerzo</p>"},{"location":"05-arquitectura/procedimientos/#retro-quincenal-20-min","title":"Retro Quincenal (20 min)","text":"<p>Cu\u00e1ndo: Cada dos viernes</p> <p>Agenda: 1. \u00bfQu\u00e9 funcion\u00f3 bien? 2. \u00bfQu\u00e9 podemos mejorar? 3. \u00bfQu\u00e9 bloqueos encontramos? 4. Acciones concretas</p> <p>Formato: <pre><code>### Retro [Fecha]\n\n**Qu\u00e9 funcion\u00f3:**\n- [Item 1]\n\n**Qu\u00e9 mejorar:**\n- [Item 1]\n\n**Bloqueos:**\n- [Bloqueo 1]\n\n**Acciones:**\n- [Acci\u00f3n 1]: [Responsable]\n</code></pre></p> <p>Output: - Minuta agregada a Libro de Sesiones - Ajustes en procesos/ADRs si es necesario</p>"},{"location":"05-arquitectura/procedimientos/#sesiones-tematicas-variable","title":"Sesiones Tem\u00e1ticas (variable)","text":""},{"location":"05-arquitectura/procedimientos/#sesion-de-modelo-de-datos","title":"Sesi\u00f3n de Modelo de Datos","text":"<p>Frecuencia: A demanda (cuando hay cambios significativos) Objetivo: Revisar y validar cambios en el modelo</p>"},{"location":"05-arquitectura/procedimientos/#sesion-de-uiux","title":"Sesi\u00f3n de UI/UX","text":"<p>Frecuencia: Mensual Objetivo: Ajustes de navegaci\u00f3n, estados vac\u00edos, coherencia visual</p>"},{"location":"05-arquitectura/procedimientos/#sesion-de-arquitectura","title":"Sesi\u00f3n de Arquitectura","text":"<p>Frecuencia: Quincenal Objetivo: Revisar ADRs, dependencias, infraestructura</p>"},{"location":"05-arquitectura/procedimientos/#sesion-de-limpieza","title":"Sesi\u00f3n de Limpieza","text":"<p>Frecuencia: Quincenal Objetivo: Refactor, cierre de issues, grooming de backlog</p>"},{"location":"05-arquitectura/procedimientos/#mantenimiento","title":"\ud83e\uddf9 Mantenimiento","text":""},{"location":"05-arquitectura/procedimientos/#limpieza-de-issues-quincenal","title":"Limpieza de Issues (Quincenal)","text":"<ol> <li>Revisar issues abiertas:</li> <li>Cerrar completadas</li> <li>Mover a backlog las que no son prioritarias</li> <li> <p>Actualizar prioridades</p> </li> <li> <p>Consolidar duplicados:</p> </li> <li>Marcar como duplicado</li> <li> <p>Cerrar y linkear al original</p> </li> <li> <p>Limpiar stale:</p> </li> <li>Issues sin actividad &gt; 30 d\u00edas</li> <li>Decidir: cerrar o reactivar</li> </ol>"},{"location":"05-arquitectura/procedimientos/#actualizacion-de-documentacion-continua","title":"Actualizaci\u00f3n de Documentaci\u00f3n (Continua)","text":"<p>Triggers de actualizaci\u00f3n: - \u2705 Cambio en modelo de datos \u2192 Modelo de Datos - \u2705 Nueva ADR \u2192 ADRs - \u2705 Cambio de infraestructura \u2192 Inventario AS-IS - \u2705 Nueva feature deployada \u2192 DF - \u2705 Sesi\u00f3n completada \u2192 Libro de Sesiones</p> <p>Checklist antes de mergear: - [ ] Modelo de datos actualizado (si aplica) - [ ] ADR creado/actualizado (si aplica) - [ ] DF actualizado (si cambia alcance funcional) - [ ] Fecha de \u00faltima modificaci\u00f3n actualizada</p>"},{"location":"05-arquitectura/procedimientos/#troubleshooting","title":"\ud83d\udd0d Troubleshooting","text":""},{"location":"05-arquitectura/procedimientos/#frontend-no-se-conecta-al-backend","title":"Frontend no se conecta al backend","text":"<p>S\u00edntomas: Errores CORS, 404 en API calls</p> <p>Diagn\u00f3stico: <pre><code># Verificar variable de entorno\necho $NEXT_PUBLIC_API_URL\n\n# Verificar que backend est\u00e9 up\ncurl https://alacena-backend.fly.dev/api/health\n</code></pre></p> <p>Soluci\u00f3n: 1. Verificar <code>NEXT_PUBLIC_API_URL</code> en Vercel 2. Redeploy frontend si cambi\u00f3</p>"},{"location":"05-arquitectura/procedimientos/#migraciones-prisma-no-se-aplican","title":"Migraciones Prisma no se aplican","text":"<p>S\u00edntomas: \"Database is X migrations behind\"</p> <p>Diagn\u00f3stico: <pre><code>npx prisma migrate status\n</code></pre></p> <p>Soluci\u00f3n: <pre><code># Aplicar migraciones pendientes\nnpx prisma migrate deploy\n</code></pre></p>"},{"location":"05-arquitectura/procedimientos/#deploy-de-backend-falla","title":"Deploy de Backend falla","text":"<p>S\u00edntomas: Error en <code>fly deploy</code></p> <p>Diagn\u00f3stico: <pre><code>fly logs\n</code></pre></p> <p>Soluciones comunes: 1. OpenSSL error: Verificar que base image sea Debian (no Alpine) 2. DATABASE_URL error: Verificar secrets 3. Build error: Verificar package.json y dependencias</p>"},{"location":"05-arquitectura/procedimientos/#checklists","title":"\ud83d\udccb Checklists","text":""},{"location":"05-arquitectura/procedimientos/#checklist-de-deploy-completo","title":"Checklist de Deploy Completo","text":"<ul> <li> C\u00f3digo:</li> <li> Tests pasando (cuando haya tests)</li> <li> No errores de linting</li> <li> <p> C\u00f3digo reviewed</p> </li> <li> <p> Base de Datos:</p> </li> <li> Migraciones creadas</li> <li> Migraciones aplicadas en prod</li> <li> <p> Data seeds si es necesario</p> </li> <li> <p> Backend:</p> </li> <li> C\u00f3digo mergeado a main</li> <li> Secrets configurados</li> <li> Deploy ejecutado</li> <li> <p> Health check OK</p> </li> <li> <p> Frontend:</p> </li> <li> C\u00f3digo mergeado a main</li> <li> Variables de entorno configuradas</li> <li> Deploy autom\u00e1tico completado</li> <li> <p> Prueba en producci\u00f3n OK</p> </li> <li> <p> Documentaci\u00f3n:</p> </li> <li> DF actualizado</li> <li> ADRs actualizados</li> <li> Minuta de sesi\u00f3n</li> </ul>"},{"location":"05-arquitectura/procedimientos/#checklist-de-nueva-feature","title":"Checklist de Nueva Feature","text":"<ul> <li> Planificaci\u00f3n:</li> <li> Historia de usuario clara</li> <li> Criterios de aceptaci\u00f3n definidos</li> <li> <p> Modelo de datos definido (si aplica)</p> </li> <li> <p> Desarrollo:</p> </li> <li> C\u00f3digo implementado</li> <li> Estados vac\u00edos considerados</li> <li> Validaciones b\u00e1sicas</li> <li> <p> Probado en m\u00f3vil</p> </li> <li> <p> Deploy:</p> </li> <li> Migraciones aplicadas</li> <li> Backend deployado</li> <li> Frontend deployado</li> <li> <p> Pruebas en producci\u00f3n</p> </li> <li> <p> Documentaci\u00f3n:</p> </li> <li> DF actualizado</li> <li> Modelo actualizado (si cambi\u00f3)</li> <li> Issue cerrado</li> </ul>"},{"location":"05-arquitectura/procedimientos/#enlaces","title":"\ud83d\udd17 Enlaces","text":"<ul> <li>Inventario AS-IS</li> <li>ADRs</li> <li>Modelo de Datos</li> <li>Libro de Sesiones</li> </ul> <p>\u00daltima actualizaci\u00f3n: 04 Febrero 2026 Pr\u00f3xima revisi\u00f3n: Continua (agregar seg\u00fan necesidad)</p>"},{"location":"05-ux-navegacion/","title":"UX y Navegaci\u00f3n","text":"<p>Dise\u00f1o de interfaz y experiencia de usuario.</p>"},{"location":"06-tecnica/","title":"Documentaci\u00f3n T\u00e9cnica","text":"<p>Arquitectura, infraestructura y ADRs operativos.</p>"},{"location":"07-desarrollo/","title":"Desarrollo","text":"<p>Gu\u00edas para desarrolladores.</p>"},{"location":"08-modulos/","title":"M\u00f3dulos del Sistema","text":"<p>Documentaci\u00f3n espec\u00edfica de cada m\u00f3dulo.</p>"},{"location":"_archive/","title":"Archivo Hist\u00f3rico","text":"<p>Documentos antiguos mantenidos por referencia.</p>"},{"location":"architecture/BACKEND/","title":"\ud83d\udd27 Backend Architecture - ECO Platform","text":"<p>Documentaci\u00f3n completa de la arquitectura backend (Node.js + Express + Prisma)</p> <p>Runtime: Node.js 20 Framework: Express 4 ORM: Prisma 5.22.0 Database: PostgreSQL 15 \u00daltima actualizaci\u00f3n: 2026-01-25</p>"},{"location":"architecture/BACKEND/#estructura-general","title":"\ud83c\udfd7\ufe0f Estructura General","text":"<pre><code>backend/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 shared/                  # C\u00f3digo compartido entre m\u00f3dulos\n\u2502   \u2502   \u251c\u2500\u2500 auth/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 authMiddleware.js\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 jwt.js\n\u2502   \u2502   \u251c\u2500\u2500 qr/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 qrGenerator.js\n\u2502   \u2502   \u251c\u2500\u2500 validations/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 common.js         # Zod schemas\n\u2502   \u2502   \u2514\u2500\u2500 integrations/         # APIs externas compartidas\n\u2502   \u2502       \u2514\u2500\u2500 google-docs.js    # Ejemplo futuro\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 modules/\n\u2502   \u2502   \u251c\u2500\u2500 alacena/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 controllers/\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 itemController.js\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 locationController.js\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 batchController.js\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 reserveController.js\n\u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 menuController.js\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 routes/\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 itemRoutes.js\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 locationRoutes.js\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 batchRoutes.js\n\u2502   \u2502   \u2502   \u2502   \u251c\u2500\u2500 reserveRoutes.js\n\u2502   \u2502   \u2502   \u2502   \u2514\u2500\u2500 menuRoutes.js\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 schemas/\n\u2502   \u2502   \u2502       \u251c\u2500\u2500 itemSchema.js\n\u2502   \u2502   \u2502       \u2514\u2500\u2500 ...\n\u2502   \u2502   \u2502\n\u2502   \u2502   \u2514\u2500\u2500 mantia/                # Futuro\n\u2502   \u2502       \u251c\u2500\u2500 controllers/\n\u2502   \u2502       \u251c\u2500\u2500 routes/\n\u2502   \u2502       \u2514\u2500\u2500 schemas/\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 prisma/\n\u2502   \u2502   \u2514\u2500\u2500 client.js             # Singleton Prisma Client\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 app.js                    # Express setup\n\u2502   \u2514\u2500\u2500 server.js                 # Entry point\n\u2502\n\u251c\u2500\u2500 prisma/\n\u2502   \u251c\u2500\u2500 schema.prisma\n\u2502   \u251c\u2500\u2500 migrations/\n\u2502   \u251c\u2500\u2500 seed.js\n\u2502   \u251c\u2500\u2500 seed-users.js\n\u2502   \u251c\u2500\u2500 seed-jars.js\n\u2502   \u2514\u2500\u2500 generate-types.js         # Type generation script\n\u2502\n\u251c\u2500\u2500 Dockerfile\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 .env\n\u2514\u2500\u2500 .env.example\n</code></pre>"},{"location":"architecture/BACKEND/#entry-point","title":"\ud83d\ude80 Entry Point","text":""},{"location":"architecture/BACKEND/#serverjs","title":"server.js","text":"<pre><code>require('dotenv').config()\nconst app = require('./src/app')\n\nconst PORT = process.env.PORT || 4000\n\napp.listen(PORT, () =&gt; {\n  console.log(`\ud83d\ude80 Server running on port ${PORT}`)\n  console.log(`\ud83d\udce1 API: http://localhost:${PORT}`)\n  console.log(`\ud83c\udfe5 Health: http://localhost:${PORT}/health`)\n})\n</code></pre>"},{"location":"architecture/BACKEND/#appjs","title":"app.js","text":"<pre><code>const express = require('express')\nconst cors = require('cors')\nconst morgan = require('morgan')\n\n// Rutas\nconst alacenaRoutes = require('./modules/alacena/routes/itemRoutes')\nconst sharedRoutes = require('./shared/routes/sharedRoutes')\n\nconst app = express()\n\n// Middleware global\napp.use(cors({\n  origin: process.env.FRONTEND_URL || 'http://localhost:3000',\n  credentials: true,\n}))\napp.use(express.json())\napp.use(morgan('dev'))\n\n// Health check\napp.get('/health', (req, res) =&gt; {\n  res.json({ \n    status: 'ok', \n    timestamp: new Date().toISOString(),\n    uptime: process.uptime(),\n  })\n})\n\n// Rutas modulares\napp.use('/api/alacena', alacenaRoutes)\napp.use('/api/mantia', mantiaRoutes)  // Futuro\napp.use('/api/shared', sharedRoutes)\n\n// Error handler global\napp.use((err, req, res, next) =&gt; {\n  console.error(err.stack)\n  res.status(err.status || 500).json({\n    error: err.message || 'Internal Server Error',\n    ...(process.env.NODE_ENV === 'development' &amp;&amp; { stack: err.stack }),\n  })\n})\n\n// 404 handler\napp.use((req, res) =&gt; {\n  res.status(404).json({ error: 'Route not found' })\n})\n\nmodule.exports = app\n</code></pre>"},{"location":"architecture/BACKEND/#prisma-client","title":"\ud83d\uddc4\ufe0f Prisma Client","text":""},{"location":"architecture/BACKEND/#singleton-pattern","title":"Singleton Pattern","text":"<p>Archivo: <code>backend/src/prisma/client.js</code></p> <pre><code>const { PrismaClient } = require('@prisma/client')\n\nlet prisma\n\nif (process.env.NODE_ENV === 'production') {\n  prisma = new PrismaClient()\n} else {\n  // En desarrollo, evitar m\u00faltiples instancias con hot reload\n  if (!global.prisma) {\n    global.prisma = new PrismaClient({\n      log: ['query', 'error', 'warn'],\n    })\n  }\n  prisma = global.prisma\n}\n\nmodule.exports = prisma\n</code></pre> <p>Uso:</p> <pre><code>const prisma = require('../../prisma/client')\n\nconst items = await prisma.item.findMany()\n</code></pre>"},{"location":"architecture/BACKEND/#modulo-alacena-referencia","title":"\ud83e\udde9 M\u00f3dulo Alacena (Referencia)","text":""},{"location":"architecture/BACKEND/#controller-pattern","title":"Controller Pattern","text":"<p>Archivo: <code>backend/src/modules/alacena/controllers/itemController.js</code></p> <pre><code>const prisma = require('../../../prisma/client')\nconst { itemCreateSchema, itemUpdateSchema } = require('../schemas/itemSchema')\n\nclass ItemController {\n  // GET /api/alacena/items\n  async getAll(req, res, next) {\n    try {\n      const { skip = 0, take = 100, search } = req.query\n\n      // Construir where clause\n      const where = search ? {\n        OR: [\n          { name: { contains: search, mode: 'insensitive' } },\n          { code: { contains: search, mode: 'insensitive' } },\n        ],\n      } : {}\n\n      // Query con paginaci\u00f3n\n      const [items, total] = await prisma.$transaction([\n        prisma.item.findMany({\n          skip: parseInt(skip),\n          take: parseInt(take),\n          where,\n          orderBy: { createdAt: 'desc' },\n          include: {\n            user: {\n              select: { id: true, email: true, name: true },\n            },\n          },\n        }),\n        prisma.item.count({ where }),\n      ])\n\n      res.json({\n        data: items,\n        pagination: {\n          total,\n          limit: parseInt(take),\n          offset: parseInt(skip),\n          hasNext: parseInt(skip) + parseInt(take) &lt; total,\n          hasPrevious: parseInt(skip) &gt; 0,\n        },\n      })\n    } catch (error) {\n      next(error)\n    }\n  }\n\n  // GET /api/alacena/items/:id\n  async getById(req, res, next) {\n    try {\n      const { id } = req.params\n\n      const item = await prisma.item.findUnique({\n        where: { id },\n        include: {\n          batches: {\n            where: { consumed: false },\n            include: { location: true },\n          },\n          reserves: {\n            where: { status: 'ACTIVE' },\n          },\n        },\n      })\n\n      if (!item) {\n        return res.status(404).json({ error: 'Item not found' })\n      }\n\n      res.json(item)\n    } catch (error) {\n      next(error)\n    }\n  }\n\n  // POST /api/alacena/items\n  async create(req, res, next) {\n    try {\n      // Validar con Zod\n      const validatedData = itemCreateSchema.parse(req.body)\n\n      // Verificar c\u00f3digo \u00fanico\n      const existing = await prisma.item.findUnique({\n        where: { code: validatedData.code },\n      })\n\n      if (existing) {\n        return res.status(409).json({ error: 'Code already exists' })\n      }\n\n      // Crear item\n      const item = await prisma.item.create({\n        data: {\n          ...validatedData,\n          userId: req.user.id, // Del middleware de auth\n        },\n      })\n\n      res.status(201).json(item)\n    } catch (error) {\n      if (error.name === 'ZodError') {\n        return res.status(400).json({ \n          error: 'Validation error', \n          details: error.errors,\n        })\n      }\n      next(error)\n    }\n  }\n\n  // PUT /api/alacena/items/:id\n  async update(req, res, next) {\n    try {\n      const { id } = req.params\n      const validatedData = itemUpdateSchema.parse(req.body)\n\n      const item = await prisma.item.update({\n        where: { id },\n        data: validatedData,\n      })\n\n      res.json(item)\n    } catch (error) {\n      if (error.code === 'P2025') {\n        return res.status(404).json({ error: 'Item not found' })\n      }\n      next(error)\n    }\n  }\n\n  // DELETE /api/alacena/items/:id\n  async delete(req, res, next) {\n    try {\n      const { id } = req.params\n\n      // Verificar que no tenga batches activos\n      const activeBatches = await prisma.batch.count({\n        where: { itemId: id, consumed: false },\n      })\n\n      if (activeBatches &gt; 0) {\n        return res.status(409).json({ \n          error: 'Cannot delete item with active batches',\n        })\n      }\n\n      await prisma.item.delete({ where: { id } })\n\n      res.json({ message: 'Item deleted', id })\n    } catch (error) {\n      next(error)\n    }\n  }\n}\n\nmodule.exports = new ItemController()\n</code></pre>"},{"location":"architecture/BACKEND/#route-pattern","title":"Route Pattern","text":"<p>Archivo: <code>backend/src/modules/alacena/routes/itemRoutes.js</code></p> <pre><code>const express = require('express')\nconst router = express.Router()\nconst itemController = require('../controllers/itemController')\nconst authMiddleware = require('../../../shared/auth/authMiddleware')\n\n// Rutas p\u00fablicas (si hubiera)\n// router.get('/public', itemController.getPublic)\n\n// Rutas protegidas\nrouter.use(authMiddleware) // Todas las rutas requieren auth\n\nrouter.get('/', itemController.getAll)\nrouter.get('/:id', itemController.getById)\nrouter.post('/', itemController.create)\nrouter.put('/:id', itemController.update)\nrouter.delete('/:id', itemController.delete)\n\nmodule.exports = router\n</code></pre>"},{"location":"architecture/BACKEND/#schema-pattern-zod","title":"Schema Pattern (Zod)","text":"<p>Archivo: <code>backend/src/modules/alacena/schemas/itemSchema.js</code></p> <pre><code>const { z } = require('zod')\n\nconst itemCreateSchema = z.object({\n  code: z.string().min(1, 'Code is required'),\n  name: z.string().min(1, 'Name is required'),\n  unit: z.enum(['kg', 'L', 'u'], {\n    errorMap: () =&gt; ({ message: 'Unit must be kg, L, or u' }),\n  }),\n  minStock: z.number().min(0).default(0),\n  maxStock: z.number().min(0).default(0),\n})\n\nconst itemUpdateSchema = itemCreateSchema.partial()\n\nmodule.exports = {\n  itemCreateSchema,\n  itemUpdateSchema,\n}\n</code></pre>"},{"location":"architecture/BACKEND/#autenticacion","title":"\ud83d\udd10 Autenticaci\u00f3n","text":""},{"location":"architecture/BACKEND/#jwt-middleware","title":"JWT Middleware","text":"<p>Archivo: <code>backend/src/shared/auth/authMiddleware.js</code></p> <pre><code>const jwt = require('jsonwebtoken')\nconst prisma = require('../../prisma/client')\n\nconst JWT_SECRET = process.env.JWT_SECRET || 'dev-secret-change-in-prod'\n\nasync function authMiddleware(req, res, next) {\n  try {\n    // Obtener token del header\n    const authHeader = req.headers.authorization\n\n    if (!authHeader || !authHeader.startsWith('Bearer ')) {\n      return res.status(401).json({ error: 'No token provided' })\n    }\n\n    const token = authHeader.substring(7) // Remove 'Bearer '\n\n    // Verificar token\n    const decoded = jwt.verify(token, JWT_SECRET)\n\n    // Obtener usuario de DB\n    const user = await prisma.user.findUnique({\n      where: { id: decoded.userId },\n      select: { id: true, email: true, name: true }, // Sin password\n    })\n\n    if (!user) {\n      return res.status(401).json({ error: 'User not found' })\n    }\n\n    // Agregar usuario a request\n    req.user = user\n    next()\n  } catch (error) {\n    if (error.name === 'JsonWebTokenError') {\n      return res.status(401).json({ error: 'Invalid token' })\n    }\n    if (error.name === 'TokenExpiredError') {\n      return res.status(401).json({ error: 'Token expired' })\n    }\n    next(error)\n  }\n}\n\nmodule.exports = authMiddleware\n</code></pre>"},{"location":"architecture/BACKEND/#login-controller","title":"Login Controller","text":"<p>Archivo: <code>backend/src/shared/auth/authController.js</code></p> <pre><code>const bcrypt = require('bcrypt')\nconst jwt = require('jsonwebtoken')\nconst prisma = require('../../prisma/client')\n\nconst JWT_SECRET = process.env.JWT_SECRET || 'dev-secret-change-in-prod'\n\nclass AuthController {\n  // POST /api/auth/register\n  async register(req, res, next) {\n    try {\n      const { email, password, name } = req.body\n\n      // Validaci\u00f3n b\u00e1sica\n      if (!email || !password) {\n        return res.status(400).json({ error: 'Email and password required' })\n      }\n\n      // Verificar si existe\n      const existing = await prisma.user.findUnique({ where: { email } })\n      if (existing) {\n        return res.status(409).json({ error: 'Email already exists' })\n      }\n\n      // Hash password\n      const passwordHash = await bcrypt.hash(password, 10)\n\n      // Crear usuario\n      const user = await prisma.user.create({\n        data: { email, passwordHash, name },\n        select: { id: true, email: true, name: true },\n      })\n\n      // Generar token\n      const token = jwt.sign({ userId: user.id }, JWT_SECRET, {\n        expiresIn: '7d',\n      })\n\n      res.status(201).json({ user, token })\n    } catch (error) {\n      next(error)\n    }\n  }\n\n  // POST /api/auth/login\n  async login(req, res, next) {\n    try {\n      const { email, password } = req.body\n\n      if (!email || !password) {\n        return res.status(400).json({ error: 'Email and password required' })\n      }\n\n      // Buscar usuario\n      const user = await prisma.user.findUnique({ where: { email } })\n\n      if (!user) {\n        return res.status(401).json({ error: 'Invalid credentials' })\n      }\n\n      // Verificar password\n      const valid = await bcrypt.compare(password, user.passwordHash)\n\n      if (!valid) {\n        return res.status(401).json({ error: 'Invalid credentials' })\n      }\n\n      // Generar token\n      const token = jwt.sign({ userId: user.id }, JWT_SECRET, {\n        expiresIn: '7d',\n      })\n\n      // Retornar sin password\n      const { passwordHash, ...userPublic } = user\n\n      res.json({ user: userPublic, token })\n    } catch (error) {\n      next(error)\n    }\n  }\n\n  // GET /api/auth/me\n  async me(req, res, next) {\n    try {\n      // req.user ya viene del middleware\n      res.json(req.user)\n    } catch (error) {\n      next(error)\n    }\n  }\n}\n\nmodule.exports = new AuthController()\n</code></pre>"},{"location":"architecture/BACKEND/#shared-services","title":"\ud83d\udcca Shared Services","text":""},{"location":"architecture/BACKEND/#qr-generator","title":"QR Generator","text":"<p>Archivo: <code>backend/src/shared/qr/qrGenerator.js</code></p> <pre><code>function generateQRUrl(data, size = 200) {\n  const baseUrl = 'https://api.qrserver.com/v1/create-qr-code/'\n  return `${baseUrl}?data=${encodeURIComponent(data)}&amp;size=${size}x${size}`\n}\n\nmodule.exports = { generateQRUrl }\n</code></pre> <p>Uso:</p> <pre><code>const { generateQRUrl } = require('../../../shared/qr/qrGenerator')\n\nconst location = await prisma.location.create({\n  data: {\n    code: 'JAR-001',\n    name: 'Frasco 1',\n    qrCode: generateQRUrl('JAR-001'),\n  },\n})\n</code></pre>"},{"location":"architecture/BACKEND/#transactions-y-stock","title":"\ud83d\udd04 Transactions y Stock","text":""},{"location":"architecture/BACKEND/#recalcular-stock","title":"Recalcular Stock","text":"<pre><code>async function recalculateItemStock(itemId) {\n  // Sumar todos los batches no consumidos\n  const result = await prisma.batch.aggregate({\n    where: { \n      itemId,\n      consumed: false,\n    },\n    _sum: { quantity: true },\n  })\n\n  const totalStock = result._sum.quantity || 0\n\n  // Actualizar item\n  await prisma.item.update({\n    where: { id: itemId },\n    data: { currentStock: totalStock },\n  })\n\n  return totalStock\n}\n</code></pre> <p>Uso en batch creation:</p> <pre><code>async create(req, res, next) {\n  try {\n    const batch = await prisma.batch.create({\n      data: req.body,\n    })\n\n    // Recalcular stock del item\n    await recalculateItemStock(batch.itemId)\n\n    res.status(201).json(batch)\n  } catch (error) {\n    next(error)\n  }\n}\n</code></pre>"},{"location":"architecture/BACKEND/#testing","title":"\ud83e\uddea Testing","text":""},{"location":"architecture/BACKEND/#setup-de-test","title":"Setup de Test","text":"<pre><code>// test/setup.js\nconst { PrismaClient } = require('@prisma/client')\nconst prisma = new PrismaClient()\n\nbeforeAll(async () =&gt; {\n  // Limpiar DB de test\n  await prisma.item.deleteMany()\n  await prisma.user.deleteMany()\n})\n\nafterAll(async () =&gt; {\n  await prisma.$disconnect()\n})\n</code></pre>"},{"location":"architecture/BACKEND/#test-example-jest","title":"Test Example (Jest)","text":"<pre><code>// test/item.test.js\nconst request = require('supertest')\nconst app = require('../src/app')\nconst prisma = require('../src/prisma/client')\n\ndescribe('Items API', () =&gt; {\n  let authToken\n  let userId\n\n  beforeAll(async () =&gt; {\n    // Crear usuario de test\n    const res = await request(app)\n      .post('/api/auth/register')\n      .send({\n        email: 'test@example.com',\n        password: 'password123',\n      })\n\n    authToken = res.body.token\n    userId = res.body.user.id\n  })\n\n  test('GET /api/alacena/items should return paginated items', async () =&gt; {\n    const res = await request(app)\n      .get('/api/alacena/items?take=10')\n      .set('Authorization', `Bearer ${authToken}`)\n\n    expect(res.status).toBe(200)\n    expect(res.body).toHaveProperty('data')\n    expect(res.body).toHaveProperty('pagination')\n    expect(res.body.pagination.limit).toBe(10)\n  })\n\n  test('POST /api/alacena/items should create item', async () =&gt; {\n    const res = await request(app)\n      .post('/api/alacena/items')\n      .set('Authorization', `Bearer ${authToken}`)\n      .send({\n        code: 'TEST-001',\n        name: 'Test Item',\n        unit: 'kg',\n        minStock: 1,\n        maxStock: 5,\n      })\n\n    expect(res.status).toBe(201)\n    expect(res.body.code).toBe('TEST-001')\n  })\n\n  test('POST with duplicate code should return 409', async () =&gt; {\n    const res = await request(app)\n      .post('/api/alacena/items')\n      .set('Authorization', `Bearer ${authToken}`)\n      .send({\n        code: 'TEST-001', // Duplicado\n        name: 'Another Item',\n        unit: 'kg',\n      })\n\n    expect(res.status).toBe(409)\n  })\n})\n</code></pre>"},{"location":"architecture/BACKEND/#deployment","title":"\ud83d\ude80 Deployment","text":""},{"location":"architecture/BACKEND/#dockerfile","title":"Dockerfile","text":"<pre><code>FROM node:20-alpine\n\nWORKDIR /app\n\n# Copiar package files\nCOPY package*.json ./\nCOPY prisma ./prisma/\n\n# Instalar dependencies\nRUN npm ci --only=production\n\n# Generar Prisma Client\nRUN npx prisma generate\n\n# Copiar c\u00f3digo\nCOPY src ./src\n\n# Exponer puerto\nEXPOSE 4000\n\n# Comando de inicio\nCMD [\"npm\", \"start\"]\n</code></pre>"},{"location":"architecture/BACKEND/#build","title":"Build","text":"<pre><code>docker build -t eco-backend .\ndocker run -p 4000:4000 --env-file .env eco-backend\n</code></pre>"},{"location":"architecture/BACKEND/#logging","title":"\ud83d\udcca Logging","text":""},{"location":"architecture/BACKEND/#morgan-http-logs","title":"Morgan (HTTP Logs)","text":"<pre><code>// En app.js\nconst morgan = require('morgan')\n\nif (process.env.NODE_ENV === 'production') {\n  app.use(morgan('combined'))\n} else {\n  app.use(morgan('dev'))\n}\n</code></pre>"},{"location":"architecture/BACKEND/#winston-application-logs-futuro","title":"Winston (Application Logs) - Futuro","text":"<pre><code>const winston = require('winston')\n\nconst logger = winston.createLogger({\n  level: 'info',\n  format: winston.format.json(),\n  transports: [\n    new winston.transports.File({ filename: 'error.log', level: 'error' }),\n    new winston.transports.File({ filename: 'combined.log' }),\n  ],\n})\n\nif (process.env.NODE_ENV !== 'production') {\n  logger.add(new winston.transports.Console({\n    format: winston.format.simple(),\n  }))\n}\n\nmodule.exports = logger\n</code></pre>"},{"location":"architecture/BACKEND/#debugging","title":"\ud83d\udd0d Debugging","text":""},{"location":"architecture/BACKEND/#vs-code-launch-config","title":"VS Code Launch Config","text":"<pre><code>{\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      \"type\": \"node\",\n      \"request\": \"launch\",\n      \"name\": \"Debug Backend\",\n      \"skipFiles\": [\"&lt;node_internals&gt;/**\"],\n      \"program\": \"${workspaceFolder}/backend/src/server.js\",\n      \"envFile\": \"${workspaceFolder}/backend/.env\"\n    }\n  ]\n}\n</code></pre>"},{"location":"architecture/BACKEND/#recursos","title":"\ud83d\udcda Recursos","text":"<ul> <li>Express Docs: https://expressjs.com</li> <li>Prisma Docs: https://www.prisma.io/docs</li> <li>Node.js Docs: https://nodejs.org/docs</li> <li>Zod Docs: https://zod.dev</li> </ul> <p>Backend documentation creada: 2026-01-25</p>"},{"location":"architecture/DATABASE/","title":"\ud83d\uddc4\ufe0f Database Architecture - ECO Platform","text":"<p>Documentaci\u00f3n completa del schema de base de datos PostgreSQL</p> <p>Motor: PostgreSQL 15 ORM: Prisma 5.22.0 \u00daltima actualizaci\u00f3n: 2026-01-25</p>"},{"location":"architecture/DATABASE/#estrategia-general","title":"\ud83d\udcd0 Estrategia General","text":""},{"location":"architecture/DATABASE/#single-database-con-prefijos","title":"Single Database con Prefijos","text":"<p>ECO utiliza una sola base de datos PostgreSQL para todos los m\u00f3dulos:</p> <pre><code>eco_db (PostgreSQL)\n\u251c\u2500\u2500 User (compartido por todos)\n\u251c\u2500\u2500 Item, Location, Container, Batch, Reserve, MenuItem (Alacena)\n\u251c\u2500\u2500 Mantia_Account, Mantia_Transaction, Mantia_Budget (Mantia - futuro)\n\u251c\u2500\u2500 Salud_Measurement, Salud_Goal (Salud - futuro)\n\u2514\u2500\u2500 ...\n</code></pre> <p>Ventajas: - \u2705 Una sola conexi\u00f3n, mejor performance - \u2705 Relaciones cross-module (User \u2192 m\u00f3dulos) - \u2705 Migrations unificadas - \u2705 Queries cross-module para analytics - \u2705 Backup/restore simplificado</p> <p>Trade-offs: - \u26a0\ufe0f Menos aislamiento que DBs separadas - \u26a0\ufe0f Necesita naming discipline estricta</p>"},{"location":"architecture/DATABASE/#user-model-compartido","title":"\ud83d\udc64 User Model (Compartido)","text":""},{"location":"architecture/DATABASE/#schema","title":"Schema","text":"<pre><code>model User {\n  id        Int      @id @default(autoincrement())\n  email     String   @unique\n  password  String\n  name      String?\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // Relaciones con m\u00f3dulos\n  items     Item[]\n  reserves  Reserve[]\n  // mantiaAccounts  Mantia_Account[] (futuro)\n  // saludMeasures   Salud_Measurement[] (futuro)\n}\n</code></pre>"},{"location":"architecture/DATABASE/#campos","title":"Campos","text":"Campo Tipo Constraints Descripci\u00f3n <code>id</code> Int PK, Auto Identificador \u00fanico <code>email</code> String Unique, Required Email para login <code>password</code> String Required Hash bcrypt (nunca plaintext) <code>name</code> String Optional Nombre del usuario <code>createdAt</code> DateTime Auto Fecha de registro <code>updatedAt</code> DateTime Auto \u00daltima actualizaci\u00f3n"},{"location":"architecture/DATABASE/#indices","title":"\u00cdndices","text":"<pre><code>CREATE UNIQUE INDEX \"User_email_key\" ON \"User\"(\"email\");\n</code></pre>"},{"location":"architecture/DATABASE/#seguridad","title":"Seguridad","text":"<p>Password Hashing: <pre><code>const bcrypt = require('bcrypt');\nconst hashedPassword = await bcrypt.hash(password, 10);\n</code></pre></p> <p>Nunca exponer password en API: <pre><code>// \u274c MAL\nres.json(user)\n\n// \u2705 BIEN\nconst { password, ...userPublic } = user\nres.json(userPublic)\n</code></pre></p>"},{"location":"architecture/DATABASE/#modulo-alacena","title":"\ud83e\uddfa M\u00f3dulo Alacena","text":""},{"location":"architecture/DATABASE/#item-ingredientes","title":"Item - Ingredientes","text":"<pre><code>model Item {\n  id           Int      @id @default(autoincrement())\n  code         String   @unique\n  name         String\n  unit         String\n  minStock     Float    @default(0)\n  maxStock     Float    @default(0)\n  currentStock Float    @default(0)\n  userId       Int\n  user         User     @relation(fields: [userId], references: [id])\n  createdAt    DateTime @default(now())\n  updatedAt    DateTime @updatedAt\n\n  batches      Batch[]\n  reserves     Reserve[]\n  menuItems    MenuItemIngredient[]\n}\n</code></pre> <p>Campos clave: - <code>code</code>: C\u00f3digo \u00fanico (ej: \"ARR-001\") - <code>currentStock</code>: Calculado autom\u00e1ticamente desde batches - <code>minStock/maxStock</code>: Alertas de reposici\u00f3n</p> <p>C\u00e1lculo de stock: <pre><code>// Se recalcula al crear/actualizar batches\nconst totalStock = await prisma.batch.aggregate({\n  where: { itemId, consumed: false },\n  _sum: { quantity: true }\n})\nawait prisma.item.update({\n  where: { id: itemId },\n  data: { currentStock: totalStock._sum.quantity || 0 }\n})\n</code></pre></p>"},{"location":"architecture/DATABASE/#location-ubicaciones-fisicas","title":"Location - Ubicaciones F\u00edsicas","text":"<pre><code>enum LocationType {\n  JAR          // Frasco\n  SHELF        // Estante\n  DRAWER       // Caj\u00f3n\n  FRIDGE       // Heladera\n  FREEZER      // Freezer\n  OTHER        // Otro\n}\n\nmodel Location {\n  id              Int          @id @default(autoincrement())\n  code            String       @unique\n  name            String\n  type            LocationType\n  capacity        Float?       // Capacidad en kg/L\n  currentCapacity Float?       // Ocupaci\u00f3n actual\n  shelfCode       String?      // Ubicaci\u00f3n f\u00edsica (ej: \"EST-A-1\")\n  qrCode          String?      // URL del QR generado\n  createdAt       DateTime     @default(now())\n  updatedAt       DateTime     @updatedAt\n\n  batches         Batch[]\n}\n</code></pre> <p>Tipos de ubicaci\u00f3n: - <code>JAR</code>: Frascos (mayor\u00eda de items secos) - <code>SHELF</code>: Estantes sin contenedor - <code>FRIDGE/FREEZER</code>: Refrigerados - <code>OTHER</code>: Casos especiales</p> <p>QR Code: <pre><code>const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?data=${code}&amp;size=200x200`\n</code></pre></p>"},{"location":"architecture/DATABASE/#batch-lotes-de-ingredientes","title":"Batch - Lotes de Ingredientes","text":"<pre><code>model Batch {\n  id          Int       @id @default(autoincrement())\n  itemId      Int\n  item        Item      @relation(fields: [itemId], references: [id])\n  locationId  Int?\n  location    Location? @relation(fields: [locationId], references: [id])\n  quantity    Float     // Cantidad disponible\n  expiryDate  DateTime?\n  grossWeight Float?    // Peso bruto (con envase)\n  tare        Float?    // Peso del envase\n  netWeight   Float?    // Peso neto calculado\n  consumed    Boolean   @default(false)\n  createdAt   DateTime  @default(now())\n  updatedAt   DateTime  @updatedAt\n}\n</code></pre> <p>Sistema de Taras: <pre><code>// C\u00e1lculo autom\u00e1tico\nnetWeight = grossWeight - tare\n\n// Si no hay tara especificada, usar tara del contenedor\nif (!batch.tare &amp;&amp; location.defaultTare) {\n  netWeight = grossWeight - location.defaultTare\n}\n</code></pre></p> <p>Flujo de entrada: 1. Usuario escanea QR de ubicaci\u00f3n 2. Ingresa item + peso bruto 3. Sistema obtiene tara del frasco 4. Calcula peso neto autom\u00e1ticamente 5. Actualiza <code>currentStock</code> del item</p> <p>Consumo: <pre><code>// Marcar lote como consumido\nawait prisma.batch.update({\n  where: { id },\n  data: { consumed: true, quantity: 0 }\n})\n// Recalcular stock del item\n</code></pre></p>"},{"location":"architecture/DATABASE/#reserve-reservas-de-ingredientes","title":"Reserve - Reservas de Ingredientes","text":"<pre><code>enum ReserveStatus {\n  ACTIVE\n  COMPLETED\n  CANCELLED\n}\n\nmodel Reserve {\n  id        Int           @id @default(autoincrement())\n  itemId    Int\n  item      Item          @relation(fields: [itemId], references: [id])\n  userId    Int\n  user      User          @relation(fields: [userId], references: [id])\n  quantity  Float\n  reason    String?       // \"Paella del s\u00e1bado\"\n  status    ReserveStatus @default(ACTIVE)\n  createdAt DateTime      @default(now())\n  completedAt DateTime?\n}\n</code></pre> <p>Workflow: <pre><code>1. Usuario planifica receta\n2. Crea reserva: item + cantidad + raz\u00f3n\n3. Stock queda \"bloqueado\" (no disponible para otras reservas)\n4. Al cocinar, marca reserva como COMPLETED\n5. Se descuenta del stock real\n</code></pre></p> <p>Validaci\u00f3n: <pre><code>// Verificar stock disponible\nconst availableStock = item.currentStock - activeReservesTotal\nif (newReserve.quantity &gt; availableStock) {\n  throw new Error('Stock insuficiente')\n}\n</code></pre></p>"},{"location":"architecture/DATABASE/#menuitem-platos-del-menu","title":"MenuItem - Platos del Men\u00fa","text":"<pre><code>enum MenuCategory {\n  VIANDA\n  BEBIDA\n  TRAGO\n  POSTRE\n  SNACK\n}\n\nmodel MenuItem {\n  id          Int      @id @default(autoincrement())\n  name        String\n  category    MenuCategory\n  description String?\n  createdAt   DateTime @default(now())\n  updatedAt   DateTime @updatedAt\n\n  ingredients MenuItemIngredient[]\n}\n\nmodel MenuItemIngredient {\n  id         Int      @id @default(autoincrement())\n  menuItemId Int\n  menuItem   MenuItem @relation(fields: [menuItemId], references: [id])\n  itemId     Int\n  item       Item     @relation(fields: [itemId], references: [id])\n  quantity   Float    // Cantidad del item necesaria\n\n  @@unique([menuItemId, itemId])\n}\n</code></pre> <p>Ejemplo: <pre><code>// \"Ensalada de Quinoa\" requiere:\n// - 0.3 kg de Quinoa\n// - 0.2 kg de Tomate\n// - 0.1 L de Aceite de oliva\n\nawait prisma.menuItem.create({\n  data: {\n    name: \"Ensalada de Quinoa\",\n    category: \"VIANDA\",\n    ingredients: {\n      create: [\n        { itemId: quinoaId, quantity: 0.3 },\n        { itemId: tomateId, quantity: 0.2 },\n        { itemId: aceiteId, quantity: 0.1 }\n      ]\n    }\n  }\n})\n</code></pre></p>"},{"location":"architecture/DATABASE/#modulo-mantia-planificado","title":"\ud83d\udcb0 M\u00f3dulo Mantia (Planificado)","text":""},{"location":"architecture/DATABASE/#mantia_account-cuentas-financieras","title":"Mantia_Account - Cuentas Financieras","text":"<pre><code>enum Mantia_AccountType {\n  BANK          // Cuenta bancaria\n  CASH          // Efectivo\n  CREDIT_CARD   // Tarjeta de cr\u00e9dito\n  DEBIT_CARD    // Tarjeta de d\u00e9bito\n  INVESTMENT    // Inversi\u00f3n\n  OTHER\n}\n\nmodel Mantia_Account {\n  id        Int                 @id @default(autoincrement())\n  userId    Int\n  user      User                @relation(fields: [userId], references: [id])\n  name      String              // \"Banco Santander - Cuenta Sueldo\"\n  type      Mantia_AccountType\n  currency  String              @default(\"ARS\")\n  balance   Float               @default(0)\n  createdAt DateTime            @default(now())\n  updatedAt DateTime            @updatedAt\n\n  transactions Mantia_Transaction[]\n}\n</code></pre>"},{"location":"architecture/DATABASE/#mantia_transaction-transacciones","title":"Mantia_Transaction - Transacciones","text":"<pre><code>enum Mantia_TransactionType {\n  INCOME      // Ingreso\n  EXPENSE     // Gasto\n  TRANSFER    // Transferencia entre cuentas\n}\n\nmodel Mantia_Transaction {\n  id          Int                     @id @default(autoincrement())\n  accountId   Int\n  account     Mantia_Account          @relation(fields: [accountId], references: [id])\n  type        Mantia_TransactionType\n  amount      Float\n  categoryId  Int?\n  category    Mantia_Category?        @relation(fields: [categoryId], references: [id])\n  description String?\n  date        DateTime                @default(now())\n  createdAt   DateTime                @default(now())\n}\n</code></pre> <p>L\u00f3gica de balance: <pre><code>// Al crear transacci\u00f3n, actualizar balance de cuenta\nif (type === 'INCOME') {\n  account.balance += amount\n} else if (type === 'EXPENSE') {\n  account.balance -= amount\n}\n</code></pre></p>"},{"location":"architecture/DATABASE/#mantia_budget-presupuestos","title":"Mantia_Budget - Presupuestos","text":"<pre><code>model Mantia_Budget {\n  id         Int             @id @default(autoincrement())\n  userId     Int\n  user       User            @relation(fields: [userId], references: [id])\n  categoryId Int\n  category   Mantia_Category @relation(fields: [categoryId], references: [id])\n  amount     Float           // L\u00edmite mensual\n  month      DateTime        // Mes del presupuesto\n  createdAt  DateTime        @default(now())\n\n  @@unique([userId, categoryId, month])\n}\n</code></pre> <p>Control de presupuesto: <pre><code>// Al registrar gasto, verificar presupuesto\nconst spent = await prisma.mantia_Transaction.aggregate({\n  where: { \n    categoryId, \n    date: { gte: startOfMonth, lte: endOfMonth }\n  },\n  _sum: { amount: true }\n})\n\nif (spent._sum.amount &gt;= budget.amount) {\n  // Enviar alerta: \"\u00a1Presupuesto de Comida superado!\"\n}\n</code></pre></p>"},{"location":"architecture/DATABASE/#mantia_category-categorias","title":"Mantia_Category - Categor\u00edas","text":"<pre><code>model Mantia_Category {\n  id           Int      @id @default(autoincrement())\n  name         String   // \"Supermercado\", \"Transporte\", \"Salud\"\n  color        String?  // Para visualizaci\u00f3n\n  icon         String?\n  userId       Int?     // null = categor\u00eda global\n  user         User?    @relation(fields: [userId], references: [id])\n\n  transactions Mantia_Transaction[]\n  budgets      Mantia_Budget[]\n}\n</code></pre>"},{"location":"architecture/DATABASE/#modulo-salud-planificado","title":"\ud83c\udfe5 M\u00f3dulo Salud (Planificado)","text":"<pre><code>enum Salud_MeasurementType {\n  WEIGHT\n  HEIGHT\n  BLOOD_PRESSURE\n  HEART_RATE\n  GLUCOSE\n  TEMPERATURE\n  OTHER\n}\n\nmodel Salud_Measurement {\n  id        Int                   @id @default(autoincrement())\n  userId    Int\n  user      User                  @relation(fields: [userId], references: [id])\n  type      Salud_MeasurementType\n  value     Float\n  unit      String                // \"kg\", \"cm\", \"mmHg\", \"bpm\"\n  notes     String?\n  date      DateTime              @default(now())\n  createdAt DateTime              @default(now())\n}\n\nmodel Salud_Goal {\n  id          Int      @id @default(autoincrement())\n  userId      Int\n  user        User     @relation(fields: [userId], references: [id])\n  type        String   // \"weight_loss\", \"exercise\", \"water_intake\"\n  target      Float\n  unit        String\n  deadline    DateTime?\n  achieved    Boolean  @default(false)\n  createdAt   DateTime @default(now())\n}\n</code></pre>"},{"location":"architecture/DATABASE/#relaciones-cross-module","title":"\ud83d\udd17 Relaciones Cross-Module","text":""},{"location":"architecture/DATABASE/#user-multiples-modulos","title":"User \u2192 M\u00faltiples M\u00f3dulos","text":"<pre><code>User\n\u251c\u2500\u2500 items (Alacena)\n\u251c\u2500\u2500 reserves (Alacena)\n\u251c\u2500\u2500 mantiaAccounts (Mantia)\n\u251c\u2500\u2500 mantiaBudgets (Mantia)\n\u251c\u2500\u2500 saludMeasurements (Salud)\n\u2514\u2500\u2500 saludGoals (Salud)\n</code></pre>"},{"location":"architecture/DATABASE/#queries-cross-module","title":"Queries Cross-Module","text":"<pre><code>// Obtener usuario con todos sus datos\nconst userWithAll = await prisma.user.findUnique({\n  where: { id },\n  include: {\n    items: true,\n    reserves: true,\n    mantiaAccounts: {\n      include: { transactions: true }\n    },\n    saludMeasurements: {\n      where: { type: 'WEIGHT' },\n      orderBy: { date: 'desc' },\n      take: 30\n    }\n  }\n})\n\n// Analytics cross-module\n// \"\u00bfCu\u00e1nto gast\u00e9 en supermercado vs cu\u00e1ntos items compr\u00e9?\"\nconst supermarketExpenses = await prisma.mantia_Transaction.aggregate({\n  where: { \n    category: { name: 'Supermercado' },\n    date: { gte: startOfMonth }\n  },\n  _sum: { amount: true }\n})\n\nconst newItems = await prisma.batch.count({\n  where: { createdAt: { gte: startOfMonth } }\n})\n\nconsole.log(`Gastaste $${supermarketExpenses._sum.amount} y compraste ${newItems} lotes`)\n</code></pre>"},{"location":"architecture/DATABASE/#migrations","title":"\ud83d\udcca Migrations","text":""},{"location":"architecture/DATABASE/#crear-migration","title":"Crear Migration","text":"<pre><code>cd backend\nnpx prisma migrate dev --name add_mantia_models\n</code></pre>"},{"location":"architecture/DATABASE/#aplicar-en-produccion","title":"Aplicar en Producci\u00f3n","text":"<pre><code># Con t\u00fanel a DB de producci\u00f3n\nnpx prisma migrate deploy\n</code></pre>"},{"location":"architecture/DATABASE/#historial","title":"Historial","text":"<pre><code>npx prisma migrate status\n</code></pre>"},{"location":"architecture/DATABASE/#indices-y-performance","title":"\ud83d\udd0d \u00cdndices y Performance","text":""},{"location":"architecture/DATABASE/#indices-recomendados","title":"\u00cdndices Recomendados","text":"<pre><code>model Item {\n  // ...\n  @@index([userId])\n  @@index([code])\n}\n\nmodel Batch {\n  // ...\n  @@index([itemId, consumed])\n  @@index([locationId])\n  @@index([expiryDate])\n}\n\nmodel Mantia_Transaction {\n  // ...\n  @@index([accountId, date])\n  @@index([categoryId, date])\n}\n</code></pre>"},{"location":"architecture/DATABASE/#queries-optimizadas","title":"Queries Optimizadas","text":"<p>\u274c N+1 Problem: <pre><code>// MAL - 1 query para items + N queries para batches\nconst items = await prisma.item.findMany()\nfor (const item of items) {\n  item.batches = await prisma.batch.findMany({ where: { itemId: item.id } })\n}\n</code></pre></p> <p>\u2705 Include/Select: <pre><code>// BIEN - 1 query con JOIN\nconst items = await prisma.item.findMany({\n  include: { batches: true }\n})\n</code></pre></p>"},{"location":"architecture/DATABASE/#seguridad_1","title":"\ud83d\udd10 Seguridad","text":""},{"location":"architecture/DATABASE/#row-level-security-rls","title":"Row Level Security (RLS)","text":"<p>Aunque PostgreSQL soporta RLS nativo, con Prisma usamos filters a nivel aplicaci\u00f3n:</p> <pre><code>// Middleware global\nprisma.$use(async (params, next) =&gt; {\n  if (params.model === 'Item' &amp;&amp; params.action === 'findMany') {\n    params.args.where = { ...params.args.where, userId: currentUser.id }\n  }\n  return next(params)\n})\n</code></pre>"},{"location":"architecture/DATABASE/#sanitizacion","title":"Sanitizaci\u00f3n","text":"<pre><code>// Evitar SQL injection (Prisma lo maneja autom\u00e1ticamente)\n// \u2705 SEGURO\nconst item = await prisma.item.findUnique({ where: { code: userInput } })\n\n// \u274c NUNCA usar raw SQL sin sanitizar\n// await prisma.$queryRaw(`SELECT * FROM Item WHERE code = '${userInput}'`)\n</code></pre>"},{"location":"architecture/DATABASE/#backup-y-restore","title":"\ud83d\udce6 Backup y Restore","text":""},{"location":"architecture/DATABASE/#backup-completo","title":"Backup Completo","text":"<pre><code># Con t\u00fanel a DB de producci\u00f3n\npg_dump -h localhost -U postgres -d eco_db -F c -f backup-$(date +%Y%m%d).dump\n</code></pre>"},{"location":"architecture/DATABASE/#backup-solo-data","title":"Backup Solo Data","text":"<pre><code>pg_dump -h localhost -U postgres -d eco_db --data-only -F c -f data-backup.dump\n</code></pre>"},{"location":"architecture/DATABASE/#restore","title":"Restore","text":"<pre><code>pg_restore -h localhost -U postgres -d eco_db_restore backup-20260125.dump\n</code></pre>"},{"location":"architecture/DATABASE/#seeding","title":"\ud83e\uddea Seeding","text":""},{"location":"architecture/DATABASE/#seed-de-desarrollo","title":"Seed de Desarrollo","text":"<pre><code>// backend/prisma/seed.js\nconst { PrismaClient } = require('@prisma/client')\nconst prisma = new PrismaClient()\n\nasync function main() {\n  // Crear usuario de prueba\n  const user = await prisma.user.upsert({\n    where: { email: 'admin@alacena.com' },\n    update: {},\n    create: {\n      email: 'admin@alacena.com',\n      password: await bcrypt.hash('admin123', 10),\n      name: 'Admin User'\n    }\n  })\n\n  // Crear items de ejemplo\n  await prisma.item.createMany({\n    data: [\n      { code: 'ARR-001', name: 'Arroz Integral', unit: 'kg', userId: user.id },\n      { code: 'LEN-001', name: 'Lentejas', unit: 'kg', userId: user.id }\n    ]\n  })\n}\n\nmain()\n  .catch(console.error)\n  .finally(() =&gt; prisma.$disconnect())\n</code></pre> <p>Ejecutar: <pre><code>npm run prisma:seed\n</code></pre></p>"},{"location":"architecture/DATABASE/#recursos","title":"\ud83d\udcda Recursos","text":"<ul> <li>Prisma Docs: https://www.prisma.io/docs</li> <li>PostgreSQL Docs: https://www.postgresql.org/docs/</li> <li>Schema File: <code>backend/prisma/schema.prisma</code></li> </ul> <p>Database documentation creada: 2026-01-25</p>"},{"location":"architecture/FRONTEND/","title":"\u269b\ufe0f Frontend Architecture - ECO Platform","text":"<p>Documentaci\u00f3n completa de la arquitectura frontend (Next.js + React)</p> <p>Framework: Next.js 15.5.9 (App Router) UI Library: React 18 Styling: TailwindCSS 3 TypeScript: 5.x \u00daltima actualizaci\u00f3n: 2026-01-25</p>"},{"location":"architecture/FRONTEND/#estructura-general","title":"\ud83c\udfd7\ufe0f Estructura General","text":"<pre><code>frontend/\n\u251c\u2500\u2500 shared/                    # @eco/shared package\n\u2502   \u251c\u2500\u2500 components/\n\u2502   \u2502   \u251c\u2500\u2500 layout/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 DashboardLayout.tsx\n\u2502   \u2502   \u251c\u2500\u2500 data/\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 PaginationControls.tsx\n\u2502   \u2502   \u2514\u2500\u2500 ui/                # Futuros componentes base\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 hooks/\n\u2502   \u2502   \u251c\u2500\u2500 usePagination.ts\n\u2502   \u2502   \u251c\u2500\u2500 useAuth.ts\n\u2502   \u2502   \u2514\u2500\u2500 useFetch.ts        # Futuro\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 lib/\n\u2502   \u2502   \u251c\u2500\u2500 api-client.ts\n\u2502   \u2502   \u251c\u2500\u2500 validations.ts\n\u2502   \u2502   \u2514\u2500\u2500 utils.ts\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 styles/\n\u2502   \u2502   \u251c\u2500\u2500 theme.base.ts\n\u2502   \u2502   \u251c\u2500\u2500 theme.ts\n\u2502   \u2502   \u2514\u2500\u2500 tailwind.preset.js\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 types/\n\u2502   \u2502   \u251c\u2500\u2500 common.ts\n\u2502   \u2502   \u251c\u2500\u2500 prisma.generated.ts  # Auto-generado\n\u2502   \u2502   \u2514\u2500\u2500 index.ts\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 auth/\n\u2502   \u2502   \u251c\u2500\u2500 config.ts\n\u2502   \u2502   \u2514\u2500\u2500 hooks.ts\n\u2502   \u2502\n\u2502   \u2514\u2500\u2500 package.json           # Configuraci\u00f3n de workspace\n\u2502\n\u251c\u2500\u2500 alacena-app/               # App independiente\n\u2502   \u251c\u2500\u2500 app/\n\u2502   \u2502   \u251c\u2500\u2500 layout.tsx\n\u2502   \u2502   \u251c\u2500\u2500 page.tsx\n\u2502   \u2502   \u251c\u2500\u2500 login/\n\u2502   \u2502   \u2514\u2500\u2500 dashboard/\n\u2502   \u2502       \u251c\u2500\u2500 layout.tsx\n\u2502   \u2502       \u251c\u2500\u2500 page.tsx\n\u2502   \u2502       \u251c\u2500\u2500 items/\n\u2502   \u2502       \u251c\u2500\u2500 locations/\n\u2502   \u2502       \u251c\u2500\u2500 reserves/\n\u2502   \u2502       \u2514\u2500\u2500 menu/\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 public/\n\u2502   \u251c\u2500\u2500 theme.ts               # alacenaTheme (verde)\n\u2502   \u251c\u2500\u2500 auth.ts                # NextAuth config\n\u2502   \u251c\u2500\u2500 middleware.ts          # Route protection\n\u2502   \u251c\u2500\u2500 next.config.js\n\u2502   \u251c\u2500\u2500 tailwind.config.js\n\u2502   \u251c\u2500\u2500 tsconfig.json\n\u2502   \u251c\u2500\u2500 .env.local\n\u2502   \u2514\u2500\u2500 package.json\n\u2502\n\u251c\u2500\u2500 mantia-app/                # App independiente (futuro)\n\u2502   \u251c\u2500\u2500 app/\n\u2502   \u251c\u2500\u2500 theme.ts               # mantiaTheme (azul)\n\u2502   \u2514\u2500\u2500 ...\n\u2502\n\u2514\u2500\u2500 package.json               # Root workspace config\n</code></pre>"},{"location":"architecture/FRONTEND/#sistema-de-theming","title":"\ud83c\udfa8 Sistema de Theming","text":""},{"location":"architecture/FRONTEND/#arquitectura-de-themes","title":"Arquitectura de Themes","text":"<pre><code>baseTheme (neutral)\n    \u2193 extend\nalacenaTheme (verde) \u2190 usado en alacena-app\n    \u2193 extend\nmantiaTheme (azul) \u2190 usado en mantia-app\n</code></pre>"},{"location":"architecture/FRONTEND/#base-theme","title":"Base Theme","text":"<p>Archivo: <code>frontend/shared/styles/theme.base.ts</code></p> <pre><code>export const baseTheme = {\n  spacing: {\n    xs: '4px',\n    sm: '8px',\n    md: '16px',\n    lg: '24px',\n    xl: '32px',\n    '2xl': '48px',\n  },\n\n  colors: {\n    // Colores neutros (comunes a todas las apps)\n    neutral: {\n      50: '#fafafa',\n      100: '#f5f5f5',\n      200: '#e5e5e5',\n      300: '#d4d4d4',\n      400: '#a3a3a3',\n      500: '#737373',\n      600: '#525252',\n      700: '#404040',\n      800: '#262626',\n      900: '#171717',\n    },\n\n    // Success, error, warning (comunes)\n    success: {\n      500: '#22c55e',\n      600: '#16a34a',\n    },\n    error: {\n      500: '#ef4444',\n      600: '#dc2626',\n    },\n    warning: {\n      500: '#f59e0b',\n      600: '#d97706',\n    },\n\n    // primary/secondary NO definidos (cada app los define)\n  },\n\n  typography: {\n    fontFamily: {\n      sans: ['Inter', 'system-ui', 'sans-serif'],\n      mono: ['Fira Code', 'monospace'],\n    },\n    fontSize: {\n      xs: '0.75rem',    // 12px\n      sm: '0.875rem',   // 14px\n      base: '1rem',     // 16px\n      lg: '1.125rem',   // 18px\n      xl: '1.25rem',    // 20px\n      '2xl': '1.5rem',  // 24px\n      '3xl': '1.875rem',// 30px\n      '4xl': '2.25rem', // 36px\n    },\n    fontWeight: {\n      normal: 400,\n      medium: 500,\n      semibold: 600,\n      bold: 700,\n    },\n  },\n\n  shadows: {\n    sm: '0 1px 2px 0 rgb(0 0 0 / 0.05)',\n    md: '0 4px 6px -1px rgb(0 0 0 / 0.1)',\n    lg: '0 10px 15px -3px rgb(0 0 0 / 0.1)',\n    xl: '0 20px 25px -5px rgb(0 0 0 / 0.1)',\n  },\n\n  borderRadius: {\n    sm: '0.25rem',\n    md: '0.375rem',\n    lg: '0.5rem',\n    xl: '0.75rem',\n    full: '9999px',\n  },\n\n  breakpoints: {\n    sm: '640px',\n    md: '768px',\n    lg: '1024px',\n    xl: '1280px',\n    '2xl': '1536px',\n  },\n}\n\nexport type BaseTheme = typeof baseTheme\n</code></pre>"},{"location":"architecture/FRONTEND/#app-specific-theme","title":"App-Specific Theme","text":"<p>Archivo: <code>frontend/alacena-app/theme.ts</code></p> <pre><code>import { defaultTheme } from '@eco/shared/styles'\nimport type { AppTheme } from '@eco/shared/styles'\n\nexport const alacenaTheme: AppTheme = {\n  ...defaultTheme,\n  colors: {\n    ...defaultTheme.colors,\n\n    // Verde natural para Alacena\n    primary: {\n      50: '#f0fdf4',\n      100: '#dcfce7',\n      200: '#bbf7d0',\n      300: '#86efac',\n      400: '#4ade80',\n      500: '#22c55e',  // Main\n      600: '#16a34a',\n      700: '#15803d',\n      800: '#166534',\n      900: '#14532d',\n    },\n\n    // Amarillo/dorado como secundario\n    secondary: {\n      50: '#fefce8',\n      100: '#fef9c3',\n      200: '#fef08a',\n      300: '#fde047',\n      400: '#facc15',\n      500: '#eab308',  // Main\n      600: '#ca8a04',\n      700: '#a16207',\n      800: '#854d0e',\n      900: '#713f12',\n    },\n  },\n\n  app: {\n    name: 'Alacena',\n    logo: '/logo-alacena.svg',\n    primaryColor: '#22c55e',\n  },\n}\n</code></pre> <p>Archivo: <code>frontend/mantia-app/theme.ts</code> (futuro)</p> <pre><code>export const mantiaTheme: AppTheme = {\n  ...defaultTheme,\n  colors: {\n    ...defaultTheme.colors,\n\n    // Azul profesional para Mantia\n    primary: {\n      500: '#3b82f6',  // Main\n      // ... otros tonos\n    },\n\n    secondary: {\n      500: '#8b5cf6',  // P\u00farpura\n      // ...\n    },\n  },\n\n  app: {\n    name: 'Mantia',\n    logo: '/logo-mantia.svg',\n    primaryColor: '#3b82f6',\n  },\n}\n</code></pre>"},{"location":"architecture/FRONTEND/#theme-provider","title":"Theme Provider","text":"<p>Archivo: <code>frontend/shared/styles/theme.ts</code></p> <pre><code>'use client'\n\nimport React, { createContext, useContext } from 'react'\nimport type { AppTheme } from './theme.base'\n\nconst ThemeContext = createContext&lt;AppTheme | null&gt;(null)\n\nexport function ThemeProvider({ \n  theme, \n  children \n}: { \n  theme: AppTheme\n  children: React.ReactNode \n}) {\n  return (\n    &lt;ThemeContext.Provider value={theme}&gt;\n      {children}\n    &lt;/ThemeContext.Provider&gt;\n  )\n}\n\nexport function useTheme(): AppTheme {\n  const theme = useContext(ThemeContext)\n  if (!theme) {\n    throw new Error('useTheme must be used within ThemeProvider')\n  }\n  return theme\n}\n</code></pre> <p>Uso en app:</p> <pre><code>// frontend/alacena-app/app/dashboard/layout.tsx\nimport { ThemeProvider } from '@eco/shared/styles'\nimport { alacenaTheme } from '../../theme'\n\nexport default function DashboardLayout({ children }) {\n  return (\n    &lt;ThemeProvider theme={alacenaTheme}&gt;\n      &lt;SharedDashboardLayout menuItems={menuItems}&gt;\n        {children}\n      &lt;/SharedDashboardLayout&gt;\n    &lt;/ThemeProvider&gt;\n  )\n}\n</code></pre>"},{"location":"architecture/FRONTEND/#componentes-compartidos","title":"\ud83e\udde9 Componentes Compartidos","text":""},{"location":"architecture/FRONTEND/#dashboardlayout","title":"DashboardLayout","text":"<p>Archivo: <code>frontend/shared/components/layout/DashboardLayout.tsx</code></p> <pre><code>'use client'\n\nimport { useTheme } from '@eco/shared/styles'\nimport { useAuth } from '@eco/shared/auth'\n\ninterface MenuItem {\n  label: string\n  href: string\n  icon?: React.ReactNode\n}\n\ninterface DashboardLayoutProps {\n  children: React.ReactNode\n  menuItems: MenuItem[]\n  appName?: string\n  appLogo?: string\n}\n\nexport function DashboardLayout({ \n  children, \n  menuItems,\n  appName,\n  appLogo \n}: DashboardLayoutProps) {\n  const theme = useTheme()\n  const { user, logout } = useAuth()\n\n  return (\n    &lt;div className=\"flex h-screen\"&gt;\n      {/* Sidebar */}\n      &lt;aside \n        className=\"w-64 shadow-lg\"\n        style={{ backgroundColor: theme.colors.primary[700] }}\n      &gt;\n        {/* Logo */}\n        &lt;div className=\"p-4 border-b border-white/10\"&gt;\n          &lt;h1 className=\"text-2xl font-bold text-white\"&gt;\n            {appName || theme.app.name}\n          &lt;/h1&gt;\n        &lt;/div&gt;\n\n        {/* Menu */}\n        &lt;nav className=\"p-4\"&gt;\n          {menuItems.map((item) =&gt; (\n            &lt;a\n              key={item.href}\n              href={item.href}\n              className=\"block px-4 py-2 rounded-lg text-white/90 hover:bg-white/10 transition\"\n            &gt;\n              {item.icon &amp;&amp; &lt;span className=\"mr-2\"&gt;{item.icon}&lt;/span&gt;}\n              {item.label}\n            &lt;/a&gt;\n          ))}\n        &lt;/nav&gt;\n\n        {/* User */}\n        &lt;div className=\"absolute bottom-0 w-64 p-4 border-t border-white/10\"&gt;\n          &lt;p className=\"text-white/70 text-sm\"&gt;{user?.email}&lt;/p&gt;\n          &lt;button\n            onClick={logout}\n            className=\"text-white/90 text-sm hover:underline\"\n          &gt;\n            Cerrar sesi\u00f3n\n          &lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/aside&gt;\n\n      {/* Main content */}\n      &lt;main className=\"flex-1 overflow-auto bg-gray-50\"&gt;\n        &lt;div className=\"p-8\"&gt;\n          {children}\n        &lt;/div&gt;\n      &lt;/main&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre> <p>Caracter\u00edsticas: - \u2705 Acepta <code>menuItems</code> din\u00e1mico (cada app define su men\u00fa) - \u2705 Usa <code>useTheme()</code> para colores - \u2705 Usa <code>useAuth()</code> para usuario y logout - \u2705 Responsive (mobile: collapse sidebar) - \u2705 Reutilizable en todas las apps</p>"},{"location":"architecture/FRONTEND/#paginationcontrols","title":"PaginationControls","text":"<p>Archivo: <code>frontend/shared/components/data/PaginationControls.tsx</code></p> <pre><code>interface PaginationControlsProps {\n  currentPage: number\n  totalItems: number\n  itemsPerPage: number\n  onPrevious: () =&gt; void\n  onNext: () =&gt; void\n  hasNext: boolean\n  hasPrevious: boolean\n}\n\nexport function PaginationControls({\n  currentPage,\n  totalItems,\n  itemsPerPage,\n  onPrevious,\n  onNext,\n  hasNext,\n  hasPrevious,\n}: PaginationControlsProps) {\n  const totalPages = Math.ceil(totalItems / itemsPerPage)\n\n  return (\n    &lt;div className=\"flex items-center justify-between mt-6\"&gt;\n      &lt;p className=\"text-sm text-gray-600\"&gt;\n        P\u00e1gina {currentPage} de {totalPages} ({totalItems} items)\n      &lt;/p&gt;\n\n      &lt;div className=\"flex gap-2\"&gt;\n        &lt;button\n          onClick={onPrevious}\n          disabled={!hasPrevious}\n          className=\"px-4 py-2 border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n        &gt;\n          Anterior\n        &lt;/button&gt;\n\n        &lt;button\n          onClick={onNext}\n          disabled={!hasNext}\n          className=\"px-4 py-2 border rounded-lg disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50\"\n        &gt;\n          Siguiente\n        &lt;/button&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre> <p>Uso:</p> <pre><code>const pagination = usePagination(100)\n\n&lt;PaginationControls\n  currentPage={pagination.currentPage}\n  totalItems={pagination.totalItems}\n  itemsPerPage={100}\n  onPrevious={pagination.previousPage}\n  onNext={pagination.nextPage}\n  hasNext={pagination.hasNext}\n  hasPrevious={pagination.hasPrevious}\n/&gt;\n</code></pre>"},{"location":"architecture/FRONTEND/#hooks-compartidos","title":"\ud83e\ude9d Hooks Compartidos","text":""},{"location":"architecture/FRONTEND/#usepagination","title":"usePagination","text":"<p>Archivo: <code>frontend/shared/hooks/usePagination.ts</code></p> <pre><code>import { useState, useCallback } from 'react'\n\ninterface UsePaginationReturn {\n  currentPage: number\n  totalItems: number\n  skip: number\n  hasNext: boolean\n  hasPrevious: boolean\n  nextPage: () =&gt; void\n  previousPage: () =&gt; void\n  setTotalItems: (total: number) =&gt; void\n  getPaginationParams: () =&gt; { skip: number; take: number }\n}\n\nexport function usePagination(itemsPerPage: number = 50): UsePaginationReturn {\n  const [currentPage, setCurrentPage] = useState(1)\n  const [totalItems, setTotalItems] = useState(0)\n\n  const skip = (currentPage - 1) * itemsPerPage\n  const hasNext = skip + itemsPerPage &lt; totalItems\n  const hasPrevious = currentPage &gt; 1\n\n  const nextPage = useCallback(() =&gt; {\n    if (hasNext) setCurrentPage(p =&gt; p + 1)\n  }, [hasNext])\n\n  const previousPage = useCallback(() =&gt; {\n    if (hasPrevious) setCurrentPage(p =&gt; p - 1)\n  }, [hasPrevious])\n\n  const getPaginationParams = useCallback(() =&gt; ({\n    skip,\n    take: itemsPerPage,\n  }), [skip, itemsPerPage])\n\n  return {\n    currentPage,\n    totalItems,\n    skip,\n    hasNext,\n    hasPrevious,\n    nextPage,\n    previousPage,\n    setTotalItems,\n    getPaginationParams,\n  }\n}\n</code></pre>"},{"location":"architecture/FRONTEND/#useauth","title":"useAuth","text":"<p>Archivo: <code>frontend/shared/auth/hooks.ts</code></p> <pre><code>'use client'\n\nimport { useSession } from 'next-auth/react'\n\nexport function useAuth() {\n  const { data: session, status } = useSession()\n\n  return {\n    user: session?.user ?? null,\n    backendToken: session?.backendToken ?? null,\n    isLoading: status === 'loading',\n    isAuthenticated: status === 'authenticated',\n    logout: async () =&gt; {\n      await fetch('/api/auth/signout', { method: 'POST' })\n      window.location.href = '/login'\n    },\n  }\n}\n</code></pre> <p>Uso:</p> <pre><code>const { user, backendToken, isLoading } = useAuth()\n\nif (isLoading) return &lt;Spinner /&gt;\nif (!user) redirect('/login')\n\n// Usar backendToken en headers\nconst response = await fetch(`${API_URL}/items`, {\n  headers: {\n    Authorization: `Bearer ${backendToken}`,\n  },\n})\n</code></pre>"},{"location":"architecture/FRONTEND/#api-client","title":"\ud83c\udf10 API Client","text":"<p>Archivo: <code>frontend/shared/lib/api-client.ts</code></p> <pre><code>const API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000'\n\ninterface ApiResponse&lt;T&gt; {\n  data: T\n  pagination?: {\n    total: number\n    limit: number\n    offset: number\n    hasNext: boolean\n    hasPrevious: boolean\n  }\n}\n\nclass ApiError extends Error {\n  constructor(public status: number, message: string, public data?: any) {\n    super(message)\n  }\n}\n\nexport async function apiClient&lt;T&gt;(\n  endpoint: string,\n  options: RequestInit = {}\n): Promise&lt;ApiResponse&lt;T&gt;&gt; {\n  const url = `${API_URL}${endpoint}`\n\n  const response = await fetch(url, {\n    ...options,\n    headers: {\n      'Content-Type': 'application/json',\n      ...options.headers,\n    },\n  })\n\n  const data = await response.json()\n\n  if (!response.ok) {\n    throw new ApiError(response.status, data.error || 'API Error', data)\n  }\n\n  return data\n}\n\n// Helpers\nexport const api = {\n  get: &lt;T&gt;(endpoint: string, token?: string) =&gt;\n    apiClient&lt;T&gt;(endpoint, {\n      headers: token ? { Authorization: `Bearer ${token}` } : {},\n    }),\n\n  post: &lt;T&gt;(endpoint: string, body: any, token?: string) =&gt;\n    apiClient&lt;T&gt;(endpoint, {\n      method: 'POST',\n      body: JSON.stringify(body),\n      headers: token ? { Authorization: `Bearer ${token}` } : {},\n    }),\n\n  put: &lt;T&gt;(endpoint: string, body: any, token?: string) =&gt;\n    apiClient&lt;T&gt;(endpoint, {\n      method: 'PUT',\n      body: JSON.stringify(body),\n      headers: token ? { Authorization: `Bearer ${token}` } : {},\n    }),\n\n  delete: &lt;T&gt;(endpoint: string, token?: string) =&gt;\n    apiClient&lt;T&gt;(endpoint, {\n      method: 'DELETE',\n      headers: token ? { Authorization: `Bearer ${token}` } : {},\n    }),\n}\n</code></pre> <p>Uso:</p> <pre><code>import { api } from '@eco/shared/lib'\nimport { useAuth } from '@eco/shared/auth'\n\nconst { backendToken } = useAuth()\n\n// GET\nconst { data, pagination } = await api.get&lt;Item[]&gt;(\n  '/api/alacena/items?skip=0&amp;take=100',\n  backendToken\n)\n\n// POST\nconst newItem = await api.post&lt;Item&gt;(\n  '/api/alacena/items',\n  { code: 'ARR-001', name: 'Arroz', unit: 'kg' },\n  backendToken\n)\n\n// Error handling\ntry {\n  await api.delete(`/api/alacena/items/${id}`, backendToken)\n} catch (error) {\n  if (error instanceof ApiError) {\n    if (error.status === 404) {\n      alert('Item no encontrado')\n    } else if (error.status === 401) {\n      redirect('/login')\n    }\n  }\n}\n</code></pre>"},{"location":"architecture/FRONTEND/#type-generation","title":"\ud83d\udce6 Type Generation","text":""},{"location":"architecture/FRONTEND/#flujo-automatico","title":"Flujo Autom\u00e1tico","text":"<pre><code>1. Backend: prisma/schema.prisma\n   \u2193\n2. npm run generate:types\n   \u2193\n3. Genera: frontend/shared/types/prisma.generated.ts\n   \u2193\n4. Apps importan: import { Item, User } from '@eco/shared/types'\n</code></pre> <p>Archivo generado: <code>frontend/shared/types/prisma.generated.ts</code></p> <pre><code>// Auto-generated from Prisma schema\n// DO NOT EDIT MANUALLY\n\nexport type { \n  User, \n  Item, \n  Location, \n  Container, \n  Batch, \n  Reserve, \n  MenuItem \n} from '@prisma/client'\n\nexport type {\n  LocationType,\n  ReserveStatus,\n  MenuCategory,\n} from '@prisma/client'\n\nexport interface PaginatedResponse&lt;T&gt; {\n  data: T[]\n  pagination: {\n    total: number\n    limit: number\n    offset: number\n    hasNext: boolean\n    hasPrevious: boolean\n  }\n}\n\nexport interface PaginationParams {\n  skip: number\n  take: number\n}\n\n// User sin password para uso en frontend\nexport type UserPublic = Omit&lt;User, 'password'&gt;\n</code></pre> <p>Comando: <pre><code>cd backend &amp;&amp; npm run generate:types\n</code></pre></p>"},{"location":"architecture/FRONTEND/#autenticacion-nextauth","title":"\ud83d\udd10 Autenticaci\u00f3n (NextAuth)","text":""},{"location":"architecture/FRONTEND/#configuracion-compartida","title":"Configuraci\u00f3n Compartida","text":"<p>Archivo: <code>frontend/shared/auth/config.ts</code></p> <pre><code>import type { AuthOptions } from 'next-auth'\nimport CredentialsProvider from 'next-auth/providers/credentials'\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:4000'\n\nexport function createAuthConfig(options?: {\n  devUserOverride?: boolean\n}): AuthOptions {\n  return {\n    providers: [\n      CredentialsProvider({\n        name: 'Credentials',\n        credentials: {\n          email: { label: 'Email', type: 'email' },\n          password: { label: 'Password', type: 'password' },\n        },\n        async authorize(credentials) {\n          // Dev mode: auto-login\n          if (options?.devUserOverride &amp;&amp; process.env.NODE_ENV === 'development') {\n            return {\n              id: '1',\n              email: 'admin@alacena.com',\n              name: 'Admin Dev',\n              backendToken: 'dev-token',\n            }\n          }\n\n          // Production: call backend\n          const res = await fetch(`${API_URL}/api/auth/login`, {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({\n              email: credentials?.email,\n              password: credentials?.password,\n            }),\n          })\n\n          const data = await res.json()\n\n          if (!res.ok) {\n            throw new Error(data.error || 'Login failed')\n          }\n\n          return {\n            id: data.user.id,\n            email: data.user.email,\n            name: data.user.name,\n            backendToken: data.token,\n          }\n        },\n      }),\n    ],\n\n    callbacks: {\n      async jwt({ token, user }) {\n        if (user) {\n          token.backendToken = user.backendToken\n        }\n        return token\n      },\n\n      async session({ session, token }) {\n        session.backendToken = token.backendToken\n        return session\n      },\n    },\n\n    session: {\n      strategy: 'jwt',\n    },\n\n    pages: {\n      signIn: '/login',\n    },\n  }\n}\n</code></pre> <p>Uso en app:</p> <pre><code>// frontend/alacena-app/auth.ts\nimport { createAuthConfig } from '@eco/shared/auth'\n\nexport const authOptions = createAuthConfig({\n  devUserOverride: false, // true para dev r\u00e1pido\n})\n</code></pre>"},{"location":"architecture/FRONTEND/#middleware-de-proteccion","title":"Middleware de Protecci\u00f3n","text":"<p>Archivo: <code>frontend/alacena-app/middleware.ts</code></p> <pre><code>export { default } from 'next-auth/middleware'\n\nexport const config = {\n  matcher: ['/dashboard/:path*'],\n}\n</code></pre>"},{"location":"architecture/FRONTEND/#patrones-de-uso","title":"\ud83c\udfaf Patrones de Uso","text":""},{"location":"architecture/FRONTEND/#pagina-con-paginacion","title":"P\u00e1gina con Paginaci\u00f3n","text":"<pre><code>'use client'\n\nimport { useState, useEffect } from 'react'\nimport { usePagination } from '@eco/shared/hooks'\nimport { PaginationControls } from '@eco/shared/components'\nimport { api } from '@eco/shared/lib'\nimport { useAuth } from '@eco/shared/auth'\nimport type { Item } from '@eco/shared/types'\n\nexport default function ItemsPage() {\n  const [items, setItems] = useState&lt;Item[]&gt;([])\n  const pagination = usePagination(100)\n  const { backendToken } = useAuth()\n\n  useEffect(() =&gt; {\n    async function loadItems() {\n      const params = pagination.getPaginationParams()\n      const response = await api.get&lt;Item[]&gt;(\n        `/api/alacena/items?skip=${params.skip}&amp;take=${params.take}`,\n        backendToken\n      )\n      setItems(response.data)\n      pagination.setTotalItems(response.pagination?.total || 0)\n    }\n\n    loadItems()\n  }, [pagination.currentPage])\n\n  return (\n    &lt;div&gt;\n      &lt;h1&gt;Items&lt;/h1&gt;\n\n      &lt;table&gt;\n        {items.map(item =&gt; (\n          &lt;tr key={item.id}&gt;\n            &lt;td&gt;{item.code}&lt;/td&gt;\n            &lt;td&gt;{item.name}&lt;/td&gt;\n            &lt;td&gt;{item.currentStock} {item.unit}&lt;/td&gt;\n          &lt;/tr&gt;\n        ))}\n      &lt;/table&gt;\n\n      &lt;PaginationControls {...pagination} itemsPerPage={100} /&gt;\n    &lt;/div&gt;\n  )\n}\n</code></pre>"},{"location":"architecture/FRONTEND/#formulario-con-validacion","title":"Formulario con Validaci\u00f3n","text":"<pre><code>'use client'\n\nimport { useState } from 'react'\nimport { z } from 'zod'\nimport { api } from '@eco/shared/lib'\nimport { useAuth } from '@eco/shared/auth'\n\nconst itemSchema = z.object({\n  code: z.string().min(1, 'C\u00f3digo requerido'),\n  name: z.string().min(1, 'Nombre requerido'),\n  unit: z.enum(['kg', 'L', 'u']),\n  minStock: z.number().min(0),\n  maxStock: z.number().min(0),\n})\n\nexport function ItemForm() {\n  const [formData, setFormData] = useState({\n    code: '',\n    name: '',\n    unit: 'kg',\n    minStock: 0,\n    maxStock: 0,\n  })\n  const [errors, setErrors] = useState&lt;Record&lt;string, string&gt;&gt;({})\n  const { backendToken } = useAuth()\n\n  const handleSubmit = async (e: React.FormEvent) =&gt; {\n    e.preventDefault()\n\n    // Validar\n    const result = itemSchema.safeParse(formData)\n    if (!result.success) {\n      const fieldErrors = result.error.flatten().fieldErrors\n      setErrors(Object.fromEntries(\n        Object.entries(fieldErrors).map(([k, v]) =&gt; [k, v[0]])\n      ))\n      return\n    }\n\n    // Enviar\n    try {\n      await api.post('/api/alacena/items', formData, backendToken)\n      alert('Item creado!')\n      // Reset form...\n    } catch (error) {\n      alert('Error al crear item')\n    }\n  }\n\n  return (\n    &lt;form onSubmit={handleSubmit}&gt;\n      &lt;input\n        value={formData.code}\n        onChange={e =&gt; setFormData({ ...formData, code: e.target.value })}\n        placeholder=\"C\u00f3digo\"\n      /&gt;\n      {errors.code &amp;&amp; &lt;span className=\"text-red-500\"&gt;{errors.code}&lt;/span&gt;}\n\n      {/* ...otros campos */}\n\n      &lt;button type=\"submit\"&gt;Guardar&lt;/button&gt;\n    &lt;/form&gt;\n  )\n}\n</code></pre>"},{"location":"architecture/FRONTEND/#build-y-deploy","title":"\ud83d\ude80 Build y Deploy","text":""},{"location":"architecture/FRONTEND/#development","title":"Development","text":"<pre><code>cd frontend/alacena-app\nnpm run dev\n# \u2192 http://localhost:3000\n</code></pre>"},{"location":"architecture/FRONTEND/#production-build","title":"Production Build","text":"<pre><code>npm run build\nnpm start\n</code></pre>"},{"location":"architecture/FRONTEND/#variables-de-entorno","title":"Variables de Entorno","text":"<p><code>.env.local</code>: <pre><code>NEXT_PUBLIC_API_URL=http://localhost:4000\nNEXTAUTH_SECRET=tu_secreto_nextauth\nNEXTAUTH_URL=http://localhost:3000\n</code></pre></p> <p>Producci\u00f3n (Vercel): - <code>NEXT_PUBLIC_API_URL=https://alacena-backend.fly.dev</code> - <code>NEXTAUTH_URL=https://alacena-frontend.vercel.app</code></p>"},{"location":"architecture/FRONTEND/#performance","title":"\ud83d\udcca Performance","text":""},{"location":"architecture/FRONTEND/#code-splitting","title":"Code Splitting","text":"<p>Next.js hace code splitting autom\u00e1tico: - Cada ruta = bundle separado - Componentes din\u00e1micos = lazy load</p> <pre><code>import dynamic from 'next/dynamic'\n\nconst HeavyChart = dynamic(() =&gt; import('./HeavyChart'), {\n  loading: () =&gt; &lt;Spinner /&gt;,\n  ssr: false, // No renderizar en servidor\n})\n</code></pre>"},{"location":"architecture/FRONTEND/#image-optimization","title":"Image Optimization","text":"<pre><code>import Image from 'next/image'\n\n&lt;Image\n  src=\"/logo.png\"\n  alt=\"Logo\"\n  width={200}\n  height={100}\n  priority // Para above-the-fold\n/&gt;\n</code></pre>"},{"location":"architecture/FRONTEND/#recursos","title":"\ud83d\udcda Recursos","text":"<ul> <li>Next.js Docs: https://nextjs.org/docs</li> <li>React Docs: https://react.dev</li> <li>TailwindCSS: https://tailwindcss.com/docs</li> <li>NextAuth: https://next-auth.js.org</li> </ul> <p>Frontend documentation creada: 2026-01-25</p>"},{"location":"architecture/OVERVIEW/","title":"\ud83c\udfd7\ufe0f Arquitectura ECO Platform - Visi\u00f3n General","text":"<p>Arquitectura de plataforma modular para m\u00faltiples aplicaciones</p> <p>\u00daltima actualizaci\u00f3n: 2026-01-25</p>"},{"location":"architecture/OVERVIEW/#concepto-principal","title":"\ud83c\udfaf Concepto Principal","text":"<p>ECO es una plataforma modular que aloja m\u00faltiples aplicaciones especializadas:</p> <ul> <li>Alacena: Gesti\u00f3n de alacena/despensa</li> <li>Mantia: Gesti\u00f3n financiera/presupuestal  </li> <li>Salud: Tracking de salud y bienestar</li> <li>Financia: Finanzas personales</li> <li>Huesha: [Por definir]</li> </ul> <p>Principio clave: C\u00f3digo compartido + m\u00f3dulos independientes con personalizaci\u00f3n</p>"},{"location":"architecture/OVERVIEW/#arquitectura-de-alto-nivel","title":"\ud83d\udcd0 Arquitectura de Alto Nivel","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                       FRONTEND APPS                          \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 alacena-app  \u2502 mantia-app   \u2502 salud-app    \u2502  ...          \u2502\n\u2502 (verde)      \u2502 (azul)       \u2502 (rojo)       \u2502               \u2502\n\u2502 Port 3000    \u2502 Port 3001    \u2502 Port 3002    \u2502               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502              \u2502              \u2502               \u2502\n       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2502\n              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n              \u2502 SHARED CODE    \u2502\n              \u2502 @eco/shared    \u2502\n              \u2502                \u2502\n              \u2502 - Components   \u2502\n              \u2502 - Hooks        \u2502\n              \u2502 - Theme        \u2502\n              \u2502 - Auth         \u2502\n              \u2502 - Types        \u2502\n              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                       \u2502\n       \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n       \u2502                               \u2502\n   \u250c\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2510                    \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502 VERCEL \u2502                    \u2502 FLY.IO    \u2502\n   \u2502        \u2502                    \u2502           \u2502\n   \u2502Frontend\u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  Backend  \u2502\n   \u2502 Static \u2502      HTTPS         \u2502  Node.js  \u2502\n   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                    \u2514\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n                                       \u2502\n                                 \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\n                                 \u2502PostgreSQL \u2502\n                                 \u2502           \u2502\n                                 \u2502 Shared DB \u2502\n                                 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"architecture/OVERVIEW/#base-de-datos-compartida","title":"\ud83d\uddc4\ufe0f Base de Datos Compartida","text":""},{"location":"architecture/OVERVIEW/#estrategia-single-database-con-prefijos","title":"Estrategia: Single Database con Prefijos","text":"<p>Todas las apps comparten una PostgreSQL, usando prefijos en nombres de tabla:</p> <pre><code>-- Alacena\nUser, Item, Location, Container, Batch, Reserve, MenuItem\n\n-- Mantia (futuro)\nMantia_Account, Mantia_Transaction, Mantia_Budget, Mantia_Category\n\n-- Salud (futuro)\nSalud_Measurement, Salud_Goal, Salud_Activity\n\n-- Shared (sin prefijo)\nUser (compartido entre todos)\n</code></pre> <p>Ventajas: - Una sola conexi\u00f3n DB - Migrations unificadas - Relaciones cross-module posibles (ej: User \u2192 Mantia_Account) - Simplicidad operacional</p> <p>Trade-off: Menos aislamiento que DBs separadas (aceptable para MVP)</p>"},{"location":"architecture/OVERVIEW/#frontend-modular-con-shared-code","title":"\ud83c\udfa8 Frontend: Modular con Shared Code","text":""},{"location":"architecture/OVERVIEW/#estructura","title":"Estructura","text":"<pre><code>frontend/\n\u251c\u2500\u2500 shared/              # @eco/shared package\n\u2502   \u251c\u2500\u2500 components/      # Componentes reutilizables\n\u2502   \u2502   \u251c\u2500\u2500 layout/      # DashboardLayout\n\u2502   \u2502   \u251c\u2500\u2500 data/        # PaginationControls, Table\n\u2502   \u2502   \u2514\u2500\u2500 ui/          # Button, Input, Modal (futuro)\n\u2502   \u251c\u2500\u2500 hooks/           # usePagination, useAuth, useFetch\n\u2502   \u251c\u2500\u2500 lib/             # api-client.ts, validations.ts, utils.ts\n\u2502   \u251c\u2500\u2500 styles/          # theme.base.ts, theme.ts, tailwind.preset.js\n\u2502   \u251c\u2500\u2500 types/           # common.ts, prisma.generated.ts\n\u2502   \u2514\u2500\u2500 auth/            # config.ts, hooks.ts\n\u2502\n\u251c\u2500\u2500 alacena-app/         # App 1 (independiente)\n\u2502   \u251c\u2500\u2500 app/             # Next.js pages\n\u2502   \u251c\u2500\u2500 theme.ts         # alacenaTheme (verde)\n\u2502   \u251c\u2500\u2500 package.json     # dependency: \"@eco/shared\": \"file:../shared\"\n\u2502   \u2514\u2500\u2500 tsconfig.json    # paths: \"@eco/shared/*\"\n\u2502\n\u2514\u2500\u2500 mantia-app/          # App 2 (independiente)\n    \u251c\u2500\u2500 app/\n    \u251c\u2500\u2500 theme.ts         # mantiaTheme (azul)\n    \u2514\u2500\u2500 ...\n</code></pre>"},{"location":"architecture/OVERVIEW/#npm-workspaces","title":"npm Workspaces","text":"<p>Configurado en <code>frontend/package.json</code>:</p> <pre><code>{\n  \"workspaces\": [\"alacena-app\", \"mantia-app\", \"shared\"]\n}\n</code></pre> <p>Beneficios: - Importar shared como <code>import { DashboardLayout } from '@eco/shared/components'</code> - Hot reload entre shared \u2194 apps - Single <code>node_modules</code> a nivel ra\u00edz</p>"},{"location":"architecture/OVERVIEW/#sistema-de-theming","title":"\ud83c\udfa8 Sistema de Theming","text":""},{"location":"architecture/OVERVIEW/#base-theme-neutro","title":"Base Theme (Neutro)","text":"<pre><code>// frontend/shared/styles/theme.base.ts\nexport const baseTheme = {\n  spacing: { xs: '4px', sm: '8px', ... },\n  colors: { \n    neutral: { ... },\n    success: { ... },\n    // primary/secondary NO definidos (cada app los sobrescribe)\n  },\n  typography: { ... },\n  shadows: { ... },\n  breakpoints: { ... }\n}\n</code></pre>"},{"location":"architecture/OVERVIEW/#app-specific-override","title":"App-Specific Override","text":"<pre><code>// frontend/alacena-app/theme.ts\nimport { defaultTheme } from '@eco/shared/styles'\n\nexport const alacenaTheme: AppTheme = {\n  ...defaultTheme,\n  colors: {\n    ...defaultTheme.colors,\n    primary: {\n      500: '#22c55e', // Verde\n      ...\n    },\n    secondary: {\n      500: '#eab308', // Amarillo\n      ...\n    }\n  },\n  app: {\n    name: 'Alacena',\n    logo: '/logo-alacena.svg'\n  }\n}\n</code></pre>"},{"location":"architecture/OVERVIEW/#uso","title":"Uso","text":"<pre><code>// En layout.tsx de cada app\n&lt;ThemeProvider theme={alacenaTheme}&gt;\n  &lt;SharedDashboardLayout menuItems={...} /&gt;\n&lt;/ThemeProvider&gt;\n</code></pre>"},{"location":"architecture/OVERVIEW/#backend-monolito-modular","title":"\ud83d\udd27 Backend: Monolito Modular","text":""},{"location":"architecture/OVERVIEW/#estructura_1","title":"Estructura","text":"<pre><code>backend/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 shared/              # C\u00f3digo compartido\n\u2502   \u2502   \u251c\u2500\u2500 auth/            # JWT, middleware\n\u2502   \u2502   \u251c\u2500\u2500 qr/              # Generaci\u00f3n QR\n\u2502   \u2502   \u251c\u2500\u2500 validations/     # Zod schemas\n\u2502   \u2502   \u2514\u2500\u2500 integrations/    # APIs externas comunes\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 modules/\n\u2502   \u2502   \u251c\u2500\u2500 alacena/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 controllers/ # itemController.js\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 routes/      # itemRoutes.js\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 schemas/     # itemSchema.js (Zod)\n\u2502   \u2502   \u2502\n\u2502   \u2502   \u2514\u2500\u2500 mantia/\n\u2502   \u2502       \u251c\u2500\u2500 controllers/\n\u2502   \u2502       \u251c\u2500\u2500 routes/\n\u2502   \u2502       \u2514\u2500\u2500 schemas/\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 app.js               # Express setup\n\u2502   \u2514\u2500\u2500 server.js            # Entry point\n\u2502\n\u2514\u2500\u2500 prisma/\n    \u2514\u2500\u2500 schema.prisma        # Todos los modelos\n</code></pre>"},{"location":"architecture/OVERVIEW/#routing","title":"Routing","text":"<p>Un solo servidor en puerto <code>4000</code>, rutas modulares:</p> <pre><code>// src/app.js\napp.use('/api/alacena', alacenaRoutes)  // /api/alacena/items, /locations, etc.\napp.use('/api/mantia', mantiaRoutes)    // /api/mantia/accounts, /transactions\napp.use('/api/shared', sharedRoutes)    // /api/shared/qr, /auth\n</code></pre> <p>Ventajas: - Single deployment - Shared database connection pool - C\u00f3digo compartido f\u00e1cil (require('../shared/...')) - Simplicidad operacional</p> <p>Trade-off: Menos granularidad de scaling (aceptable para MVP)</p>"},{"location":"architecture/OVERVIEW/#autenticacion","title":"\ud83d\udd10 Autenticaci\u00f3n","text":""},{"location":"architecture/OVERVIEW/#estrategia-jwt-compartido","title":"Estrategia: JWT Compartido","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 User     \u2502                \u2502 Backend  \u2502\n\u2502 (login)  \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25ba\u2502 /login   \u2502\n\u2502          \u2502  POST email/pw \u2502          \u2502\n\u2502          \u2502\u25c4\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524 Returns  \u2502\n\u2502          \u2502   JWT token    \u2502 JWT      \u2502\n\u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518                \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502\n     \u2502 Guarda en sessionStorage\n     \u2502\n     \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Alacena App  \u2502  Usa JWT en headers\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Mantia App   \u2502  Mismo JWT v\u00e1lido\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Single User model: Tabla <code>User</code> compartida por todos los m\u00f3dulos</p>"},{"location":"architecture/OVERVIEW/#nextauth-config-compartido","title":"NextAuth Config Compartido","text":"<pre><code>// frontend/shared/auth/config.ts\nexport function createAuthConfig(options) {\n  return {\n    providers: [CredentialsProvider(...)],\n    callbacks: {\n      async jwt({ token, user }) {\n        // L\u00f3gica compartida\n      }\n    },\n    // ...\n  }\n}\n</code></pre> <p>Cada app lo usa:</p> <pre><code>// frontend/alacena-app/auth.ts\nimport { createAuthConfig } from '@eco/shared/auth'\nexport const authOptions = createAuthConfig({ appName: 'Alacena' })\n</code></pre>"},{"location":"architecture/OVERVIEW/#type-generation-automatica","title":"\ud83d\udce6 Type Generation Autom\u00e1tica","text":""},{"location":"architecture/OVERVIEW/#flujo","title":"Flujo","text":"<pre><code>1. Prisma Schema (schema.prisma)\n   \u2193\n2. npm run generate:types (backend)\n   \u2193\n3. Ejecuta prisma generate\n   \u2193\n4. Extrae types de @prisma/client\n   \u2193\n5. Escribe frontend/shared/types/prisma.generated.ts\n   \u2193\n6. Apps importan: import { User, Item } from '@eco/shared/types'\n</code></pre>"},{"location":"architecture/OVERVIEW/#script","title":"Script","text":"<pre><code>// backend/prisma/generate-types.js\nconst { execSync } = require('child_process')\nconst fs = require('fs')\nconst path = require('path')\n\n// 1. Generate Prisma Client\nexecSync('npx prisma generate', { stdio: 'inherit' })\n\n// 2. Read types from node_modules/@prisma/client/index.d.ts\n// 3. Extract relevant exports\n// 4. Write to frontend/shared/types/prisma.generated.ts\n</code></pre> <p>Comando: <code>cd backend &amp;&amp; npm run generate:types</code></p>"},{"location":"architecture/OVERVIEW/#apis-externas","title":"\ud83c\udf10 APIs Externas","text":""},{"location":"architecture/OVERVIEW/#decision-shared-vs-module-specific","title":"Decisi\u00f3n: Shared vs Module-Specific","text":"<p>Pregunta clave: \u00bfLo usar\u00e1n 2+ m\u00f3dulos?</p>"},{"location":"architecture/OVERVIEW/#si-si-backendsrcsharedintegrations","title":"Si S\u00cd \u2192 <code>backend/src/shared/integrations/</code>","text":"<p>Ejemplo: Google Docs para documentaci\u00f3n general</p> <pre><code>backend/src/shared/integrations/\n\u2514\u2500\u2500 google-docs.js   # Cliente reutilizable\n</code></pre>"},{"location":"architecture/OVERVIEW/#si-no-backendsrcmodulesnombreservices","title":"Si NO \u2192 <code>backend/src/modules/{nombre}/services/</code>","text":"<p>Ejemplo: API de bancos solo para Mantia</p> <pre><code>backend/src/modules/mantia/services/\n\u2514\u2500\u2500 bank-api.js      # Espec\u00edfico de Mantia\n</code></pre>"},{"location":"architecture/OVERVIEW/#refactoring-facil","title":"Refactoring F\u00e1cil","text":"<p>Si una integraci\u00f3n m\u00f3dulo-espec\u00edfica se vuelve \u00fatil para otro:</p> <pre><code># Mover de m\u00f3dulo a shared\nmv backend/src/modules/mantia/services/google-docs.js \\\n   backend/src/shared/integrations/google-docs.js\n\n# Actualizar imports\n# Ya est\u00e1 disponible para todos\n</code></pre>"},{"location":"architecture/OVERVIEW/#deployment","title":"\ud83d\ude80 Deployment","text":""},{"location":"architecture/OVERVIEW/#frontend-vercel-cada-app-independiente","title":"Frontend: Vercel (cada app independiente)","text":"<ul> <li>alacena-app: https://alacena-frontend.vercel.app</li> <li>mantia-app: https://mantia-frontend.vercel.app (futuro)</li> </ul> <p>Configuraci\u00f3n: Cada app tiene su <code>vercel.json</code> apuntando a su carpeta</p>"},{"location":"architecture/OVERVIEW/#backend-flyio-monolito-unico","title":"Backend: Fly.io (monolito \u00fanico)","text":"<ul> <li>URL: https://alacena-backend.fly.dev</li> <li>Puerto: 4000</li> <li>Proceso: Single Node.js process con todas las rutas</li> </ul> <p>Configuraci\u00f3n: <code>fly.toml</code> en ra\u00edz de backend/</p>"},{"location":"architecture/OVERVIEW/#base-de-datos-postgresql","title":"Base de Datos: PostgreSQL","text":"<ul> <li>Proveedor: [Fly.io Postgres / Supabase / otro]</li> <li>Conexi\u00f3n: Variable <code>DATABASE_URL</code> en backend</li> <li>Acceso: Solo backend conecta, frontend via API</li> </ul>"},{"location":"architecture/OVERVIEW/#agregar-nuevo-modulo","title":"\ud83e\udde9 Agregar Nuevo M\u00f3dulo","text":""},{"location":"architecture/OVERVIEW/#checklist","title":"Checklist","text":""},{"location":"architecture/OVERVIEW/#backend","title":"Backend","text":"<ol> <li> <p>Crear estructura: <pre><code>mkdir -p backend/src/modules/{nombre}/{controllers,routes,schemas}\n</code></pre></p> </li> <li> <p>Definir modelos en <code>backend/prisma/schema.prisma</code>: <pre><code>model NombreModulo_Entidad {\n  id     Int    @id @default(autoincrement())\n  userId Int\n  user   User   @relation(fields: [userId], references: [id])\n  // ...\n}\n</code></pre></p> </li> <li> <p>Crear controllers, routes, schemas siguiendo patr\u00f3n de Alacena</p> </li> <li> <p>Registrar routes en <code>backend/src/app.js</code>: <pre><code>app.use('/api/nombre', nombreRoutes)\n</code></pre></p> </li> <li> <p>Generar types: <pre><code>cd backend &amp;&amp; npm run generate:types\n</code></pre></p> </li> </ol>"},{"location":"architecture/OVERVIEW/#frontend","title":"Frontend","text":"<ol> <li> <p>Crear app: <pre><code>cd frontend\nnpx create-next-app@latest nombre-app\n</code></pre></p> </li> <li> <p>Configurar workspace: <pre><code>// frontend/package.json\n{\n  \"workspaces\": [..., \"nombre-app\"]\n}\n</code></pre></p> </li> <li> <p>Agregar dependency a shared: <pre><code>// frontend/nombre-app/package.json\n{\n  \"dependencies\": {\n    \"@eco/shared\": \"file:../shared\"\n  }\n}\n</code></pre></p> </li> <li> <p>Crear theme: <pre><code>// frontend/nombre-app/theme.ts\nexport const nombreTheme = {\n  ...defaultTheme,\n  colors: {\n    ...defaultTheme.colors,\n    primary: { 500: '#XXXX' }, // Color distintivo\n  },\n  app: { name: 'Nombre' }\n}\n</code></pre></p> </li> <li> <p>Configurar auth usando <code>createAuthConfig()</code></p> </li> <li> <p>Usar <code>DashboardLayout</code> con theme</p> </li> </ol>"},{"location":"architecture/OVERVIEW/#decisiones-de-arquitectura","title":"\ud83d\udcca Decisiones de Arquitectura","text":""},{"location":"architecture/OVERVIEW/#por-que-monolito-modular-y-no-microservicios","title":"\u00bfPor qu\u00e9 monolito modular y no microservicios?","text":"<p>Razones: - MVP, equipo peque\u00f1o (1-2 devs) - Simplicidad operacional (1 backend deploy) - Shared code f\u00e1cil (no necesita npm packages publicados) - Single DB connection pool (mejor performance) - Refactoring futuro posible si escala</p> <p>Trade-off aceptable: Menos granularidad de scaling</p>"},{"location":"architecture/OVERVIEW/#por-que-npm-workspaces-y-no-monorepo-tools-nx-turborepo","title":"\u00bfPor qu\u00e9 npm workspaces y no monorepo tools (Nx, Turborepo)?","text":"<p>Razones: - Nativo de npm, cero config adicional - Suficiente para compartir c\u00f3digo entre apps - Menos complejidad de tooling</p> <p>Trade-off aceptable: Sin build caching avanzado (no cr\u00edtico por ahora)</p>"},{"location":"architecture/OVERVIEW/#por-que-single-db-con-prefijos-y-no-dbs-separadas","title":"\u00bfPor qu\u00e9 Single DB con prefijos y no DBs separadas?","text":"<p>Razones: - Relaciones cross-module (User compartido) - Migrations unificadas - Queries cross-module posibles (analytics) - Backup/restore simplificado</p> <p>Trade-off aceptable: Menos aislamiento (OK para apps del mismo usuario)</p>"},{"location":"architecture/OVERVIEW/#patrones-comunes","title":"\ud83d\udd0d Patrones Comunes","text":""},{"location":"architecture/OVERVIEW/#compartir-validaciones-zod","title":"Compartir Validaciones Zod","text":"<pre><code>// backend/src/shared/validations/common.ts\nexport const emailSchema = z.string().email()\nexport const passwordSchema = z.string().min(6)\n\n// frontend/shared/lib/validations.ts\nexport { emailSchema, passwordSchema } from '../../backend/src/shared/validations/common'\n// (o copiar con type generation)\n</code></pre>"},{"location":"architecture/OVERVIEW/#pagination-pattern","title":"Pagination Pattern","text":"<p>Todos los listados paginados siguen:</p> <pre><code>// Backend\nrouter.get('/', async (req, res) =&gt; {\n  const { skip, take } = req.query\n  const [data, total] = await prisma.$transaction([\n    prisma.item.findMany({ skip, take }),\n    prisma.item.count()\n  ])\n  res.json({ data, pagination: { total, limit: take, offset: skip } })\n})\n\n// Frontend\nconst { currentPage, getPaginationParams, setTotalItems } = usePagination(100)\nconst params = getPaginationParams() // { skip: 0, take: 100 }\n// fetch con params...\nsetTotalItems(response.pagination.total)\n</code></pre>"},{"location":"architecture/OVERVIEW/#layout-pattern","title":"Layout Pattern","text":"<pre><code>// Cada app\n&lt;ThemeProvider theme={appTheme}&gt;\n  &lt;SharedDashboardLayout \n    menuItems={moduleSpecificMenu}\n    appName={appTheme.app.name}\n  /&gt;\n&lt;/ThemeProvider&gt;\n</code></pre>"},{"location":"architecture/OVERVIEW/#recursos","title":"\ud83d\udcda Recursos","text":"<ul> <li>DATABASE.md - Schema detallado</li> <li>FRONTEND.md - Next.js, shared code</li> <li>BACKEND.md - Express, Prisma, m\u00f3dulos</li> <li>../ONBOARDING.md - Setup para nuevos devs</li> </ul> <p>Documentaci\u00f3n de arquitectura creada: 2026-01-25</p>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/","title":"\ud83d\udd0d AUDITOR\u00cdA COMPLETA - ARQUITECTURA ALACENA","text":"<p>Fecha: 2026-01-17 Objetivo: Verificar alineaci\u00f3n de herramientas, configuraciones y eliminar restos de servicios anteriores</p>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#estado-actual-del-sistema","title":"\u2705 ESTADO ACTUAL DEL SISTEMA","text":""},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#arquitectura-final-confirmada","title":"\ud83c\udfd7\ufe0f ARQUITECTURA FINAL (CONFIRMADA)","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Frontend              \u2502\n\u2502   Vercel (Next.js 15)   \u2502\n\u2502   https://alacena-app   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502 (API calls)\n             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Backend               \u2502\n\u2502   Fly.io (Express)      \u2502\n\u2502   https://alacena-...   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n             \u2502 (Queries)\n             \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   Database              \u2502\n\u2502   Supabase PostgreSQL   \u2502\n\u2502   IPv6 (Buenos Aires)   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#dependencias-backend","title":"\ud83d\udce6 DEPENDENCIAS - BACKEND","text":"<p>File: <code>backend/package.json</code></p> Dependencia Versi\u00f3n Estado Nota <code>@prisma/client</code> ^6.19.2 \u2705 OK Prisma v7 (moderno) <code>@prisma/adapter-pg</code> ^7.2.0 \u26a0\ufe0f VERIFICAR Para PostgreSQL <code>prisma</code> ^6.19.2 \u26a0\ufe0f DESALINEADA Versi\u00f3n CLI <code>express</code> ^5.2.1 \u2705 OK Moderno <code>cors</code> ^2.8.5 \u2705 OK CORS habilitado <code>pg</code> ^8.17.0 \u2705 OK Driver PostgreSQL <code>dotenv</code> ^17.2.3 \u2705 OK Env vars <p>\u26a0\ufe0f PROBLEMA DETECTADO: - <code>@prisma/client</code> es v6 pero <code>prisma</code> CLI es v6 - esto deber\u00eda estar alineado - <code>@prisma/adapter-pg</code> es v7 pero client es v6 - INCONSISTENCIA</p> <p>Recomendaci\u00f3n: Actualizar todo a Prisma v7</p>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#dependencias-frontend","title":"\ud83d\udce6 DEPENDENCIAS - FRONTEND","text":"<p>File: <code>frontend/alacena-app/package.json</code></p> Dependencia Versi\u00f3n Estado Nota <code>next</code> ^15.1.0 \u2705 OK \u00daltima versi\u00f3n <code>react</code> ^18.2.0 \u2705 OK Compatible <code>typescript</code> ^5.3.3 \u2705 OK Moderno <code>tailwindcss</code> ^3.4.1 \u2705 OK OK <p>Estado: \u2705 OK - Todo alineado</p>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#prisma-schema-migrations","title":"\ud83d\uddc4\ufe0f PRISMA - SCHEMA &amp; MIGRATIONS","text":"<p>File: <code>backend/prisma/schema.prisma</code></p> <pre><code>generator client {\n  provider = \"prisma-client-js\"\n}\n\ndatasource db {\n  provider = \"postgresql\"\n  url      = env(\"DATABASE_URL\")\n}\n</code></pre> <p>Estado: \u2705 OK - Provider: PostgreSQL \u2705 - Datasource: Correctamente configurado \u2705 - URL: env(\"DATABASE_URL\") - Obtenido de Fly.io secrets \u2705</p> <p>Migrations: <pre><code>\u2705 backend/prisma/migrations/20260117002524_init/\n\u26a0\ufe0f backend/prisma/migrations_sqlite_backup/        (ANTIGUO - SQLite)\n\u26a0\ufe0f backend/prisma/migrations_sqlite_backup_renamed/ (ANTIGUO - SQLite)\n</code></pre></p> <p>\u26a0\ufe0f LIMPIEZA NECESARIA: - Las carpetas <code>migrations_sqlite_backup*</code> deber\u00edan ser removidas - Son restos de cuando probaban SQLite localmente</p>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#docker-dockerfile","title":"\ud83d\udc33 DOCKER - DOCKERFILE","text":"<p>File: <code>Dockerfile</code> (ra\u00edz del proyecto)</p> <pre><code>FROM node:20-alpine AS builder      \u2705 OK - Alpine es peque\u00f1o\nRUN npm ci                          \u2705 OK - Determin\u00edstico\nRUN npm run prisma:generate         \u2705 OK - Genera client\nEXPOSE 3001                         \u2705 OK\nHEALTHCHECK                         \u2705 OK - Health checks\n</code></pre> <p>Estado: \u2705 OK - Multistage build: \u2705 - Prisma Client generado: \u2705 - Health checks: \u2705</p>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#flyio-flytoml","title":"\ud83d\ude80 FLY.IO - fly.toml","text":"<p>File: <code>fly.toml</code></p> <pre><code>app = \"alacena-backend\"\nprimary_region = \"gru\"              \u2705 S\u00e3o Paulo (cercano a Argentina)\ninternal_port = 3001                \u2705 OK\nNODE_ENV = \"production\"             \u2705 OK\nPORT = \"3001\"                       \u2705 OK\n</code></pre> <p>Estado: \u2705 OK - App name: correcto - Region: optimizado - Puertos: correctos</p>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#variables-de-entorno","title":"\ud83d\udd10 VARIABLES DE ENTORNO","text":""},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#backend-flyio-secrets","title":"Backend (Fly.io secrets)","text":"<pre><code>\u2705 DATABASE_URL = postgresql://postgres:DjDK6YNUopieqRGW@[IPv6]:5432/postgres?schema=public\n</code></pre>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#frontend-vercel-environment-variables","title":"Frontend (Vercel Environment Variables)","text":"<pre><code>\u2705 NEXT_PUBLIC_API_URL = https://alacena-backend.fly.dev\n\u2705 NEXT_PUBLIC_SUPABASE_URL = https://&lt;tu-proyecto&gt;.supabase.co\n\u2705 NEXT_PUBLIC_SUPABASE_ANON_KEY = &lt;anon-key&gt;\n</code></pre> <p>Estado: \u2705 OK - DATABASE_URL: Actualizada con nueva contrase\u00f1a - API_URL: Apunta correctamente a Fly.io - CORS: Habilitado en backend</p>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#rutas-del-backend","title":"\ud83d\udee3\ufe0f RUTAS DEL BACKEND","text":"<p>File: <code>backend/src/app.js</code></p> <pre><code>\u2705 GET  /health                      (Health check)\n\u2705 GET  /api/reserves               (Lista)\n\u2705 GET  /api/items                  (Lista)\n\u2705 GET  /api/locations              (Lista)\n\u2705 GET  /api/menu-items             (Lista)\n\u2705 GET  /api/containers             (Lista)\n\u2705 GET  /api/batches                (Lista)\n</code></pre> <p>Estado: \u2705 OK - Todas las rutas implementadas - CORS habilitado en todas - Health check funcional</p>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#rutas-del-frontend","title":"\ud83c\udfa8 RUTAS DEL FRONTEND","text":"<p>File: <code>frontend/alacena-app/app/</code></p> <pre><code>\u2705 /                         (Home - OK)\n\u2705 /guest/menu              (Men\u00fa p\u00fablico - OK)\n\u26a0\ufe0f /dashboard               (En construcci\u00f3n - 404)\n   \u26a0\ufe0f /dashboard/items      (No existe)\n   \u26a0\ufe0f /dashboard/locations  (No existe)\n   \u26a0\ufe0f /dashboard/reserves   (No existe)\n   \u26a0\ufe0f /dashboard/menu       (No existe)\n</code></pre> <p>Estado: \u26a0\ufe0f PARCIAL - Home: \u2705 Funciona - Men\u00fa: \u2705 Funciona (conecta a backend) - Dashboard: \u274c Devuelve 404</p> <p>Causa del 404: - Layout Server Component + Page Client Component = conflicto - Simplificamos page.tsx pero layout.tsx a\u00fan puede causar problemas</p>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#configuracion-de-herramientas","title":"\ud83d\udd27 CONFIGURACI\u00d3N DE HERRAMIENTAS","text":""},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#nextjs-config","title":"Next.js Config","text":"<p>File: <code>frontend/alacena-app/next.config.js</code></p> <pre><code>const nextConfig = {\n  reactStrictMode: true,\n}\n</code></pre> <p>Estado: \u2705 OK - Removidas las env vars procesadas en config - Las variables se cargan desde Vercel Environment</p>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#vercel-config","title":"Vercel Config","text":"<p>File: <code>frontend/alacena-app/vercel.json</code></p> <pre><code>{\n    \"version\": 2,\n    \"buildCommand\": \"npm run build\",\n    \"devCommand\": \"npm run dev\"\n}\n</code></pre> <p>Estado: \u2705 OK - Root Directory: <code>frontend/alacena-app</code> (confirmado en Settings)</p>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#problemas-identificados","title":"\ud83d\udccb PROBLEMAS IDENTIFICADOS","text":"# Problema Severidad Ubicaci\u00f3n Soluci\u00f3n 1 Prisma client v6 + adapter v7 \u26a0\ufe0f ALTA backend/package.json Actualizar todo a v7 2 Migraciones SQLite antiguas \ud83d\udfe1 BAJA backend/prisma/migrations_* Eliminar carpetas backup 3 Dashboard devuelve 404 \ud83d\udd34 CR\u00cdTICA frontend/alacena-app/app/dashboard Revisar layout+page interaction 4 Subrutas dashboard no existen \ud83d\udfe1 MEDIA frontend/alacena-app/app/dashboard/* Crear pages para items, locations, etc"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#lista-de-verificacion-final","title":"\u2705 LISTA DE VERIFICACI\u00d3N FINAL","text":"<ul> <li> Backend compilable y deployado</li> <li> Frontend compilable y deployado</li> <li> Base de datos conectada correctamente</li> <li> Health check funcionando</li> <li> API /menu-items respondiendo datos</li> <li> Dashboard /dashboard accesible</li> <li> Todas las rutas del dashboard funcionando</li> <li> Prisma versiones alineadas</li> <li> Migraciones SQLite removidas</li> <li> Variables de entorno correctas</li> </ul>"},{"location":"archive/ARQUITECTURA-AUDIT-2026-01-17/#proximos-pasos","title":"\ud83c\udfaf PR\u00d3XIMOS PASOS","text":"<ol> <li>CR\u00cdTICO: Arreglar dashboard 404</li> <li>Revisar layout.tsx + page.tsx interaction</li> <li> <p>Possible: Remover layout.tsx y hacerlo diferente</p> </li> <li> <p>IMPORTANTE: Alinear Prisma v7</p> </li> <li> <p><code>npm install @prisma/client@latest prisma@latest @prisma/adapter-pg@latest</code></p> </li> <li> <p>LIMPIEZA: Remover carpetas de migrations viejas</p> </li> <li> <p>Eliminar <code>migrations_sqlite_backup*</code></p> </li> <li> <p>CONSTRUCCI\u00d3N: Crear pages del dashboard</p> </li> <li><code>/dashboard/items</code></li> <li><code>/dashboard/locations</code></li> <li><code>/dashboard/reserves</code></li> <li><code>/dashboard/menu</code></li> </ol> <p>Documentado: 2026-01-17 01:30 UTC Estado: AUDITOR\u00cdA EN PROGRESO</p>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/","title":"\ud83d\udd10 AUTENTICACI\u00d3N: Soluci\u00f3n MissingSecret en NextAuth v5 Edge Runtime","text":"<p>Fecha: 23 Enero 2026 Problema: Middleware no redirige a login - Error MissingSecret Soluci\u00f3n: Variables de entorno con prefijo <code>NEXT_PUBLIC_</code> Estado: \u2705 RESUELTO</p>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#contexto-del-problema","title":"\ud83d\udccc Contexto del Problema","text":""},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#sintomas-observados","title":"S\u00edntomas Observados","text":"<ol> <li>Acceso a http://localhost:3000 mostraba p\u00e1gina de men\u00fa en lugar de redirigir a login</li> <li>Logs del frontend mostraban repetidamente:    <pre><code>[auth][error] MissingSecret: Please define a `secret`\n</code></pre></li> <li>El middleware ejecutaba pero <code>req.auth</code> era un objeto error, no null:    <pre><code>req.auth valor: {\n  message: 'There was a problem with the server configuration. Check the server logs for more information.'\n}\n</code></pre></li> <li>Requests a <code>/api/auth/session</code> retornaban 500 error</li> </ol>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#causa-raiz-edge-runtime-vs-variables-de-entorno","title":"Causa Ra\u00edz: Edge Runtime vs Variables de Entorno","text":"<p>Arquitectura de Next.js 15: - Middleware: Corre en Edge Runtime (servidor Vercel Edge, no Node.js) - API Routes: Corren en Node.js Runtime (server tradicional) - Page Components: Corren en Browser (cliente)</p> <p>Problema espec\u00edfico: - Las variables de entorno sin <code>NEXT_PUBLIC_</code> solo est\u00e1n disponibles en Node.js Runtime - En Edge Runtime (donde corre <code>middleware.ts</code>), esas variables no existen - NextAuth v5 necesita acceso al <code>secret</code> en middleware para validar sesiones - Por eso: <code>process.env.AUTH_SECRET</code> retornaba <code>undefined</code> en middleware</p>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#por-que-funciono-despues","title":"Por qu\u00e9 Funcion\u00f3 Despu\u00e9s","text":"<p>La soluci\u00f3n tiene dos partes:</p>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#1-prefijo-next_public_-en-variables","title":"1. Prefijo <code>NEXT_PUBLIC_</code> en Variables","text":"<pre><code># Estas SOLO se cargan en Node.js Runtime (backend)\nAUTH_SECRET=valor\nNEXTAUTH_SECRET=valor\n\n# Estas se cargan en TODOS los runtimes (Edge, Node.js, Browser)\nNEXT_PUBLIC_AUTH_SECRET=valor\nNEXT_PUBLIC_NEXTAUTH_SECRET=valor\n</code></pre> <p>Ventaja de NEXT_PUBLIC_: - Accesible en middleware (Edge Runtime) \u2705 - Accesible en API routes (Node.js Runtime) \u2705 - Accesible en componentes del cliente (Browser) \u2705</p> <p>Desventaja: - Variables p\u00fablicas son visibles en el c\u00f3digo cliente (inseguro para producci\u00f3n) - Soluci\u00f3n: En producci\u00f3n usar secrets manager diferente</p>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#2-trusthost-true-en-authts","title":"2. <code>trustHost: true</code> en auth.ts","text":"<pre><code>export const { auth, handlers, signIn, signOut } = NextAuth({\n    trustHost: true,  // \u2190 Nuevo\n    secret: process.env.NEXT_PUBLIC_AUTH_SECRET || process.env.NEXT_PUBLIC_NEXTAUTH_SECRET || 'development-secret-key',\n    // ...\n})\n</code></pre> <p>Por qu\u00e9 es necesario: - NextAuth valida que el <code>NEXTAUTH_URL</code> coincida con el host actual - En desarrollo local (http://localhost:3000), esta validaci\u00f3n a veces falla - <code>trustHost: true</code> deshabilita la validaci\u00f3n en desarrollo - Importante: Solo usar en desarrollo, no en producci\u00f3n</p>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#archivos-modificados","title":"\ud83d\udd27 Archivos Modificados","text":""},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#1-frontendalacena-appenvlocal","title":"1. frontend/alacena-app/.env.local","text":"<pre><code># Backend API - Local Development\nNEXT_PUBLIC_API_URL=http://localhost:3001\n\n# NextAuth Configuration - Local Development\nNEXTAUTH_URL=http://localhost:3000\n- AUTH_SECRET=your-local-secret-key-development-2026\n- NEXTAUTH_SECRET=your-local-secret-key-development-2026\n+ NEXT_PUBLIC_AUTH_SECRET=your-local-secret-key-development-2026\n+ NEXT_PUBLIC_NEXTAUTH_SECRET=your-local-secret-key-development-2026\n</code></pre> <p>Cambio clave: Agregar prefijo <code>NEXT_PUBLIC_</code> a ambas variables de secreto.</p>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#2-frontendalacena-appauthts","title":"2. frontend/alacena-app/auth.ts","text":"<pre><code>export const { auth, handlers, signIn, signOut } = NextAuth({\n+   trustHost: true,\n-   secret: process.env.AUTH_SECRET || process.env.NEXTAUTH_SECRET,\n+   secret: process.env.NEXT_PUBLIC_AUTH_SECRET || process.env.NEXT_PUBLIC_NEXTAUTH_SECRET || 'development-secret-key',\n    providers: [\n</code></pre> <p>Cambios: 1. Agregar <code>trustHost: true</code> para confiar en localhost 2. Usar las nuevas variables con prefijo <code>NEXT_PUBLIC_</code> 3. Fallback a <code>'development-secret-key'</code> si ambas est\u00e1n undefined</p>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#3-frontendalacena-appmiddlewarets-sin-cambios-necesarios-pero-incluye-debug-logs","title":"3. frontend/alacena-app/middleware.ts (Sin cambios necesarios, pero incluye debug logs)","text":"<pre><code>export const middleware = auth((req) =&gt; {\n    console.log('\ud83d\udd0d MIDDLEWARE ejecut\u00e1ndose')\n    console.log('\ud83d\udccd Ruta accedida:', req.nextUrl.pathname)\n    console.log('\ud83d\udc64 req.auth existe?:', req.auth ? 'S\u00cd' : 'NO')\n\n    if (!req.auth &amp;&amp; req.nextUrl.pathname.startsWith('/dashboard')) {\n        console.log('\u274c Acceso a /dashboard sin autenticaci\u00f3n \u2192 Redirigiendo a /login')\n        const newUrl = new URL('/login', req.nextUrl.origin)\n        newUrl.searchParams.set('callbackUrl', req.nextUrl.pathname)\n        return Response.redirect(newUrl)\n    }\n\n    if (!req.auth &amp;&amp; req.nextUrl.pathname === '/') {\n        console.log('\u274c Acceso a / sin autenticaci\u00f3n \u2192 Redirigiendo a /login')\n        return Response.redirect(new URL('/login', req.nextUrl.origin))\n    }\n\n    console.log('\u2705 Acceso permitido')\n})\n</code></pre>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#pasos-de-implementacion","title":"\u2705 Pasos de Implementaci\u00f3n","text":""},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#paso-1-modificar-envlocal","title":"Paso 1: Modificar <code>.env.local</code>","text":"<pre><code># Editar c:\\Users\\Usuario\\alacena\\frontend\\alacena-app\\.env.local\n# Cambiar:\n# AUTH_SECRET \u2192 NEXT_PUBLIC_AUTH_SECRET\n# NEXTAUTH_SECRET \u2192 NEXT_PUBLIC_NEXTAUTH_SECRET\n</code></pre>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#paso-2-actualizar-authts","title":"Paso 2: Actualizar <code>auth.ts</code>","text":"<pre><code># Editar c:\\Users\\Usuario\\alacena\\frontend\\alacena-app\\auth.ts\n# L\u00ednea 7: A\u00f1adir trustHost: true\n# L\u00ednea 8: Cambiar secret a las nuevas variables\n</code></pre>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#paso-3-limpiar-y-reiniciar","title":"Paso 3: Limpiar y reiniciar","text":"<pre><code>cd frontend/alacena-app\nnpm cache clean --force\nnpm run dev\n</code></pre>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#resultado-esperado","title":"Resultado Esperado","text":"<pre><code>\u2713 Ready in 2.3s\n# SIN errores de MissingSecret\n# Acceso a http://localhost:3000 redirige a /login\n</code></pre>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#validacion","title":"\ud83e\uddea Validaci\u00f3n","text":""},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#test-1-redireccionamiento-a-login","title":"Test 1: Redireccionamiento a Login","text":"<pre><code>1. Abre http://localhost:3000 en navegador\n2. Esperado: Redirige a http://localhost:3000/login\n3. Resultado: \u2705 Funciona\n</code></pre>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#test-2-logs-limpios","title":"Test 2: Logs Limpios","text":"<pre><code>1. Abre terminal del frontend\n2. Busca: \"[auth][error] MissingSecret\"\n3. Resultado: \u2705 No aparece\n</code></pre>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#test-3-session-api","title":"Test 3: Session API","text":"<pre><code>1. Abre DevTools (F12) \u2192 Console\n2. Ejecuta: fetch('/api/auth/session').then(r =&gt; r.json())\n3. Esperado: Retorna sesi\u00f3n vac\u00eda (no autenticado)\n4. Resultado: \u2705 200 OK (no 500)\n</code></pre>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#consideraciones-de-seguridad","title":"\u26a0\ufe0f Consideraciones de Seguridad","text":""},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#desarrollo-local-actual","title":"Desarrollo Local (Actual)","text":"<ul> <li>\u2705 Variables con <code>NEXT_PUBLIC_</code> est\u00e1n expuestas en el cliente</li> <li>\u2705 OK porque es desarrollo local y credenciales son ficticias</li> <li>\u2705 <code>trustHost: true</code> es seguro en localhost</li> </ul>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#produccion-futuro","title":"Producci\u00f3n (Futuro)","text":"<ul> <li>\u274c NO usar <code>NEXT_PUBLIC_AUTH_SECRET</code> en producci\u00f3n</li> <li>\u2705 Usar secrets manager: Vercel Secrets, Fly.io Secrets, etc.</li> <li>\u2705 Usar variables privadas sin <code>NEXT_PUBLIC_</code></li> <li>\u2705 Remover <code>trustHost: true</code> (validar host correctamente)</li> </ul> <p>Ejemplo para Producci\u00f3n: <pre><code>secret: process.env.AUTH_SECRET, // Solo variable privada\ntrustHost: false, // Validaci\u00f3n estricta\n</code></pre></p>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#conceptos-clave","title":"\ud83d\udcda Conceptos Clave","text":""},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#edge-runtime-vs-nodejs-runtime","title":"Edge Runtime vs Node.js Runtime","text":"Aspecto Edge Runtime Node.js Runtime Ubicaci\u00f3n Servidores edge globales Servidor de app Acceso a archivos Limitado Completo Env vars sin NEXT_PUBLIC_ \u274c No \u2705 S\u00ed Env vars con NEXT_PUBLIC_ \u2705 S\u00ed \u2705 S\u00ed Performance \u26a1 Muy r\u00e1pido Moderado Uso Middleware, funciones edge API, SSR"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#orden-de-ejecucion-middleware","title":"Orden de Ejecuci\u00f3n (Middleware)","text":"<pre><code>1. Request llega a navegador \u2192 GET http://localhost:3000/\n2. Next.js intercepta en middleware.ts\n3. Middleware corre en Edge Runtime\n4. NextAuth() necesita process.env.AUTH_SECRET\n5. Si variable no est\u00e1 disponible \u2192 MissingSecret\n6. Si variable est\u00e1 disponible \u2192 Valida sesi\u00f3n\n7. Si sin autenticaci\u00f3n \u2192 Redirige a /login\n8. Si autenticado \u2192 Permite acceso\n</code></pre>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#proximos-pasos","title":"\ud83d\udd04 Pr\u00f3ximos Pasos","text":"<ul> <li> Testear login completo (intentar ingresar con admin@alacena.com / admin123)</li> <li> Verificar que dashboard se accede despu\u00e9s de login</li> <li> Testear logout</li> <li> Preparar configuraci\u00f3n de producci\u00f3n con secrets manager</li> <li> Documentar proceso de deployment con variables seguras</li> </ul>"},{"location":"archive/AUTENTICACION-FIX-23-ENERO/#referencias","title":"\ud83d\udcde Referencias","text":"<ul> <li>NextAuth.js v5 Docs: https://authjs.dev/</li> <li>Error MissingSecret: https://errors.authjs.dev#missingsecret</li> <li>Next.js Edge Runtime: https://nextjs.org/docs/api-routes/edge-api-routes</li> <li>Environment Variables: https://nextjs.org/docs/basic-features/environment-variables</li> </ul>"},{"location":"archive/DEPLOY-VERCEL/","title":"ALACENA - Instrucciones de Deploy a Vercel","text":""},{"location":"archive/DEPLOY-VERCEL/#paso-1-crear-repositorio-en-github","title":"Paso 1: Crear Repositorio en GitHub","text":"<ol> <li>Ve a https://github.com/new</li> <li>Nombre: <code>alacena</code> (o el que prefieras)</li> <li>Descripci\u00f3n: \"Sistema de gesti\u00f3n de cocina inteligente con QR y control de inventario\"</li> <li>Elige p\u00fablico (para poder deployar en Vercel free)</li> <li>Click en \"Create repository\"</li> </ol>"},{"location":"archive/DEPLOY-VERCEL/#paso-2-conectar-local-a-github","title":"Paso 2: Conectar Local a GitHub","text":"<p>Despu\u00e9s de crear el repo en GitHub, ver\u00e1s instrucciones. Ejecuta en tu terminal:</p> <pre><code>cd C:\\Users\\Usuario\\alacena\ngit remote add origin https://github.com/TU_USUARIO/alacena.git\ngit branch -M main\ngit push -u origin main\n</code></pre> <p>Reemplaza <code>TU_USUARIO</code> con tu usuario de GitHub.</p>"},{"location":"archive/DEPLOY-VERCEL/#paso-3-deploy-backend-en-vercel","title":"Paso 3: Deploy Backend en Vercel","text":"<ol> <li>Ve a https://vercel.com/new</li> <li>Importa tu repo GitHub (conecta GitHub si es necesario)</li> <li>Selecciona la carpeta <code>backend/</code></li> <li>En \"Environment Variables\", agrega:</li> <li>Nombre: <code>DATABASE_URL</code></li> <li>Valor: Tu conexi\u00f3n PostgreSQL de Supabase (la URL completa con credenciales)</li> <li>Click en \"Deploy\"</li> </ol> <p>URL resultante: <code>https://alacena-backend.vercel.app</code></p>"},{"location":"archive/DEPLOY-VERCEL/#paso-4-deploy-frontend-en-vercel","title":"Paso 4: Deploy Frontend en Vercel","text":"<ol> <li>Ve a https://vercel.com/new nuevamente</li> <li>Importa el mismo repo</li> <li>Selecciona la carpeta <code>frontend/alacena-app/</code></li> <li>En \"Environment Variables\", agrega:</li> <li>Nombre: <code>NEXT_PUBLIC_API_URL</code></li> <li>Valor: <code>https://alacena-backend.vercel.app</code> (la URL del backend que obtuviste en Paso 3)</li> <li>Click en \"Deploy\"</li> </ol> <p>URL resultante: <code>https://alacena-app.vercel.app</code> (o similar)</p>"},{"location":"archive/DEPLOY-VERCEL/#paso-5-configurar-cors-en-backend","title":"Paso 5: Configurar CORS en Backend","text":"<p>Una vez que tengas ambas URLs, actualiza <code>backend/src/app.js</code>:</p> <pre><code>const cors = require('cors');\nconst app = express();\n\napp.use(cors({\n  origin: ['http://localhost:3000', 'https://alacena-app.vercel.app']\n}));\n</code></pre> <p>Luego haz: <pre><code>git add -A\ngit commit -m \"chore: Actualizar CORS para Vercel URLs\"\ngit push\n</code></pre></p> <p>Vercel re-deployar\u00e1 autom\u00e1ticamente.</p>"},{"location":"archive/DEPLOY-VERCEL/#listo","title":"\u2705 Listo!","text":"<p>Tu ALACENA estar\u00e1 disponible en: - Frontend: https://alacena-app.vercel.app - API: https://alacena-backend.vercel.app - Men\u00fa P\u00fablico: https://alacena-app.vercel.app/guest/menu</p>"},{"location":"archive/DEPLOY-VERCEL/#troubleshooting","title":"Troubleshooting","text":"<p>Si algo falla: 1. Revisa los logs en Vercel dashboard 2. Verifica que DATABASE_URL sea correcta 3. Aseg\u00farate que NEXT_PUBLIC_API_URL no tenga trailing slash</p> <p>\u00a1\u00c9xito! \ud83d\ude80</p>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/","title":"ESTADO ACTUAL DEL PROYECTO ALACENA - 17 de Enero 2026","text":""},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#resumen-ejecutivo","title":"\ud83c\udfaf RESUMEN EJECUTIVO","text":"<p>El frontend en Vercel est\u00e1 100% funcional y operativo. El backend en Fly.io tiene un problema de conexi\u00f3n/inicio que necesita resoluci\u00f3n urgente.</p>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#lo-que-funciona","title":"\u2705 LO QUE FUNCIONA","text":""},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#frontend-vercel","title":"Frontend (Vercel)","text":"<ul> <li>URL: https://alacena-frontend.vercel.app</li> <li>\u2705 Build complet\u00f3 exitosamente</li> <li>\u2705 P\u00e1gina de login visible y accesible</li> <li>\u2705 Todas las variables de entorno configuradas:</li> <li><code>NEXTAUTH_URL</code> = <code>https://alacena-frontend.vercel.app</code></li> <li><code>NEXTAUTH_SECRET</code> = <code>MDg1NzhjYzAtODk4Mi00MzVhLTgzOWItMWFjNjExY2ZmNmQxOTZiNGRmYjItN2FlMS00NzViLWEzOWQtNjM4ZWY0ODQ5NzE5</code></li> <li><code>NEXT_PUBLIC_API_URL</code> = <code>https://alacena-backend.fly.dev</code></li> <li>\u2705 Rutas protegidas funcionan (require login)</li> <li>\u2705 Dashboard layout y componentes listos</li> </ul>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#base-de-datos-supabase","title":"Base de Datos (Supabase)","text":"<ul> <li>\u2705 Usuario de prueba creado: <code>demo@alacena.com</code> / <code>admin123</code></li> <li>\u2705 Conexi\u00f3n desde local funciona correctamente</li> <li>\u2705 Seed ejecutado exitosamente</li> </ul>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#lo-que-no-funciona","title":"\u274c LO QUE NO FUNCIONA","text":""},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#backend-flyio","title":"Backend (Fly.io)","text":"<ul> <li>URL: https://alacena-backend.fly.dev</li> <li>\u274c El servidor NO est\u00e1 respondiendo (502/503 errors)</li> <li>\u274c Endpoint <code>/api/auth/login</code> retorna \"Ruta no encontrada\" (404)</li> <li>\u274c Endpoint <code>/health</code> retorna error 502</li> </ul> <p>PROBLEMA RA\u00cdZ IDENTIFICADO: El servidor Node.js en Fly.io no est\u00e1 inici\u00e1ndose correctamente. Probablemente: 1. Hay error al cargar m\u00f3dulos 2. DATABASE_URL no est\u00e1 siendo reconocida 3. Prisma Client no se inicializa correctamente</p>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#cambios-realizados-en-esta-sesion","title":"\ud83d\udd27 CAMBIOS REALIZADOS EN ESTA SESI\u00d3N","text":""},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#commits-en-github","title":"Commits en GitHub","text":"<pre><code>568497d - fix: simplify dockerfile cmd to only start server\nda491a7 - fix: correct seed filename in dockerfile cmd\n3a6c569 - fix: add database url to fly.toml\n5303d50 - fix: listen on 0.0.0.0 for fly.io deployment\n484a1c5 - feat: add demo user to database seed\n2d89df3 - chore: force rebuild to clear vercel cache\n</code></pre>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#backend-src","title":"Backend (src/)","text":"<ul> <li>\u2705 <code>server.js</code> - Modificado para escuchar en <code>0.0.0.0:3001</code></li> <li>\u2705 <code>server.js</code> - Agregado error handling y logging</li> <li>\u2705 <code>app.js</code> - Agregado endpoint <code>/test</code> para debugging</li> <li>\u2705 <code>prisma/seed.js</code> - Agregado usuario demo (<code>demo@alacena.com</code>)</li> </ul>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#configuracion-flyio","title":"Configuraci\u00f3n Fly.io","text":"<ul> <li>\u2705 <code>fly.toml</code> - Agregadas variables de entorno:</li> <li><code>DATABASE_URL</code></li> <li><code>JWT_SECRET</code></li> <li><code>NODE_ENV = production</code></li> <li><code>PORT = 3001</code></li> </ul>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#dockerfile","title":"Dockerfile","text":"<ul> <li>\u2705 Actualizado para copiar <code>seed.js</code> correcto</li> <li>\u2705 Simplificado CMD a solo: <code>node src/server.js</code></li> </ul>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#problema-pendiente-a-resolver","title":"\ud83d\udea8 PROBLEMA PENDIENTE A RESOLVER","text":""},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#el-backend-no-inicia-en-flyio","title":"El Backend no inicia en Fly.io","text":"<p>Lo que hemos intentado: 1. \u2705 Cambiar listen a <code>0.0.0.0</code> 2. \u2705 Agregar DATABASE_URL y JWT_SECRET a fly.toml 3. \u2705 Corregir referencias a archivos en Dockerfile 4. \u2705 Simplificar el CMD 5. \u274c A\u00fan no funciona</p> <p>Lo que NO podemos ver: - Los logs de Fly.io (necesitar\u00eda <code>flyctl logs</code> en terminal) - El error exacto de por qu\u00e9 no inicia</p> <p>Pr\u00f3ximas soluciones a intentar: 1. Instalar <code>flyctl</code> completamente y ejecutar <code>flyctl logs alacena-backend</code> para ver error exacto 2. Probar si es problema de Prisma: agregar validaci\u00f3n simple antes de inicializar rutas 3. Verificar que el puerto 3001 est\u00e9 realmente abierto 4. Considerar usar variables de entorno como secretos en Fly.io en lugar de en fly.toml</p>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#credenciales-importantes","title":"\ud83d\udccb CREDENCIALES IMPORTANTES","text":"<pre><code>\ud83d\udd10 Database (Supabase):\n- Host: [2600:1f18:2e13:9d1c:faba:208:6f00:de21]\n- User: postgres\n- Password: DjDK6YNUopieqRGW\n- Database: postgres\n\n\ud83d\udc64 Usuario de Prueba:\n- Email: demo@alacena.com\n- Password: admin123\n\n\ud83d\udd11 JWT Secret (Fly.io):\n- your-super-secret-jwt-key-change-in-production\n\n\ud83d\udd10 NextAuth Secret (Vercel):\n- MDg1NzhjYzAtODk4Mi00MzVhLTgzOWItMWFjNjExY2ZmNmQxOTZiNGRmYjItN2FlMS00NzViLWEzOWQtNjM4ZWY0ODQ5NzE5\n</code></pre>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#rutas-y-archivos-clave","title":"\ud83d\udccd RUTAS Y ARCHIVOS CLAVE","text":"<pre><code>Frontend:\n- /frontend/alacena-app/auth.ts - Configuraci\u00f3n NextAuth\n- /frontend/alacena-app/app/login/page.tsx - P\u00e1gina de login (FIXED con Suspense)\n- /frontend/alacena-app/app/dashboard/ - Dashboard pages\n\nBackend:\n- /backend/src/server.js - Servidor Express\n- /backend/src/app.js - Setup de rutas\n- /backend/src/routes/auth.routes.js - Rutas de autenticaci\u00f3n\n- /backend/src/controllers/auth.controller.js - L\u00f3gica de login\n- /backend/Dockerfile - Build instructions para Fly.io\n- /backend/fly.toml - Configuraci\u00f3n de Fly.io\n- /backend/prisma/seed.js - Inicializaci\u00f3n de datos\n\nConfiguraci\u00f3n:\n- /fly.toml - Config ra\u00edz para Fly.io\n- /.env (local) - Variables locales\n</code></pre>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#urls-importantes","title":"\ud83d\udd17 URLS IMPORTANTES","text":"<pre><code>Frontend en Producci\u00f3n:\nhttps://alacena-frontend.vercel.app\nhttps://alacena-frontend.vercel.app/login\n\nBackend en Producci\u00f3n (BROKEN):\nhttps://alacena-backend.fly.dev\nhttps://alacena-backend.fly.dev/health (da error 502)\nhttps://alacena-backend.fly.dev/api/auth/login (da error 502)\n\nBackend Local (para testing):\nhttp://localhost:3001\nhttp://localhost:3001/health\nhttp://localhost:3001/api/auth/login\n</code></pre>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#estado-por-componente","title":"\ud83d\udcca ESTADO POR COMPONENTE","text":"Componente Estado Notas Frontend UI \u2705 OK Todo renderiza, login visible Frontend Auth Config \u2705 OK NextAuth est\u00e1 configurado Vercel Build \u2705 OK Compila sin errores Vercel Env Vars \u2705 OK Las 3 variables configuradas Database (Supabase) \u2705 OK Conecta, usuario creado Backend Code \u2705 OK C\u00f3digo compila localmente Backend Local (npm start) \u2705 OK Funciona en localhost:3001 Backend Fly.io Deploy \u274c BROKEN No inicia, 502 errors Backend Fly.io Connection \u274c BROKEN No responde a requests"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#proximos-pasos","title":"\ud83c\udfac PR\u00d3XIMOS PASOS","text":""},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#sesion-siguiente-urgente","title":"Sesi\u00f3n Siguiente (URGENTE):","text":"<ol> <li> <p>VER LOGS DE FLY.IO <pre><code>flyctl logs alacena-backend\n</code></pre>    Esto mostrar\u00e1 por qu\u00e9 no inicia.</p> </li> <li> <p>Si el error es de Prisma:</p> </li> <li>Verificar que <code>prisma/.fly.io</code> tenga acceso a BD</li> <li> <p>O hacer migrate en Fly.io manualmente</p> </li> <li> <p>Si el error es de m\u00f3dulo:</p> </li> <li>Revisar dependencias en <code>package.json</code></li> <li> <p>Reinstalar con <code>npm ci</code></p> </li> <li> <p>Si todo falla:</p> </li> <li>Considerar usar Vercel para ambos (frontend + backend API routes)</li> <li>O volver a Railway/Heroku que son m\u00e1s simples</li> </ol>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#contexto-anterior-sesiones-pasadas","title":"\ud83d\udca1 CONTEXTO ANTERIOR (SESIONES PASADAS)","text":"<ul> <li>\u2705 Arreglada la pantalla de login con <code>useSearchParams</code> en Suspense boundary (commit b47753e)</li> <li>\u2705 Optimizado dashboard: 100 items \u2192 50 items por p\u00e1gina</li> <li>\u2705 Mejorado error handling: ahora muestra errores espec\u00edficos vs gen\u00e9ricos</li> <li>\u2705 Arreglados m\u00faltiples errores de TypeScript y JSX</li> <li>\u2705 Configuradas todas las variables de entorno en Vercel</li> </ul>"},{"location":"archive/ESTADO-ACTUAL-17-01-2026/#nota-importante","title":"\ud83d\udcdd NOTA IMPORTANTE","text":"<p>El usuario <code>demo@alacena.com</code> ya est\u00e1 creado en la BD de Supabase (verificado con seed local). Cuando el backend funcione, el login funcionar\u00e1 inmediatamente.</p> <p>\u00daltima actualizaci\u00f3n: 17 de Enero de 2026, 06:30 UTC Pr\u00f3xima acci\u00f3n: Ver logs de Fly.io y arreglar el error de inicio del backend</p>"},{"location":"conversaciones/2026-01-12--alacena-chat/","title":"Conversaci\u00f3n: ALACENA \u2014 2026-01-12","text":"<p>Fecha: 2026-01-12 Participantes: Usuario, GitHub Copilot</p>"},{"location":"conversaciones/2026-01-12--alacena-chat/#resumen-corto","title":"\ud83d\udd16 Resumen corto","text":"<ul> <li>Decisi\u00f3n de arquitectura: Next.js + Prisma + Postgres (Supabase) + Vercel.</li> <li>Objetivo inmediato: configurar Prisma con la DB en Supabase y permitir migraciones/seed para poder exponer una carta p\u00fablica por QR.</li> </ul>"},{"location":"conversaciones/2026-01-12--alacena-chat/#acciones-realizadas","title":"\u2705 Acciones realizadas","text":"<ul> <li>Actualic\u00e9 <code>backend/.env</code> para usar la connection string de Supabase (valor redactado por seguridad).   <p>Nota: nunca commitear credenciales; .env est\u00e1 en <code>.gitignore</code>.</p> </li> <li>Ajust\u00e9 <code>prisma/schema.prisma</code> (cambi\u00e9 el generator a <code>prisma-client-js</code> y remov\u00ed <code>url</code> porque la config de Prisma v7 usa <code>prisma.config.ts</code>).</li> <li>A\u00f1ad\u00ed <code>prisma/seed.js</code> con datos m\u00ednimos (Location, ContainerType, Item, MenuItem) para seedear la DB.</li> <li>A\u00f1ad\u00ed scripts en <code>backend/package.json</code> para <code>prisma:generate</code>, <code>prisma:migrate</code>, <code>prisma:seed</code> y <code>prisma:studio</code>.</li> <li>Ejecut\u00e9 <code>prisma generate</code> con \u00e9xito (cliente generado).</li> <li>Intent\u00e9 <code>prisma migrate</code> contra la DB de Supabase y obtuve errores:</li> <li>Autenticaci\u00f3n inicial (P1000) debido a contrase\u00f1a con caracteres especiales \u2192 la contrase\u00f1a fue URL-encoded y actualic\u00e9 <code>.env</code> (valor redactado). Tras esto la conexi\u00f3n s\u00ed alcanz\u00f3 el servidor.</li> <li>Error P3019: el historial de migraciones actual era de SQLite, por lo que hay que iniciar un nuevo historial de migraci\u00f3n para Postgres. Intent\u00e9 renombrar <code>prisma/migrations</code> a <code>migrations_sqlite_backup</code> pero Windows devolvi\u00f3 <code>Acceso denegado</code> al renombrar.</li> </ul>"},{"location":"conversaciones/2026-01-12--alacena-chat/#pendientes-proximos-pasos-prioridad","title":"\u26a0\ufe0f Pendientes / Pr\u00f3ximos pasos (prioridad)","text":"<ol> <li>Renombrar/respaldar la carpeta <code>prisma/migrations</code> local (por permisos).  </li> <li>Acci\u00f3n del usuario: cerrar VS Code, abrir PowerShell como Administrador y renombrar la carpeta o ejecutar los comandos <code>takeown</code>/<code>icacls</code> si hace falta.</li> <li>Una vez renombrada, correr desde <code>backend/</code>:</li> <li><code>npm.cmd run prisma:migrate --name init</code></li> <li><code>npm.cmd run prisma:seed</code> </li> <li>Crear la ruta p\u00fablica de la carta en Next.js (<code>/guest/menu</code>) y generar QR.</li> </ol>"},{"location":"conversaciones/2026-01-12--alacena-chat/#notas-de-procedimiento-guardar-chats","title":"\ud83d\udca1 Notas de procedimiento (guardar chats)","text":"<ul> <li>Para preservar decisiones y evitar p\u00e9rdida de contexto, convenci\u00f3n adoptada: guardar cada sesi\u00f3n en <code>docs/conversaciones/YYYY-MM-DD--titulo.md</code> y commitear al repo.</li> <li>Contenido de los archivos de conversaci\u00f3n: resumen, decisiones, pasos realizados, comandos ejecutados, y referencias a commits/PRs (sin secrets).</li> </ul>"},{"location":"conversaciones/2026-01-12--alacena-chat/#registro-de-cambios-locales-acciones-realizadas-por-este-asistente","title":"Registro de cambios locales (acciones realizadas por este asistente)","text":"<ul> <li>Cre\u00e9: <code>docs/conversaciones/2026-01-12--alacena-chat.md</code> (este archivo)</li> <li>Modifiqu\u00e9: <code>backend/.env</code> (con credentials redactadas en el archivo, pero no inclu\u00ed aqu\u00ed), <code>backend/package.json</code>, <code>backend/prisma/schema.prisma</code>, <code>backend/prisma/seed.js</code>.</li> </ul> <p>Si quer\u00e9s, el siguiente paso inmediato es que intentes renombrar la carpeta <code>prisma/migrations</code> (solo eso); avisame cuando lo hayas hecho y procedemos con la migraci\u00f3n.  </p> <p>Archivo generado autom\u00e1ticamente por GitHub Copilot el 2026-01-12.</p>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/","title":"Sesi\u00f3n 6 - Sprint 0 D\u00eda 1 (Extendida)","text":"<p>Fecha: 5 de febrero de 2026 Duraci\u00f3n: ~270 minutos (4.5 horas - sesi\u00f3n extendida) Objetivo: Documentar workflow GitHub + Fix encoding + Redise\u00f1o docs + Backlog masivo</p>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#objetivos-cumplidos","title":"\ud83c\udfaf Objetivos Cumplidos","text":""},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#1-procedimientos-y-workflow","title":"1. Procedimientos y Workflow \u2705","text":"<ul> <li> Documentar procedimiento completo de cierre de historias/issues</li> <li> Workflow: Docs \u2192 GitHub \u2192 Desarrollo \u2192 PR \u2192 Cierre</li> <li> Convenciones de commits establecidas</li> <li> Troubleshooting encoding UTF-8 en GitHub API</li> </ul> <p>Archivos: <code>docs/procedimientos.md</code></p>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#2-fix-encoding-issues","title":"2. Fix Encoding Issues \u2705","text":"<ul> <li> Script PowerShell con <code>charset=utf-8</code> en headers</li> <li> 8 issues corregidos (#20, #22, #24, #28, #31, #32, #33, #35)</li> <li> Tildes y caracteres especiales arreglados</li> </ul> <p>Script: <code>.temp-issues/fix-issue-titles.ps1</code></p>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#3-rediseno-documentacion","title":"3. Redise\u00f1o Documentaci\u00f3n \u2705","text":"<ul> <li> Homepage ultra-minimal (70 l\u00edneas vs 403 anterior)</li> <li> Tono cambiado: de \"marketing\" a \"proyecto personal\"</li> <li> Tech stack visible con badges</li> <li> Navegaci\u00f3n simplificada: 4 secciones (vs 7 anteriores)</li> <li> Eliminado announcement bar</li> </ul> <p>Cambios: - <code>docs/index.md</code> - Reescrito completo - <code>docs/stylesheets/extra.css</code> - Estilos minimalistas - <code>mkdocs.yml</code> - Navegaci\u00f3n flat sin tabs</p>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#4-generacion-masiva-de-historias","title":"4. Generaci\u00f3n Masiva de Historias \u2705","text":"<ul> <li> 161 historias creadas y documentadas</li> <li> Distribuci\u00f3n en 12 m\u00f3dulos/\u00e9picas</li> <li> Incluye APIs GraphQL para IA</li> <li> Agente conversacional con comandos voz</li> <li> Integraci\u00f3n Home Assistant</li> <li> Multi-usuario, Notificaciones, Backups</li> </ul> <p>Archivo: <code>docs/04-planificacion/historias-completas-150.md</code></p>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#5-creacion-masiva-de-issues-github","title":"5. Creaci\u00f3n Masiva de Issues GitHub \u2705","text":"<ul> <li> 77 issues creados (#36-#112)</li> <li> Script PowerShell automatizado</li> <li> Labels: prioridad, estimaci\u00f3n, m\u00f3dulo</li> <li> Encoding UTF-8 corregido con <code>[System.Text.Encoding]::UTF8.GetBytes()</code></li> <li> Links bidireccionales docs \u2194 GitHub</li> </ul> <p>Scripts: - <code>.temp-issues/create-bulk-issues-final.ps1</code> - <code>.temp-issues/update-docs-with-issues.ps1</code></p>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#6-flujo-de-gestion","title":"6. Flujo de Gesti\u00f3n \u2705","text":"<ul> <li> Documentar workflow completo de historias</li> <li> Opciones: crear TODO el backlog vs solo priorizadas</li> <li> Milestones, Labels, Projects configuraci\u00f3n</li> <li> Scripts de mantenimiento</li> </ul> <p>Archivo: <code>docs/04-planificacion/flujo-gestion-historias.md</code></p>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#metricas-de-la-sesion","title":"\ud83d\udcca M\u00e9tricas de la Sesi\u00f3n","text":"M\u00e9trica Valor Historias creadas 161 Issues GitHub creados 77 (#36-#112) Issues corregidos (encoding) 8 Archivos creados 8 Archivos modificados 5 Commits 10 L\u00edneas de c\u00f3digo/docs ~2500 Scripts PowerShell 4"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#distribucion-de-historias-161-total","title":"\ud83d\udce6 Distribuci\u00f3n de Historias (161 total)","text":"M\u00f3dulo/\u00c9pica Historias Issues Creados MANTIA - Gesti\u00f3n Tareas 20 13 nuevos ALACENA - Inventario 22 16 nuevos Lista de Compras 18 10 nuevos ECOSALUD - Salud 20 13 nuevos API para IA 15 11 nuevos Agente Conversacional 12 3 nuevos Multi-usuario/Roles 10 1 nuevo Notificaciones 10 - Backups/Exportaci\u00f3n 8 4 nuevos Seguridad/Admin 8 1 nuevo UX/Onboarding 10 4 nuevos Infraestructura 8 1 nuevo"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#decisiones-tecnicas","title":"\ud83d\udca1 Decisiones T\u00e9cnicas","text":""},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#encoding-utf-8","title":"Encoding UTF-8","text":"<p>Problema: GitHub API rechazaba JSON con tildes/\u00f1 Soluci\u00f3n: Convertir a bytes UTF-8 antes de enviar <pre><code>$utf8Data = [System.Text.Encoding]::UTF8.GetBytes($jsonString)\nInvoke-RestMethod -Body $utf8Data\n</code></pre></p>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#regex-para-parsing-markdown","title":"Regex para Parsing Markdown","text":"<p>Problema: Tilde \"\u00f3\" en \"Estimaci\u00f3n\" no matcheaba Soluci\u00f3n: Construir pattern din\u00e1micamente <pre><code>$est = \"Estimaci\" + [char]243 + \"n\"  # Unicode 243 = \u00f3\n</code></pre></p>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#workflow-de-historias","title":"Workflow de Historias","text":"<p>Decisi\u00f3n: Crear TODO el backlog (161 historias) en GitHub Raz\u00f3n: Visibilidad completa, f\u00e1cil filtrar por labels, colaboraci\u00f3n</p>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#cambios-visuales","title":"\ud83c\udfa8 Cambios Visuales","text":""},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#homepage-redisenada","title":"Homepage Redise\u00f1ada","text":"<p>Antes: - 403 l\u00edneas - 7 secciones de navegaci\u00f3n - Frases marketing (\"Sistema integral...\") - Hero section complejo</p> <p>Despu\u00e9s: - 70 l\u00edneas (-82%) - 4 secciones navegaci\u00f3n - Tono personal (\"Proyecto para aprender...\") - Hero minimalista con 2 botones - Tech stack con badges</p>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#css-minimalista","title":"CSS Minimalista","text":"<ul> <li><code>.hero-minimal</code> - Gradient h1</li> <li><code>.btn-primary/secondary</code> - Botones con hover</li> <li><code>.tech-stack</code> - Badges con scale hover</li> <li><code>.role-card</code> - Cards con translateY hover</li> </ul>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#scripts-creados","title":"\ud83d\udd27 Scripts Creados","text":""},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#1-fix-issue-titlesps1","title":"1. fix-issue-titles.ps1","text":"<ul> <li>Corrige encoding en 8 issues existentes</li> <li>Headers con <code>charset=utf-8</code></li> </ul>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#2-create-bulk-issues-finalps1","title":"2. create-bulk-issues-final.ps1","text":"<ul> <li>Parsea <code>historias-completas-150.md</code></li> <li>Crea issues v\u00eda GitHub API</li> <li>Maneja encoding UTF-8 correctamente</li> <li>Skip historias ya creadas (usa mapeo JSON)</li> <li>Par\u00e1metros: <code>-DryRun</code>, <code>-SkipConfirm</code></li> </ul>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#3-update-docs-with-issuesps1","title":"3. update-docs-with-issues.ps1","text":"<ul> <li>Actualiza Markdown con n\u00fameros de issue</li> <li>Regex replace: <code>**CODIGO: Titulo**</code> \u2192 <code>**CODIGO: Titulo** (#XX)</code></li> </ul>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#commit-history","title":"\ud83d\udcdd Commit History","text":"<ol> <li><code>997c7fa</code> - refactor(docs): redise\u00f1o minimalista + procedimientos + fix encoding</li> <li><code>fcf7365</code> - feat(planning): agregar 77 historias completas + flujo gestion</li> </ol>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#proximos-pasos-sesion-7","title":"\ud83d\ude80 Pr\u00f3ximos Pasos (Sesi\u00f3n 7)","text":""},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#prioridades-inmediatas","title":"Prioridades Inmediatas","text":"<ol> <li>Crear Milestones en GitHub</li> <li>v0.1 MVP (CRUD b\u00e1sicos)</li> <li>v0.2 APIs IA</li> <li>v0.3 Multi-usuario</li> <li> <p>v1.0 Completo</p> </li> <li> <p>Planificar Sprint 2</p> </li> <li>Elegir 10-15 historias prioritarias</li> <li>Asignar a milestone</li> <li> <p>Definir DoD (Definition of Done)</p> </li> <li> <p>Validar Arquitectura APIs GraphQL</p> </li> <li>Schema para queries conversacionales</li> <li>Mutations para agente IA</li> <li>Subscriptions real-time</li> </ol>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#ideas-para-explorar","title":"Ideas para Explorar","text":"<ul> <li>Dashboard de m\u00e9tricas (velocity, burndown)</li> <li>GitHub Actions para CI/CD</li> <li>Preview deployments autom\u00e1ticos</li> <li>Tests E2E con Playwright</li> </ul>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#aprendizajes","title":"\ud83c\udf93 Aprendizajes","text":""},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#powershell","title":"PowerShell","text":"<ul> <li>Encoding UTF-8 requiere conversi\u00f3n expl\u00edcita a bytes</li> <li>Regex con caracteres Unicode: usar <code>[char]XXX</code></li> <li><code>ConvertTo-Json -Compress</code> mejora performance</li> </ul>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#github-api","title":"GitHub API","text":"<ul> <li>Rate limiting: 5000 requests/hora (autenticado)</li> <li>Charset en headers cr\u00edtico para UTF-8</li> <li>Labels pueden automatizar workflows</li> </ul>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#documentacion","title":"Documentaci\u00f3n","text":"<ul> <li>Menos es m\u00e1s: 70 l\u00edneas &gt; 403 l\u00edneas</li> <li>Tono personal &gt; marketing</li> <li>Visual minimal &gt; sobrecarga informaci\u00f3n</li> </ul>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#problemas-resueltos","title":"\ud83d\udc1b Problemas Resueltos","text":"Problema Soluci\u00f3n Tiempo Encoding tildes en API UTF-8.GetBytes() 45 min Regex no capturaba historias Construir pattern din\u00e1mico 30 min PowerShell heredoc quotes Simplificar strings 15 min Confirmaci\u00f3n interactiva Par\u00e1metro -SkipConfirm 5 min"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#recursos-generados","title":"\ud83d\udcda Recursos Generados","text":""},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#documentacion_1","title":"Documentaci\u00f3n","text":"<ul> <li><code>docs/procedimientos.md</code> - Workflow completo</li> <li><code>docs/04-planificacion/historias-completas-150.md</code> - 161 historias</li> <li><code>docs/04-planificacion/flujo-gestion-historias.md</code> - Gesti\u00f3n</li> <li><code>docs/04-planificacion/historias-propuestas-50.md</code> - Draft inicial</li> </ul>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#scripts","title":"Scripts","text":"<ul> <li><code>.temp-issues/fix-issue-titles.ps1</code></li> <li><code>.temp-issues/create-bulk-issues-final.ps1</code></li> <li><code>.temp-issues/update-docs-with-issues.ps1</code></li> <li><code>.temp-issues/issue-mapping-*.json</code> (2 archivos)</li> </ul>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#estilos","title":"Estilos","text":"<ul> <li><code>docs/stylesheets/extra.css</code> - +100 l\u00edneas minimalistas</li> </ul>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#highlights","title":"\u2728 Highlights","text":"<p>\"De 18 historias a 161 en una sesi\u00f3n\"</p> <p>Pasamos de un backlog inicial de Sprint 1 a tener visi\u00f3n completa del producto con horizonte 12-18 meses.</p> <p>\"77 issues creados en 4 minutos\"</p> <p>Script automatizado que hubiera tomado ~3 horas manual.</p> <p>\"Redise\u00f1o completo en 30 minutos\"</p> <p>Homepage pas\u00f3 de marketing-heavy a ultra-minimal personal project.</p>"},{"location":"sesiones/2026-01-05--sprint0-dia1-extendida/#estado-al-final-de-sesion","title":"\ud83c\udfaf Estado al Final de Sesi\u00f3n","text":"<ul> <li>\u2705 161 historias documentadas</li> <li>\u2705 77 issues en GitHub con labels</li> <li>\u2705 Workflow completo documentado</li> <li>\u2705 Scripts automatizados funcionando</li> <li>\u2705 Docs redise\u00f1adas (minimal)</li> <li>\u2705 Todo commiteado y pusheado</li> </ul> <p>Siguiente sesi\u00f3n: Priorizaci\u00f3n, Milestones, Sprint 2 Planning</p> <p>Duraci\u00f3n total Sprint 0: ~550 minutos (9+ horas) en 2 d\u00edas Commits totales Sprint 0: 19 Issues creados Sprint 0: 95 (18 iniciales + 77 hoy)</p>"},{"location":"sesiones/2026-01-16--deploy-completo/","title":"Sesi\u00f3n: Deploy Completo a Producci\u00f3n - Fly.io","text":"<p>Fecha: 2026-01-16 Hora inicio: 10:15 Hora fin: 17:45 (Pausado - Pr\u00f3ximo: Instalar flyctl)</p>"},{"location":"sesiones/2026-01-16--deploy-completo/#objetivos-de-la-sesion","title":"\ud83c\udfaf Objetivos de la sesi\u00f3n","text":"<ul> <li> Resolver problemas previos de deploy (Vercel, Railway fallaron)</li> <li> Limpiar BD y migraciones de Prisma</li> <li> Decidir plataforma de hosting</li> <li> Deployar backend en Fly.io (EN PROGRESO)</li> <li> Deployar frontend en Vercel</li> <li> Testear desde celular</li> </ul>"},{"location":"sesiones/2026-01-16--deploy-completo/#acciones-realizadas","title":"\u2705 Acciones realizadas","text":""},{"location":"sesiones/2026-01-16--deploy-completo/#base-de-datos-y-migraciones","title":"Base de datos y migraciones","text":"<ul> <li>\u2705 Renombr\u00f3 carpeta <code>prisma/migrations_sqlite_backup_renamed</code> (SQLite)</li> <li>\u2705 Ejecut\u00f3 <code>npx prisma migrate reset --force</code> en Supabase</li> <li>\u2705 Cre\u00f3 migraci\u00f3n nueva: <code>20260117002524_init</code> (PostgreSQL)</li> <li>\u2705 Ejecut\u00f3 seed: datos iniciales cargados en la BD</li> <li>\u2705 Verific\u00f3 que DB est\u00e1 lista: Locations, Items, MenuItems, etc.</li> </ul>"},{"location":"sesiones/2026-01-16--deploy-completo/#configuracion-git-y-repositorio","title":"Configuraci\u00f3n Git y repositorio","text":"<ul> <li>\u2705 Revis\u00f3 que el repo GitHub ya estaba inicializado (<code>git status</code> OK)</li> <li>\u2705 Hizo commit: <code>feat: Setup Prisma migrations y preparaci\u00f3n para deploy en Render</code></li> <li>\u2705 Pushe\u00f3 cambios a GitHub: <code>https://github.com/falberio/alacena.git</code></li> </ul>"},{"location":"sesiones/2026-01-16--deploy-completo/#decision-de-plataforma","title":"Decisi\u00f3n de plataforma","text":"<ul> <li>\u2705 Evalu\u00f3 opciones: Vercel (intentado antes, fall\u00f3), Railway (pago), Render (free tier limitado)</li> <li>\u2705 Decidi\u00f3: Fly.io (Gratis, sin tarjeta, no se duerme)</li> <li>\u2705 Analiz\u00f3 riesgos: 65-70% probabilidad de \u00e9xito (30-35% chance de fallas en Prisma/Docker o conexi\u00f3n IPv6)</li> </ul>"},{"location":"sesiones/2026-01-16--deploy-completo/#preparacion-flyio","title":"Preparaci\u00f3n Fly.io","text":"<ul> <li>\u2705 Cre\u00f3 <code>Dockerfile</code> en ra\u00edz del proyecto</li> <li>Usa Alpine Node 20 (peque\u00f1o y r\u00e1pido)</li> <li>Multistage build (menor tama\u00f1o final)</li> <li>Prisma Client generado en build</li> <li>Health check configurado</li> <li>\u2705 Cre\u00f3 <code>fly.toml</code> con configuraci\u00f3n</li> <li>App name: <code>alacena-backend</code></li> <li>Region: <code>eze</code> (Buenos Aires)</li> <li>Puerto: 3001</li> <li>Concurrencia: soft 20, hard 25</li> </ul>"},{"location":"sesiones/2026-01-16--deploy-completo/#sistema-de-documentacion","title":"Sistema de documentaci\u00f3n","text":"<ul> <li>\u2705 Cre\u00f3 carpeta <code>docs/sesiones/</code></li> <li>\u2705 Cre\u00f3 <code>INDEX.md</code> con tabla de sesiones</li> <li>\u2705 Cre\u00f3 este archivo de sesi\u00f3n</li> </ul>"},{"location":"sesiones/2026-01-16--deploy-completo/#cambios-en-archivos","title":"\ud83d\udd27 Cambios en archivos","text":"Archivo Cambio Motivo backend/package.json Actualizado scripts Prisma v7 compatible backend/prisma/schema.prisma Datasource + generador Configuraci\u00f3n PostgreSQL backend/prisma/seed.js Datos iniciales Seedear BD backend/Procfile Creado Para Render (descartado) backend/.env.example Creado Documentaci\u00f3n de variables Dockerfile Creado Build para Fly.io fly.toml Creado Configuraci\u00f3n de Fly.io docs/sesiones/INDEX.md Creado Registro de sesiones docs/sesiones/2026-01-16--deploy-completo.md Este archivo Sesi\u00f3n actual"},{"location":"sesiones/2026-01-16--deploy-completo/#erroresbloqueadores-encontrados","title":"\u26a0\ufe0f Errores/Bloqueadores encontrados","text":""},{"location":"sesiones/2026-01-16--deploy-completo/#problema-conversacion-anterior-perdida","title":"Problema: Conversaci\u00f3n anterior perdida","text":"<ul> <li>Contexto: Usuario mencion\u00f3 conversaci\u00f3n de ayer donde probaron Vercel, Railway y Render</li> <li>Causa: Conversaci\u00f3n no fue guardada en <code>docs/conversaciones/</code></li> <li>Soluci\u00f3n: Implementar sistema de documentaci\u00f3n de sesiones (YA HECHO)</li> </ul>"},{"location":"sesiones/2026-01-16--deploy-completo/#problema-usuario-preocupado-por-costos","title":"Problema: Usuario preocupado por costos","text":"<ul> <li>Contexto: Asistente recomend\u00f3 Render sin verificar si era pago</li> <li>Usuario ten\u00eda: Suscripci\u00f3n activa en Railway (con tarjeta)</li> <li>Lecci\u00f3n aprendida: Ser m\u00e1s cuidadoso con recomendaciones de hosting</li> </ul>"},{"location":"sesiones/2026-01-16--deploy-completo/#problema-confianza-en-solucion","title":"Problema: Confianza en soluci\u00f3n","text":"<ul> <li>Contexto: M\u00faltiples intentos fallidos (Vercel, Railway, etc.)</li> <li>Soluci\u00f3n: An\u00e1lisis PROFUNDO de riesgos de Fly.io antes de proceder</li> <li>Acuerdo: Aceptar 30-35% de margen de error, ser honesto siempre</li> </ul>"},{"location":"sesiones/2026-01-16--deploy-completo/#proximos-pasos-en-orden","title":"\ud83d\udccc PR\u00d3XIMOS PASOS (En orden)","text":"<p>PARADO AQU\u00cd: El usuario va a instalar <code>flyctl</code></p> <ol> <li> <p>Usuario instala flyctl CLI: <pre><code>iwr https://fly.io/install.ps1 -useb | iex\nflyctl version  # Verificar instalaci\u00f3n\n</code></pre>    Luego reporta al asistente</p> </li> <li> <p>Asistente: Autenticar en Fly.io <pre><code>flyctl auth login\n</code></pre></p> </li> <li> <p>Asistente: Iniciar app en Fly.io <pre><code>cd c:\\Users\\Usuario\\alacena\nflyctl launch  # Esto crea el app name si no existe\n</code></pre></p> </li> <li> <p>Asistente: Configurar variable de entorno DATABASE_URL <pre><code>flyctl secrets set DATABASE_URL=\"postgresql://postgres:&lt;&amp;kHkptQH?sb-z9C&gt;@[2600:1f18:2e13:9d1c:faba:208:6f00:de21]:5432/postgres?schema=public\"\n</code></pre></p> </li> <li> <p>Asistente: Deployar <pre><code>flyctl deploy\n</code></pre></p> </li> <li> <p>Testear endpoint: <pre><code>flyctl open /health\n</code></pre></p> </li> <li> <p>Configurar frontend:</p> </li> <li>Obtener URL de Fly.io</li> <li>Configurar en Vercel como <code>NEXT_PUBLIC_API_URL</code></li> <li> <p>Frontend apunta al backend</p> </li> <li> <p>Testear desde celular:</p> </li> <li>Acceder a frontend Vercel desde celular</li> <li>Ver men\u00fa/recetas (llamadas al backend Fly.io)</li> </ol>"},{"location":"sesiones/2026-01-16--deploy-completo/#referencias","title":"\ud83d\udd17 Referencias","text":"<ul> <li>GitHub: https://github.com/falberio/alacena</li> <li>Supabase DB: PostgreSQL (conexi\u00f3n IPv6)</li> <li>Decisi\u00f3n: An\u00e1lisis de Fly.io (ver arriba)</li> <li>Sistema sesiones: INDEX.md</li> </ul>"},{"location":"sesiones/2026-01-16--deploy-completo/#notas-importantes","title":"\ud83d\udcdd NOTAS IMPORTANTES","text":""},{"location":"sesiones/2026-01-16--deploy-completo/#para-la-proxima-sesion","title":"Para la PR\u00d3XIMA SESI\u00d3N:","text":"<ol> <li>Empezar aqu\u00ed: Instalar <code>flyctl</code> (punto de parada actual)</li> <li>Leer este archivo completo para entender decisiones tomadas</li> <li>No cambiar a otra plataforma sin consultar antes (ya probamos varias)</li> <li>Mantener honestidad: Si algo falla, reportar y analizar juntos</li> </ol>"},{"location":"sesiones/2026-01-16--deploy-completo/#sobre-costos","title":"Sobre costos:","text":"<ul> <li>\u2705 Supabase: GRATIS (con l\u00edmites razonables)</li> <li>\u2705 Fly.io: GRATIS (sin tarjeta de cr\u00e9dito)</li> <li>\u2705 Vercel: GRATIS (plan hobby)</li> <li>\u274c Railway: Probado, fall\u00f3, cancelar si hay cargo pendiente</li> </ul>"},{"location":"sesiones/2026-01-16--deploy-completo/#sobre-dockerfileflyio","title":"Sobre Dockerfile/Fly.io:","text":"<ul> <li>No modificar Dockerfile a menos que sea necesario</li> <li>Si falla deploy, los logs estar\u00e1n en <code>flyctl logs</code></li> <li>Si hay error en Prisma, debuggear localmente primero</li> </ul>"},{"location":"sesiones/2026-01-16--deploy-completo/#arquitectura-final-planeada","title":"\ud83d\udcca ARQUITECTURA FINAL PLANEADA","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502   CELULAR/WEB   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502\n    HTTPS/HTTP\n         \u2502\n    \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502   Vercel (Frontend)       \u2502\n    \u2502   Next.js                 \u2502\n    \u2502   https://alacena...      \u2502\n    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 (API calls)\n         \u2502\n    \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502  Fly.io (Backend)      \u2502\n    \u2502  Express + Prisma      \u2502\n    \u2502  alacena-backend.fly.. \u2502\n    \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n         \u2502 (Queries)\n         \u2502\n    \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n    \u2502  Supabase             \u2502\n    \u2502  PostgreSQL           \u2502\n    \u2502  IPv6                 \u2502\n    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>Documentado por GitHub Copilot \u2014 2026-01-16 17:45</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/","title":"\ud83d\udcdd SESI\u00d3N 17 DE ENERO 2026 - Historial Completo","text":""},{"location":"sesiones/2026-01-17--dashboard-y-auth/#objetivo-principal","title":"\ud83c\udfaf Objetivo Principal","text":"<p>Completar el stack full-stack de Alacena con: 1. Dashboard administrativo con CRUD completo 2. Validaciones robustas 3. Autenticaci\u00f3n JWT integrada backend-frontend 4. Deploy a producci\u00f3n (Fly.io + Vercel)</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#tareas-completadas","title":"\u2705 Tareas Completadas","text":""},{"location":"sesiones/2026-01-17--dashboard-y-auth/#1-revision-inicial-backend-preparado","title":"1. Revisi\u00f3n Inicial - Backend Preparado","text":"<p>Estado inicial:  - Controllers de CRUD ya exist\u00edan (item, location, reserve, menuItem, container, batch) - Rutas montadas pero solo GET implementado - Sin autenticaci\u00f3n</p> <p>Decisi\u00f3n: Aprovechar lo existente en controllers</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#2-dashboard-frontend-estructura-completa","title":"2. Dashboard Frontend - Estructura Completa","text":"<p>Archivos creados: - <code>app/dashboard/layout.tsx</code> - Layout con sidebar navegable - <code>app/dashboard/page.tsx</code> - Home del dashboard - <code>app/dashboard/items/page.tsx</code> - CRUD de items - <code>app/dashboard/locations/page.tsx</code> - CRUD de ubicaciones - <code>app/dashboard/reserves/page.tsx</code> - CRUD de reservas - <code>app/dashboard/menu/page.tsx</code> - CRUD del men\u00fa p\u00fablico</p> <p>Caracter\u00edsticas: - Tablas con datos en tiempo real - Formularios con todos los campos - Botones Edit/Delete - Loading states - Mensajes de error</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#3-autenticacion-implementacion-completa","title":"3. Autenticaci\u00f3n - Implementaci\u00f3n Completa","text":""},{"location":"sesiones/2026-01-17--dashboard-y-auth/#backend-express","title":"Backend (Express)","text":"<p>Instalaciones: - <code>bcryptjs</code> - Hashing de contrase\u00f1as - <code>jsonwebtoken</code> - Generaci\u00f3n de tokens JWT</p> <p>Archivos creados: - <code>src/controllers/auth.controller.js</code>   - <code>register()</code> - Crea usuario, valida email \u00fanico, hashea password   - <code>login()</code> - Verifica credenciales, retorna JWT   - <code>getProfile()</code> - Obtiene datos del usuario logueado</p> <ul> <li><code>src/routes/auth.routes.js</code> - Monta endpoints <code>/api/auth/*</code></li> </ul> <p>Prisma Schema: <pre><code>model User {\n  id            String    @id @default(cuid())\n  email         String    @unique\n  name          String?\n  passwordHash  String\n  role          String    @default(\"user\")\n  isActive      Boolean   @default(true)\n  createdAt     DateTime  @default(now())\n  updatedAt     DateTime  @updatedAt\n}\n</code></pre></p> <p>Migraci\u00f3n: <code>20260117045609_add_user_model</code></p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#frontend-nextjs-nextauth-v5","title":"Frontend (Next.js + NextAuth v5)","text":"<p>Instalaciones: - <code>next-auth@beta</code> - Autenticaci\u00f3n NextAuth - <code>zod</code> - Validaciones de esquemas</p> <p>Archivos creados: - <code>auth.ts</code> - Configuraci\u00f3n NextAuth   - CredentialsProvider que llama a <code>/api/auth/login</code> del backend   - JWT strategy para mantener tokens   - Callbacks para actualizar sesi\u00f3n</p> <ul> <li> <p><code>app/providers.tsx</code> - SessionProvider wrapper</p> </li> <li> <p><code>app/api/auth/[...nextauth]/route.ts</code> - Handler de rutas de auth</p> </li> <li> <p><code>middleware.ts</code> - Protege <code>/dashboard/*</code> redirigiendo a login</p> </li> <li> <p><code>app/login/page.tsx</code> - P\u00e1gina de login con formulario</p> </li> </ul> <p>Archivo .env.local: <pre><code>NEXTAUTH_URL=\"https://alacena-frontend.vercel.app\"\nNEXTAUTH_SECRET=\"...\"\n</code></pre></p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#validaciones-con-zod","title":"Validaciones con Zod","text":"<p>Archivo: <code>lib/validations.ts</code> <pre><code>- LoginSchema - email + password (min 6 chars)\n- RegisterSchema - email + password + confirmPassword\n- ItemSchema - name + kind + category opcional\n- LocationSchema - name + kind + sortIndex\n- ReserveSchema - itemId + status + qty\n- MenuItemSchema - name + itemId + section\n</code></pre></p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#4-integracion-frontend-backend","title":"4. Integraci\u00f3n Frontend-Backend","text":"<p>Login Flow: 1. Usuario ingresa email/contrase\u00f1a en <code>/login</code> 2. NextAuth llama a <code>POST /api/auth/login</code> en backend 3. Backend verifica credenciales, retorna JWT 4. NextAuth almacena token en sesi\u00f3n 5. Middleware verifica sesi\u00f3n, redirige si no autenticado</p> <p>Datos en Dashboard: 1. P\u00e1ginas del dashboard hacen <code>fetch()</code> al backend 2. Usan <code>NEXT_PUBLIC_API_URL</code> (https://alacena-backend.fly.dev) 3. Validaciones con Zod antes de enviar 4. Manejo de errores en formularios</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#5-deploy-infraestructura","title":"5. Deploy - Infraestructura","text":""},{"location":"sesiones/2026-01-17--dashboard-y-auth/#backend-flyio","title":"Backend (Fly.io)","text":"<p>Cambios al Dockerfile: <pre><code># Agregu\u00e9 en CMD:\nCMD [\"sh\", \"-c\", \"npx prisma migrate deploy &amp;&amp; node prisma/seed-users.js &amp;&amp; node src/server.js\"]\n</code></pre> Esto ejecuta: 1. Migraci\u00f3n de Prisma 2. Seed de usuario de prueba (admin@alacena.com / admin123) 3. Inicia el servidor</p> <p>Secretos a setear en Fly.io Dashboard: 1. <code>DATABASE_URL</code> - String de conexi\u00f3n Supabase 2. <code>JWT_SECRET</code> - Clave secreta para tokens</p> <p>Status: \u2705 Deployado (auto-deploy con git push)</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#frontend-vercel","title":"Frontend (Vercel)","text":"<p>Status: \u2705 Deployado y funcionando URL: https://alacena-frontend.vercel.app</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#base-de-datos-supabase","title":"Base de datos (Supabase)","text":"<p>Migraci\u00f3n ejecutada: \u2705 Usuario de prueba creado: \u2705 admin@alacena.com / admin123</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#problemas-encontrados-y-soluciones","title":"\ud83d\udea7 Problemas Encontrados y Soluciones","text":""},{"location":"sesiones/2026-01-17--dashboard-y-auth/#problema-1-database_url-con-caracteres-especiales","title":"Problema 1: DATABASE_URL con caracteres especiales","text":"<p>Error: <code>P1000: Authentication failed</code> Causa: Contrase\u00f1a anterior ten\u00eda <code>&lt;&amp;kHkptQH?sb-z9C&gt;</code> (caracteres especiales) Soluci\u00f3n: Cambiar contrase\u00f1a en Supabase a <code>DjDK6YNUopieqRGW</code> Actualizaci\u00f3n en Fly.io: Via <code>.env</code> local (secrets se setean en UI de Fly.io)</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#problema-2-flyctl-no-instalado-en-windows","title":"Problema 2: flyctl no instalado en Windows","text":"<p>Error: <code>flyctl: El t\u00e9rmino 'flyctl' no se reconoce</code> Causa: PowerShell script de instalaci\u00f3n no complet\u00f3 PATH actualizado Soluci\u00f3n:  - Usar Fly.io Dashboard web para setear secrets - Auto-deploy via git push (ya configurado)</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#problema-3-nextauth-v5-vs-v4","title":"Problema 3: NextAuth v5 vs v4","text":"<p>Decisi\u00f3n: Usar <code>next-auth@beta</code> (v5) Raz\u00f3n: Mejor soporte para App Router de Next.js 15 Cambio necesario: CredentialsProvider + callbacks JWT</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#arquitectura-final","title":"\ud83d\udcca Arquitectura Final","text":"<pre><code>\u250c\u2500 Frontend (Vercel) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Next.js 15.1.0 + TypeScript              \u2502\n\u2502  - App Router                              \u2502\n\u2502  - NextAuth v5 (JWT)                      \u2502\n\u2502  - Tailwind CSS                            \u2502\n\u2502  - Zod validaciones                        \u2502\n\u2502                                             \u2502\n\u2502  Pages:                                    \u2502\n\u2502  - / (home)                                \u2502\n\u2502  - /login (autenticaci\u00f3n)                  \u2502\n\u2502  - /dashboard (items/locations/reserves)   \u2502\n\u2502  - /guest/menu (p\u00fablico)                   \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2193 HTTPS\n              (NEXT_PUBLIC_API_URL)\n                      \u2193\n\u250c\u2500 Backend (Fly.io) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Express.js + Node 20-alpine               \u2502\n\u2502  - CORS habilitado                         \u2502\n\u2502  - JWT middleware (JWT_SECRET)             \u2502\n\u2502  - Prisma ORM v5.22.0                      \u2502\n\u2502                                             \u2502\n\u2502  Routes:                                   \u2502\n\u2502  - POST /api/auth/register                 \u2502\n\u2502  - POST /api/auth/login                    \u2502\n\u2502  - GET /api/auth/profile                   \u2502\n\u2502  - CRUD /api/items                         \u2502\n\u2502  - CRUD /api/locations                     \u2502\n\u2502  - CRUD /api/reserves                      \u2502\n\u2502  - CRUD /api/menu-items                    \u2502\n\u2502  - CRUD /api/containers                    \u2502\n\u2502  - CRUD /api/batches                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                      \u2193\n\u250c\u2500 PostgreSQL (Supabase) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Tablas:                                    \u2502\n\u2502  - User (autenticaci\u00f3n)                     \u2502\n\u2502  - Item (productos/recetas)                 \u2502\n\u2502  - Location (ubicaciones)                   \u2502\n\u2502  - Reserve (inventario)                     \u2502\n\u2502  - MenuItem (men\u00fa p\u00fablico)                  \u2502\n\u2502  - Container (contenedores)                 \u2502\n\u2502  - Batch (lotes)                            \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#estructura-de-carpetas","title":"\ud83d\udcc1 Estructura de Carpetas","text":"<pre><code>alacena/\n\u251c\u2500\u2500 frontend/alacena-app/          # Next.js app\n\u2502   \u251c\u2500\u2500 app/\n\u2502   \u2502   \u251c\u2500\u2500 dashboard/             # Rutas protegidas\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 layout.tsx\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 page.tsx\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 items/page.tsx\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 locations/page.tsx\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 reserves/page.tsx\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 menu/page.tsx\n\u2502   \u2502   \u251c\u2500\u2500 login/page.tsx         # Auth\n\u2502   \u2502   \u251c\u2500\u2500 guest/menu/page.tsx    # P\u00fablico\n\u2502   \u2502   \u251c\u2500\u2500 layout.tsx\n\u2502   \u2502   \u2514\u2500\u2500 page.tsx\n\u2502   \u251c\u2500\u2500 lib/\n\u2502   \u2502   \u2514\u2500\u2500 validations.ts         # Zod schemas\n\u2502   \u251c\u2500\u2500 auth.ts                    # NextAuth config\n\u2502   \u251c\u2500\u2500 middleware.ts              # Protecci\u00f3n rutas\n\u2502   \u251c\u2500\u2500 providers.tsx              # SessionProvider\n\u2502   \u2514\u2500\u2500 .env.local\n\u2502\n\u251c\u2500\u2500 backend/                       # Express app\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u251c\u2500\u2500 controllers/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 auth.controller.js      # \u2728 Nuevo\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 item.controller.js\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 location.controller.js\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 reserve.controller.js\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 menuItem.controller.js\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2502   \u251c\u2500\u2500 routes/\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 auth.routes.js          # \u2728 Nuevo\n\u2502   \u2502   \u2502   \u251c\u2500\u2500 items.routes.js\n\u2502   \u2502   \u2502   \u2514\u2500\u2500 ...\n\u2502   \u2502   \u251c\u2500\u2500 app.js                      # Actualizado\n\u2502   \u2502   \u2514\u2500\u2500 server.js\n\u2502   \u251c\u2500\u2500 prisma/\n\u2502   \u2502   \u251c\u2500\u2500 schema.prisma               # Actualizado (User model)\n\u2502   \u2502   \u251c\u2500\u2500 seed-users.js               # \u2728 Nuevo\n\u2502   \u2502   \u2514\u2500\u2500 migrations/\n\u2502   \u2502       \u2514\u2500\u2500 20260117045609_add_user_model/\n\u2502   \u251c\u2500\u2500 .env\n\u2502   \u2514\u2500\u2500 package.json                    # +bcryptjs, +jsonwebtoken\n\u2502\n\u251c\u2500\u2500 Dockerfile                     # Actualizado (migrations + seed)\n\u251c\u2500\u2500 fly.toml                       # Config Fly.io\n\u251c\u2500\u2500 STATUS.md                      # \u2728 Nuevo - Estado final\n\u251c\u2500\u2500 DEPLOYMENT.md                  # \u2728 Nuevo - Instrucciones\n\u2514\u2500\u2500 docs/\n    \u2514\u2500\u2500 sesiones/\n        \u2514\u2500\u2500 2026-01-17--dashboard-y-auth.md  # \u2728 Este archivo\n</code></pre>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#seguridad-implementada","title":"\ud83d\udd10 Seguridad Implementada","text":""},{"location":"sesiones/2026-01-17--dashboard-y-auth/#contrasenas","title":"Contrase\u00f1as","text":"<ul> <li>\u2705 Hasheadas con bcryptjs (10 rounds)</li> <li>\u2705 Validadas en login (bcrypt.compare)</li> </ul>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#tokens-jwt","title":"Tokens JWT","text":"<ul> <li>\u2705 Secreto configurado en env variable</li> <li>\u2705 Expiraci\u00f3n 30 d\u00edas</li> <li>\u2705 Almacenados en sesi\u00f3n NextAuth</li> <li>\u2705 Enviados en requests al backend</li> </ul>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#rutas-protegidas","title":"Rutas Protegidas","text":"<ul> <li>\u2705 Middleware en <code>/dashboard/*</code> redirige a login</li> <li>\u2705 Backend valida JWT en <code>/api/auth/profile</code></li> </ul>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#cors","title":"CORS","text":"<ul> <li>\u2705 Habilitado en Express (desarrollo)</li> <li>\u26a0\ufe0f Nota: En producci\u00f3n, restringir a dominio espec\u00edfico</li> </ul>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#metricas-del-proyecto","title":"\ud83d\udcc8 M\u00e9tricas del Proyecto","text":"M\u00e9trica Valor P\u00e1ginas CRUD creadas 4 Endpoints de API 13 (6 CRUD + 3 auth + 4 otros) Validaciones Zod 6 esquemas Controladores 7 Tablas DB 7 Commits hoy 8 L\u00edneas de c\u00f3digo ~2500+"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#testing-manual","title":"\ud83e\uddea Testing Manual","text":""},{"location":"sesiones/2026-01-17--dashboard-y-auth/#credenciales-de-prueba","title":"Credenciales de Prueba","text":"<pre><code>Email: admin@alacena.com\nPassword: admin123\n</code></pre>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#urls-para-testear","title":"URLs para testear","text":"<pre><code>Frontend: https://alacena-frontend.vercel.app/login\nBackend: https://alacena-backend.fly.dev/health\nAPI: https://alacena-backend.fly.dev/api/items\n</code></pre>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#flujo-de-testing","title":"Flujo de Testing","text":"<ol> <li>Ir a https://alacena-frontend.vercel.app/login</li> <li>Ingresar admin@alacena.com / admin123</li> <li>Ir a /dashboard/items</li> <li>Crear item de prueba</li> <li>Editar y eliminar</li> <li>Verificar que aparece en /guest/menu</li> </ol>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#checklist-de-finalizacion","title":"\ud83d\udccb Checklist de Finalizaci\u00f3n","text":"<ul> <li> Dashboard frontend completo (4 CRUD pages)</li> <li> Autenticaci\u00f3n backend (register + login)</li> <li> Integraci\u00f3n NextAuth con backend</li> <li> Validaciones Zod en frontend</li> <li> Middleware de protecci\u00f3n de rutas</li> <li> User model en Prisma</li> <li> Migraci\u00f3n ejecutada</li> <li> Seed de usuario de prueba</li> <li> Dockerfile actualizado</li> <li> Deploy a Fly.io</li> <li> Deploy a Vercel</li> <li> Documentaci\u00f3n completa</li> </ul>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#pasos-finales-manuales","title":"\u26a0\ufe0f Pasos Finales Manuales","text":"<p>IMPORTANTE: Antes de usar en producci\u00f3n:</p> <ol> <li>Setear secrets en Fly.io Dashboard:</li> <li>DATABASE_URL</li> <li> <p>JWT_SECRET (con clave segura aleatoria)</p> </li> <li> <p>Cambiar credenciales de prueba:</p> </li> <li>Crear nuevo usuario admin</li> <li> <p>Eliminar o cambiar contrase\u00f1a de admin@alacena.com</p> </li> <li> <p>Actualizar CORS en backend: <pre><code>// En src/app.js\napp.use(cors({\n  origin: 'https://alacena-frontend.vercel.app',\n  credentials: true\n}))\n</code></pre></p> </li> <li> <p>Actualizar JWT_SECRET:</p> </li> <li>Generar clave aleatoria segura</li> <li>Usar herramienta: <code>node -e \"console.log(require('crypto').randomBytes(32).toString('hex'))\"</code></li> </ol>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#decisiones-tecnicas-documentadas","title":"\ud83c\udf93 Decisiones T\u00e9cnicas Documentadas","text":""},{"location":"sesiones/2026-01-17--dashboard-y-auth/#1-nextauth-v5-vs-v4","title":"1. NextAuth v5 vs v4","text":"<p>Elegido: v5 (beta) Raz\u00f3n: Mejor App Router support, m\u00e1s moderno Trade-off: Beta pero funciona bien</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#2-zod-vs-joi-vs-yup","title":"2. Zod vs Joi vs Yup","text":"<p>Elegido: Zod Raz\u00f3n: TypeScript native, menos boilerplate Ventaja: Type inference autom\u00e1tico</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#3-jwt-vs-session","title":"3. JWT vs Session","text":"<p>Elegido: JWT Raz\u00f3n: Stateless, mejor para APIs Implementaci\u00f3n: NextAuth maneja almacenamiento</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#4-dockerfile-migrations-en-startup","title":"4. Dockerfile - Migrations en startup","text":"<p>Elegido: Ejecutar en CMD Raz\u00f3n: Garantiza DB actualizada en cada deploy Alternativa: Ejecutar antes en builder (m\u00e1s lento)</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#5-seed-automatico","title":"5. Seed autom\u00e1tico","text":"<p>Elegido: Ejecutar en seed-users.js Raz\u00f3n: Solo crea si no existe (idempotente) Ventaja: No falla si ya existe usuario</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#problemas-conocidos-todo","title":"\ud83d\udd0d Problemas Conocidos / TODO","text":"<ul> <li> Rate limiting en endpoints auth</li> <li> Logout real (actualmente solo limpia sesi\u00f3n)</li> <li> Cambio de contrase\u00f1a endpoint</li> <li> Recuperaci\u00f3n de contrase\u00f1a olvidada</li> <li> 2FA (autenticaci\u00f3n de dos factores)</li> <li> Roles y permisos m\u00e1s granulares</li> <li> Audit log de cambios</li> <li> Soft delete en lugar de delete duro</li> </ul>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#contacto-notas","title":"\ud83d\udcde Contacto / Notas","text":"<p>Desarrollador: GitHub Copilot / Claude Fecha de Sesi\u00f3n: 17 de Enero de 2026 Duraci\u00f3n: ~3 horas Cambios Realizados: 8 commits</p>"},{"location":"sesiones/2026-01-17--dashboard-y-auth/#proximas-sesiones","title":"\ud83d\ude80 Pr\u00f3ximas Sesiones","text":"<p>Cuando abras la pr\u00f3xima sesi\u00f3n: 1. Leer este archivo completo 2. Revisar STATUS.md para estado r\u00e1pido 3. Verificar si Fly.io deploy fue exitoso 4. Testear URLs en \"URLs para testear\" 5. Setear secrets en Fly.io si a\u00fan no est\u00e1n</p> <p>\u00daltimo actualizado: 17-01-2026 23:45 Estado: \u2705 COMPLETADO Y DEPLOYADO</p>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/","title":"\ud83d\ude80 Sesi\u00f3n 24 Enero 2026 - Deploy Completo v1.0","text":""},{"location":"sesiones/2026-01-24--deploy-completo-v1/#hito-alcanzado-primera-version-100-en-la-nube","title":"\ud83c\udfaf HITO ALCANZADO: Primera Versi\u00f3n 100% en la Nube","text":"<p>Fecha: 24 de enero de 2026 Estado: \u2705 COMPLETADO Arquitectura: Full Cloud (Fly.io + Supabase + Vercel)</p>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#estado-final-del-sistema","title":"\ud83d\udcca Estado Final del Sistema","text":""},{"location":"sesiones/2026-01-24--deploy-completo-v1/#backend-flyio","title":"Backend - Fly.io","text":"<ul> <li>URL: https://alacena-backend.fly.dev</li> <li>Plataforma: Fly.io (Free Tier con l\u00edmites configurados)</li> <li>Stack: Node.js 20 (Debian Slim), Express.js, Prisma ORM</li> <li>Configuraci\u00f3n:</li> <li>VM Memory: 256MB</li> <li>Auto-stop/start: Habilitado</li> <li>Min machines: 0 (para free tier)</li> <li>Regi\u00f3n: lhr (London)</li> </ul>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#database-supabase","title":"Database - Supabase","text":"<ul> <li>Host: db.orqnbchxoqalghcaaajw.supabase.co</li> <li>Tipo: PostgreSQL 15</li> <li>Plan: Free Tier</li> <li>Conexi\u00f3n: Hostname (no IPv6 por limitaci\u00f3n de Fly.io)</li> <li>Estado: Activo, con auto-pausa despu\u00e9s de 7 d\u00edas de inactividad</li> </ul>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#frontend-vercel","title":"Frontend - Vercel","text":"<ul> <li>URL: https://alacena-blush.vercel.app</li> <li>Framework: Next.js 15.5.9 con App Router</li> <li>Autenticaci\u00f3n: NextAuth v5 (Edge Runtime)</li> <li>Plan: Free Tier (Hobby)</li> <li>Deploy: Autom\u00e1tico desde GitHub (main branch)</li> </ul>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#problemas-resueltos-en-esta-sesion","title":"\ud83d\udd27 Problemas Resueltos en Esta Sesi\u00f3n","text":""},{"location":"sesiones/2026-01-24--deploy-completo-v1/#1-dockerprisma-incompatibilidad","title":"1. Docker/Prisma Incompatibilidad","text":"<p>Problema: Alpine Linux no incluye OpenSSL 1.1 que Prisma requiere Soluci\u00f3n: Cambio de <code>node:20-alpine</code> a <code>node:20-slim</code> + instalaci\u00f3n de <code>openssl libssl-dev</code></p>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#2-supabase-database-pausada","title":"2. Supabase Database Pausada","text":"<p>Problema: Base de datos pausada tras 7 d\u00edas de inactividad Soluci\u00f3n: Reactivaci\u00f3n manual + configuraci\u00f3n de conexi\u00f3n correcta</p>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#3-ipv6-no-soportado","title":"3. IPv6 No Soportado","text":"<p>Problema: Fly.io no puede conectarse a IPv6 de Supabase Soluci\u00f3n: Usar hostname en lugar de direcci\u00f3n IPv6 en DATABASE_URL</p>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#4-autenticacion-jwt-no-enviada","title":"4. Autenticaci\u00f3n JWT No Enviada","text":"<p>Problema: Frontend no enviaba token JWT en peticiones API Soluci\u00f3n: A\u00f1adir header <code>Authorization: Bearer &lt;token&gt;</code> en todas las peticiones fetch</p>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#cambios-realizados","title":"\ud83d\udcdd Cambios Realizados","text":""},{"location":"sesiones/2026-01-24--deploy-completo-v1/#archivos-modificados","title":"Archivos Modificados","text":"<ol> <li>Dockerfile</li> <li>Base image: <code>node:20-alpine</code> \u2192 <code>node:20-slim</code></li> <li> <p>Agregado: <code>apt-get install openssl libssl-dev</code></p> </li> <li> <p>fly.toml</p> </li> <li>A\u00f1adido: vm.memory = \"256mb\"</li> <li>A\u00f1adido: auto_stop_machines = true</li> <li> <p>Removido: Variables sensibles movidas a secrets</p> </li> <li> <p>backend/.env</p> </li> <li> <p>DATABASE_URL: SQLite \u2192 PostgreSQL (Supabase hostname)</p> </li> <li> <p>frontend/alacena-app/.env.local</p> </li> <li>NEXT_PUBLIC_API_URL: Apunta a producci\u00f3n</li> <li> <p>NEXTAUTH_SECRET: Generado secreto aleatorio de 64 chars</p> </li> <li> <p>frontend/alacena-app/app/dashboard/items/page.tsx</p> </li> <li>Agregado: <code>useSession()</code> hook</li> <li> <p>Agregado: Token JWT en headers de todas las peticiones API</p> </li> <li> <p>backend/prisma/seed-users.js</p> </li> <li>Emails cambiados a @alacena.com</li> </ol>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#credenciales-de-produccion","title":"\ud83d\udd10 Credenciales de Producci\u00f3n","text":""},{"location":"sesiones/2026-01-24--deploy-completo-v1/#usuario-admin","title":"Usuario Admin","text":"<ul> <li>Email: admin@alacena.com</li> <li>Password: admin123</li> <li>Rol: admin</li> </ul>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#usuario-regular","title":"Usuario Regular","text":"<ul> <li>Email: user@alacena.com</li> <li>Password: user123</li> <li>Rol: user</li> </ul>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#secrets-configurados","title":"Secrets Configurados","text":"<p>Fly.io: - DATABASE_URL: <code>postgresql://postgres:DjDK6YNUopieqRGW@db.orqnbchxoqalghcaaajw.supabase.co:5432/postgres</code> - JWT_SECRET: (configurado)</p> <p>Vercel: - NEXT_PUBLIC_API_URL: <code>https://alacena-backend.fly.dev</code> - NEXTAUTH_SECRET: <code>vfD04LjH7l1tUM9QBbFrqs2aeRwhO5XYgGZ3AICJKxdmyEoNzkTV8uSWPipc6n</code> - NEXTAUTH_URL: <code>https://alacena-blush.vercel.app</code></p>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#funcionalidades-verificadas","title":"\u2705 Funcionalidades Verificadas","text":"<ul> <li>\u2705 Login con credenciales reales (backend auth)</li> <li>\u2705 Crear items (CRUD completo)</li> <li>\u2705 Listar items desde database</li> <li>\u2705 Editar items</li> <li>\u2705 Eliminar items</li> <li>\u2705 Autenticaci\u00f3n JWT funcionando</li> <li>\u2705 Frontend responsivo</li> <li>\u2705 Auto-redeploy desde GitHub</li> </ul>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#items-creados-en-testing","title":"\ud83d\udce6 Items Creados en Testing","text":"<ol> <li>Arroz - C\u00f3digo: 12 (PRODUCT)</li> <li>Guiso de lentejas - C\u00f3digo: GIU-LENT (RECIPE)</li> <li>Prueba - C\u00f3digo: 33 (PRODUCT)</li> </ol>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#proximos-pasos-sugeridos","title":"\ud83c\udfa8 Pr\u00f3ximos Pasos Sugeridos","text":""},{"location":"sesiones/2026-01-24--deploy-completo-v1/#a-corto-plazo","title":"A Corto Plazo","text":"<ol> <li>Mejorar UI/UX:</li> <li>Implementar dise\u00f1o moderno con shadcn/ui o Tailwind UI</li> <li>Agregar animaciones y transiciones</li> <li> <p>Mejorar feedback visual (toasts, loading states)</p> </li> <li> <p>Completar CRUDs:</p> </li> <li>Ubicaciones (Locations)</li> <li>Reservas (Reserves)</li> <li>Men\u00fa Items</li> <li>Lotes (Batches)</li> <li> <p>Contenedores (Containers)</p> </li> <li> <p>Funcionalidades Core:</p> </li> <li>Sistema de QR codes</li> <li>Gesti\u00f3n de inventario</li> <li>Planificaci\u00f3n de men\u00fa semanal</li> </ol>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#a-medio-plazo","title":"A Medio Plazo","text":"<ol> <li>Optimizaciones:</li> <li>Paginaci\u00f3n eficiente</li> <li>B\u00fasqueda/filtros avanzados</li> <li> <p>Cache de datos</p> </li> <li> <p>Seguridad:</p> </li> <li>Roles y permisos granulares</li> <li>Rate limiting</li> <li>Validaci\u00f3n exhaustiva</li> </ol>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#a-largo-plazo","title":"A Largo Plazo","text":"<ol> <li>Features Avanzadas:</li> <li>Dashboard analytics</li> <li>Notificaciones</li> <li>Modo offline</li> <li>PWA (Progressive Web App)</li> </ol>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#logros-destacados","title":"\ud83c\udf1f Logros Destacados","text":"<p>\u2728 Sistema completamente funcional en la nube \u2728 Arquitectura escalable con servicios gratuitos \u2728 CI/CD autom\u00e1tico con GitHub + Vercel \u2728 Autenticaci\u00f3n robusta con JWT \u2728 Base de datos PostgreSQL profesional </p>"},{"location":"sesiones/2026-01-24--deploy-completo-v1/#recursos-y-referencias","title":"\ud83d\udcda Recursos y Referencias","text":"<ul> <li>Backend URL: https://alacena-backend.fly.dev</li> <li>Frontend URL: https://alacena-blush.vercel.app</li> <li>GitHub Repo: https://github.com/falberio/alacena</li> <li>Fly.io Dashboard: https://fly.io/dashboard</li> <li>Vercel Dashboard: https://vercel.com/dashboard</li> <li>Supabase Dashboard: https://supabase.com/dashboard</li> </ul> <p>\u00a1ALACENA v1.0 est\u00e1 oficialmente en producci\u00f3n! \ud83c\udf89</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/","title":"Sesi\u00f3n: Reestructuraci\u00f3n Alacena \u2192 Eco","text":"<p>Fecha: 24 de enero de 2026 Objetivo: Migrar de proyecto individual Alacena a plataforma Eco multi-app</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#resumen-ejecutivo","title":"Resumen Ejecutivo","text":"<p>Se decidi\u00f3 evolucionar Alacena de una app individual a una plataforma paraguas \"Eco\" que contendr\u00e1 5 aplicaciones integradas para gesti\u00f3n completa del hogar:</p> <ol> <li>Alacena: Despensa y cocina (existente, migrar)</li> <li>Mantia: Inventario del hogar + tareas de mantenimiento (nuevo)</li> <li>Financia: Finanzas personales (futuro)</li> <li>Salud: M\u00e9tricas de salud y bienestar (futuro)</li> <li>Huesha: Narrativa de vida (futuro)</li> </ol> <p>Patr\u00f3n arquitect\u00f3nico elegido: Monolito modular - 1 backend compartido con m\u00f3dulos separados - 1 base de datos con tablas prefijadas por dominio - 5 frontends independientes (Next.js)</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#decisiones-estrategicas","title":"Decisiones Estrat\u00e9gicas","text":""},{"location":"sesiones/2026-01-24--reestructuracion-eco/#por-que-eco","title":"\u00bfPor qu\u00e9 Eco?","text":"<p>Problema original: Alacena es solo una parte de la gesti\u00f3n del hogar. Se necesitaba: - Sistema de inventario general (no solo comida) - Tareas de mantenimiento - Control financiero integrado - Tracking de salud - Historia personal</p> <p>Soluci\u00f3n: Crear ecosistema integrado bajo marca \"Eco\" donde cada app tiene: - \u2705 Identidad visual propia - \u2705 Dominio separado posible - \u2705 Funcionalidad enfocada - \u2705 Integraci\u00f3n con otras apps del ecosistema</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#arquitectura-monolito-modular-vs-microservicios","title":"Arquitectura: Monolito Modular vs Microservicios","text":"<p>Opci\u00f3n rechazada: 5 backends separados (microservicios) - \u274c M\u00e1s infraestructura - \u274c Complejidad de despliegue - \u274c Autenticaci\u00f3n duplicada - \u274c No cabe en free tier de Fly.io (3 containers)</p> <p>Opci\u00f3n elegida: 1 backend modular - \u2705 Autenticaci\u00f3n centralizada - \u2705 C\u00f3digo compartido (auth, qr, media) - \u2705 Queries cross-app posibles - \u2705 Cabe en free tier - \u2705 F\u00e1cil de separar m\u00e1s adelante si escala</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#mantia-primera-nueva-app","title":"Mantia: Primera Nueva App","text":""},{"location":"sesiones/2026-01-24--reestructuracion-eco/#concepto","title":"Concepto","text":"<p>Mantia = **Man**tenimiento + Inven**ta**rio</p> <p>Problema que resuelve: - \"\u00bfD\u00f3nde guard\u00e9 el manual de la heladera?\" - \"\u00bfCu\u00e1ndo compr\u00e9 esto?\" - \"\u00bfQu\u00e9 hay que hacer esta semana en la casa?\" - \"\u00bfHasta cu\u00e1ndo tiene garant\u00eda?\" - \"\u00bfCu\u00e1ndo fue la \u00faltima vez que limpi\u00e9 el ba\u00f1o?\"</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#separacion-conceptual-clave","title":"Separaci\u00f3n Conceptual Clave","text":"<p>INVENTARIO (sustantivos - cosas que existen) - Items f\u00edsicos del hogar - 9 categor\u00edas: electr\u00f3nicos, electrodom\u00e9sticos, muebles, estructura, limpieza, ropa, plantas, mascotas, varios - Ubicaci\u00f3n espacial jer\u00e1rquica - Specs t\u00e9cnicas, garant\u00edas, manuales</p> <p>TAREAS (verbos - acciones a realizar) - Reparaciones necesarias - Mantenimiento preventivo - Pedidos/compras - Decisiones pendientes - Aprendizaje (leer manual, ver tutorial) - Historial (registro de eventos)</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#modelado-de-datos-clave","title":"Modelado de Datos Clave","text":"<p>Discusi\u00f3n importante: \u00bfEl departamento es un Item o una Location?</p> <p>Decisi\u00f3n: Sistema de Locations separado del inventario</p> <pre><code>Mantia_Location (jerarqu\u00eda espacial)\n\u2514\u2500\u2500 Mantia_Item (objetos f\u00edsicos)\n    \u2514\u2500\u2500 Mantia_Item (items dentro de items)\n</code></pre> <p>Ejemplo: <pre><code>DEPTO (Location)\n\u251c\u2500\u2500 LIVING (Location)\n\u2502   \u2514\u2500\u2500 Heladera (Item en locationId: LIVING)\n\u2502       \u2514\u2500\u2500 Term\u00f3metro (Item con containerItemId: Heladera)\n\u2514\u2500\u2500 COCINA (Location)\n</code></pre></p> <p>Ventajas de separar Location vs Item: - \u2705 Conceptos claros: espacio f\u00edsico vs objeto f\u00edsico - \u2705 Queries simples: \"Dame todo del living\" - \u2705 Reutilizable: CleaningRoutines se asocian a Locations - \u2705 Flexible: Puedes mover items entre locations - \u2705 Escalable: Agregar zonas sin crear items ficticios</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#categorias-mantia-9","title":"Categor\u00edas Mantia (9)","text":"C\u00f3digo Nombre Ejemplos <code>electronics</code> Electr\u00f3nicos TV, notebook, celular, router <code>appliances</code> Electrodom\u00e9sticos Heladera, microondas, aspiradora <code>furniture</code> Muebles Sill\u00f3n, mesa, cama, estanter\u00eda <code>structure</code> Estructura Ventanas, puertas, pintura, instalaciones <code>cleaning</code> Limpieza Escoba, balde, trapo <code>clothing</code> Ropa Remeras, pantalones, calzado <code>misc</code> Varios Herramientas, decoraci\u00f3n <code>plants</code> Plantas Plantas de interior, macetas <code>pet</code> Mascotas Comederos, juguetes"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#tipos-de-tareas-6","title":"Tipos de Tareas (6)","text":"C\u00f3digo Nombre Ejemplo <code>repair</code> Reparaci\u00f3n Reparar heladera rota <code>maintenance</code> Mantenimiento Limpiar filtro aire acondicionado <code>order</code> Pedido/Compra Comprar bombita LED <code>decision</code> Decisi\u00f3n Decidir si pintar pared del living <code>learning</code> Aprendizaje Aprender a usar cortadora de pasto <code>history</code> Historial Registro: compr\u00e9 heladera 15/03/2024"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#trabajo-realizado","title":"Trabajo Realizado","text":""},{"location":"sesiones/2026-01-24--reestructuracion-eco/#1-creacion-de-carpeta-eco","title":"1. Creaci\u00f3n de Carpeta Eco","text":"<pre><code># Detener procesos Node.js\nGet-Process -Name node | Stop-Process -Force\n\n# Crear nueva carpeta\nNew-Item -ItemType Directory -Path \"C:\\Users\\Usuario\\eco\"\n\n# Copiar todo desde alacena\nCopy-Item -Path \"C:\\Users\\Usuario\\alacena\\*\" -Destination \"C:\\Users\\Usuario\\eco\\\" -Recurse\n</code></pre> <p>Resultado: \u2705 Carpeta eco/ creada con todo el c\u00f3digo de Alacena</p> <p>Nota: La carpeta original <code>alacena/</code> sigue existiendo como backup. Se puede eliminar despu\u00e9s de verificar que todo funciona.</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#2-estructura-modular-backend","title":"2. Estructura Modular Backend","text":"<pre><code>cd C:\\Users\\Usuario\\eco\\backend\\src\n\n# Crear carpetas modulares\nNew-Item -ItemType Directory -Path \"modules\\alacena\"\nNew-Item -ItemType Directory -Path \"modules\\mantia\"\nNew-Item -ItemType Directory -Path \"shared\"\n</code></pre> <p>Resultado: \u2705 Estructura creada</p> <pre><code>backend/src/\n\u251c\u2500\u2500 modules/\n\u2502   \u251c\u2500\u2500 alacena/\n\u2502   \u2502   \u251c\u2500\u2500 controllers/\n\u2502   \u2502   \u251c\u2500\u2500 routes/\n\u2502   \u2502   \u2514\u2500\u2500 schemas/\n\u2502   \u2514\u2500\u2500 mantia/      (vac\u00edo - futuro)\n\u2514\u2500\u2500 shared/\n    \u251c\u2500\u2500 auth/\n    \u2514\u2500\u2500 qr/\n</code></pre>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#3-migracion-de-codigo-a-estructura-modular-completado","title":"3. Migraci\u00f3n de C\u00f3digo a Estructura Modular \u2705 COMPLETADO","text":"<p>Fecha de ejecuci\u00f3n: 24 de enero de 2026</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#31-creacion-de-estructura-de-carpetas","title":"3.1. Creaci\u00f3n de estructura de carpetas","text":"<pre><code>cd C:\\Users\\Usuario\\eco\\backend\\src\\modules\\alacena\nNew-Item -ItemType Directory -Path \"controllers\", \"routes\", \"schemas\" -Force\n</code></pre>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#32-mover-archivos-de-alacena","title":"3.2. Mover archivos de Alacena","text":"<pre><code># Controllers\nMove-Item -Path \"controllers\\batch.controller.js\" -Destination \"modules\\alacena\\controllers\\\"\nMove-Item -Path \"controllers\\container.controller.js\" -Destination \"modules\\alacena\\controllers\\\"\nMove-Item -Path \"controllers\\item.controller.js\" -Destination \"modules\\alacena\\controllers\\\"\nMove-Item -Path \"controllers\\location.controller.js\" -Destination \"modules\\alacena\\controllers\\\"\nMove-Item -Path \"controllers\\menuItem.controller.js\" -Destination \"modules\\alacena\\controllers\\\"\nMove-Item -Path \"controllers\\reserve.controller.js\" -Destination \"modules\\alacena\\controllers\\\"\n\n# Routes\nMove-Item -Path \"routes\\batches.routes.js\" -Destination \"modules\\alacena\\routes\\\"\nMove-Item -Path \"routes\\containers.routes.js\" -Destination \"modules\\alacena\\routes\\\"\nMove-Item -Path \"routes\\items.routes.js\" -Destination \"modules\\alacena\\routes\\\"\nMove-Item -Path \"routes\\locations.routes.js\" -Destination \"modules\\alacena\\routes\\\"\nMove-Item -Path \"routes\\menuItems.routes.js\" -Destination \"modules\\alacena\\routes\\\"\nMove-Item -Path \"routes\\reserves.routes.js\" -Destination \"modules\\alacena\\routes\\\"\n\n# Schemas\nMove-Item -Path \"schemas\\batch.schema.js\" -Destination \"modules\\alacena\\schemas\\\"\nMove-Item -Path \"schemas\\container.schema.js\" -Destination \"modules\\alacena\\schemas\\\"\nMove-Item -Path \"schemas\\item.schema.js\" -Destination \"modules\\alacena\\schemas\\\"\nMove-Item -Path \"schemas\\location.schema.js\" -Destination \"modules\\alacena\\schemas\\\"\nMove-Item -Path \"schemas\\menuItem.schema.js\" -Destination \"modules\\alacena\\schemas\\\"\nMove-Item -Path \"schemas\\reserve.schema.js\" -Destination \"modules\\alacena\\schemas\\\"\n</code></pre>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#33-mover-codigo-compartido-a-shared","title":"3.3. Mover c\u00f3digo compartido a shared/","text":"<pre><code># Crear estructura shared\ncd C:\\Users\\Usuario\\eco\\backend\\src\\shared\nNew-Item -ItemType Directory -Path \"auth\", \"qr\" -Force\n\n# Mover archivos compartidos\nMove-Item -Path \"controllers\\auth.controller.js\" -Destination \"shared\\auth\\\"\nMove-Item -Path \"routes\\auth.routes.js\" -Destination \"shared\\auth\\\"\nMove-Item -Path \"routes\\qr.routes.js\" -Destination \"shared\\qr\\\"\n</code></pre>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#34-actualizar-imports","title":"3.4. Actualizar imports","text":"<p>Archivos modificados:</p> <ol> <li>app.js: Actualizar imports y cambiar rutas de API</li> <li>Imports ahora apuntan a <code>./modules/alacena/routes/*</code> y <code>./shared/*/</code></li> <li> <p>Rutas cambiadas a <code>/api/alacena/*</code> y <code>/api/shared/*</code></p> </li> <li> <p>Controllers (6 archivos):</p> </li> <li><code>item.controller.js</code></li> <li><code>reserve.controller.js</code></li> <li><code>location.controller.js</code></li> <li><code>menuItem.controller.js</code></li> <li><code>container.controller.js</code></li> <li><code>batch.controller.js</code></li> </ol> <p>Cambios:    <pre><code>// Antes\nconst prisma = require('../prisma/client.js')\n\n// Despu\u00e9s\nconst prisma = require('../../../prisma/client.js')\n</code></pre></p> <ol> <li>Archivos shared:</li> <li><code>shared/auth/auth.controller.js</code>: Actualizado import de prisma</li> <li><code>shared/auth/auth.routes.js</code>: Actualizado import de controller (mismo directorio)</li> <li><code>shared/qr/qr.routes.js</code>: Actualizado import de prisma y corregido destructuring</li> </ol>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#35-limpieza","title":"3.5. Limpieza","text":"<pre><code># Eliminar carpetas vac\u00edas\nRemove-Item -Path \"controllers\", \"routes\", \"schemas\" -Recurse -Force\n</code></pre> <p>Resultado final:</p> <pre><code>backend/src/\n\u251c\u2500\u2500 app.js              \u2705 Actualizado\n\u251c\u2500\u2500 server.js           (sin cambios)\n\u251c\u2500\u2500 modules/\n\u2502   \u251c\u2500\u2500 alacena/\n\u2502   \u2502   \u251c\u2500\u2500 controllers/     \u2705 6 archivos\n\u2502   \u2502   \u251c\u2500\u2500 routes/          \u2705 6 archivos\n\u2502   \u2502   \u2514\u2500\u2500 schemas/         \u2705 6 archivos\n\u2502   \u2514\u2500\u2500 mantia/          (vac\u00edo - futuro)\n\u251c\u2500\u2500 shared/\n\u2502   \u251c\u2500\u2500 auth/\n\u2502   \u2502   \u251c\u2500\u2500 auth.controller.js  \u2705\n\u2502   \u2502   \u2514\u2500\u2500 auth.routes.js      \u2705\n\u2502   \u2514\u2500\u2500 qr/\n\u2502       \u2514\u2500\u2500 qr.routes.js        \u2705\n\u251c\u2500\u2500 prisma/\n\u2502   \u2514\u2500\u2500 client.js        (sin cambios)\n\u2514\u2500\u2500 services/           (vac\u00edo)\n</code></pre>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#4-nuevas-rutas-de-api-breaking-change","title":"4. Nuevas Rutas de API \u26a0\ufe0f BREAKING CHANGE","text":"<p>Cambios en las rutas:</p> Ruta antigua Ruta nueva Tipo <code>/api/auth/*</code> <code>/api/shared/auth/*</code> Shared <code>/api/qr/*</code> <code>/api/shared/qr/*</code> Shared <code>/api/reserves</code> <code>/api/alacena/reserves</code> Alacena <code>/api/items</code> <code>/api/alacena/items</code> Alacena <code>/api/locations</code> <code>/api/alacena/locations</code> Alacena <code>/api/menu-items</code> <code>/api/alacena/menu-items</code> Alacena <code>/api/containers</code> <code>/api/alacena/containers</code> Alacena <code>/api/batches</code> <code>/api/alacena/batches</code> Alacena <p>Health check actualizado: <pre><code>{\n  \"status\": \"ok\",\n  \"app\": \"eco\",\n  \"modules\": [\"alacena\"],\n  \"timestamp\": \"2026-01-25T01:55:20.982Z\"\n}\n</code></pre></p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#5-verificacion-completado","title":"5. Verificaci\u00f3n \u2705 COMPLETADO","text":"<pre><code># Iniciar backend\ncd C:\\Users\\Usuario\\eco\\backend\nnode src/server.js\n# \u2705 Arranca sin errores: \"\ud83e\uddfa Alacena backend corriendo en puerto 4000\"\n\n# Probar health check\ncurl http://localhost:4000/health\n# \u2705 {\"status\":\"ok\",\"app\":\"eco\",\"modules\":[\"alacena\"],...}\n\n# Probar API de Alacena\ncurl http://localhost:4000/api/alacena/locations\n# \u2705 Devuelve lista de locations correctamente\n\n# Probar API compartida\ncurl http://localhost:4000/api/shared/auth/profile\n# \u2705 {\"error\":\"No autorizado\"} (correcto, sin token)\n</code></pre>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#proximos-pasos","title":"Pr\u00f3ximos Pasos","text":""},{"location":"sesiones/2026-01-24--reestructuracion-eco/#completado-sesion-1-migracion-backend-a-estructura-modular","title":"\u2705 Completado - Sesi\u00f3n 1: Migraci\u00f3n Backend a Estructura Modular","text":"<ol> <li>\u2705 Mover c\u00f3digo Alacena a modules/</li> <li>\u2705 Extraer c\u00f3digo compartido a shared/</li> <li>\u2705 Actualizar app.js</li> <li>\u2705 Verificar backend funcional</li> </ol>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#completado-sesion-1-continuacion-actualizar-frontend","title":"\u2705 Completado - Sesi\u00f3n 1 (continuaci\u00f3n): Actualizar Frontend","text":"<p>Archivos actualizados: 13 archivos con 38 cambios en rutas de API</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#archivos-modificados","title":"Archivos modificados:","text":"<p>Autenticaci\u00f3n: - <code>auth.ts</code>: <code>/api/auth/login</code> \u2192 <code>/api/shared/auth/login</code></p> <p>Dashboard (7 archivos): - <code>dashboard/items/page.tsx</code>: 3 rutas actualizadas - <code>dashboard/locations/page.tsx</code>: 3 rutas actualizadas - <code>dashboard/menu/page.tsx</code>: 5 rutas actualizadas - <code>dashboard/qr/page.tsx</code>: 3 rutas actualizadas (auth y QR a shared) - <code>dashboard/reserves/page.tsx</code>: 5 rutas actualizadas</p> <p>P\u00e1ginas p\u00fablicas y stock (5 archivos): - <code>guest/menu/page.tsx</code>: 1 ruta actualizada - <code>shelf-view/page.tsx</code>: 2 rutas actualizadas - <code>stock/[code]/page.tsx</code>: 3 rutas actualizadas - <code>stock-control/page.tsx</code>: 3 rutas actualizadas - <code>test-qr/page.tsx</code>: 2 rutas actualizadas</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#resumen-de-cambios","title":"Resumen de cambios:","text":"<pre><code>/api/auth/*        \u2192 /api/shared/auth/*\n/api/qr/*          \u2192 /api/shared/qr/*\n/api/items         \u2192 /api/alacena/items\n/api/locations     \u2192 /api/alacena/locations\n/api/menu-items    \u2192 /api/alacena/menu-items\n/api/containers    \u2192 /api/alacena/containers\n/api/batches       \u2192 /api/alacena/batches\n/api/reserves      \u2192 /api/alacena/reserves\n</code></pre>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#verificacion","title":"Verificaci\u00f3n:","text":"<p>\u2705 Backend corriendo en puerto 4000 \u2705 Health check responde con <code>\"app\": \"eco\", \"modules\": [\"alacena\"]</code> \u2705 API <code>/api/alacena/locations</code> funcional \u2705 Todas las rutas antiguas eliminadas del c\u00f3digo</p> <p>Nota: El frontend Next.js detectar\u00e1 autom\u00e1ticamente los cambios en desarrollo. En producci\u00f3n, se necesitar\u00e1 un nuevo deploy.</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#siguiente-sesion-2-mantia-backend","title":"\ud83c\udfaf Siguiente: Sesi\u00f3n 2 - Mantia Backend","text":"<ol> <li>Actualizar schema.prisma</li> <li>Agregar 7 modelos de Mantia</li> <li> <p>Mantener modelos Alacena existentes</p> </li> <li> <p>Seeds iniciales</p> </li> <li><code>seed-mantia-categories.js</code>: 9 categor\u00edas</li> <li> <p><code>seed-mantia-task-types.js</code>: 6 tipos de tareas</p> </li> <li> <p>Controllers y Routes</p> </li> <li><code>mantia/controllers/item.controller.js</code></li> <li><code>mantia/controllers/task.controller.js</code></li> <li><code>mantia/controllers/location.controller.js</code></li> <li> <p><code>mantia/routes/index.js</code></p> </li> <li> <p>Migraci\u00f3n <pre><code>npx prisma migrate dev --name add_mantia_models\nnpx prisma db seed\n</code></pre></p> </li> </ol>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#sesion-3-mantia-frontend","title":"Sesi\u00f3n 3: Mantia Frontend","text":"<ol> <li> <p>Clonar app <pre><code>cp -r frontend/alacena-app frontend/mantia-app\n</code></pre></p> </li> <li> <p>Actualizar identidad</p> </li> <li>Colores (ej: naranja/marr\u00f3n para Mantia)</li> <li>Logo</li> <li> <p>T\u00edtulo</p> </li> <li> <p>Vistas b\u00e1sicas</p> </li> <li><code>/inventory</code>: Lista de items</li> <li><code>/tasks</code>: Tareas pendientes</li> <li><code>/cleaning</code>: Rutinas de limpieza</li> <li> <p><code>/item/[id]</code>: Detalle de item</p> </li> <li> <p>Deploy <pre><code>cd frontend/mantia-app\nvercel --prod\n</code></pre></p> </li> </ol>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#riesgos-y-mitigaciones","title":"Riesgos y Mitigaciones","text":""},{"location":"sesiones/2026-01-24--reestructuracion-eco/#riesgo-1-migracion-rompe-alacena-existente","title":"Riesgo 1: Migraci\u00f3n rompe Alacena existente","text":"<p>Mitigaci\u00f3n: - \u2705 Carpeta original <code>alacena/</code> preservada como backup - \u2705 Verificar funcionalidad despu\u00e9s de cada cambio - \u2705 Git commits frecuentes</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#riesgo-2-schema-muy-complejo-para-modificar","title":"Riesgo 2: Schema muy complejo para modificar","text":"<p>Mitigaci\u00f3n: - \u2705 Campos opcionales en Mantia (<code>String?</code>) - \u2705 Tablas separadas (categor\u00edas, task types) - \u2705 Relaciones con <code>onDelete: SetNull</code> donde tiene sentido</p> <p>Tiempos de modificaci\u00f3n estimados: - Agregar campo nuevo: 2-5 minutos - Modificar tipo de campo existente: 10-30 minutos - Cambiar relaci\u00f3n: 20-60 minutos - Restructuraci\u00f3n mayor: 1-2 horas</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#riesgo-3-sobrecarga-de-features","title":"Riesgo 3: Sobrecarga de features","text":"<p>Mitigaci\u00f3n: - \u2705 Implementar apps de a una - \u2705 MVP primero (Alacena funciona, Mantia b\u00e1sico) - \u2705 Iterar basado en uso real</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#aprendizajes-y-observaciones","title":"Aprendizajes y Observaciones","text":""},{"location":"sesiones/2026-01-24--reestructuracion-eco/#1-separacion-location-vs-item","title":"1. Separaci\u00f3n Location vs Item","text":"<p>Inicialmente se consider\u00f3: Todo son Items (jerarqu\u00eda pura) <pre><code>Departamento (Item)\n\u2514\u2500\u2500 Living (Item)\n    \u2514\u2500\u2500 Heladera (Item)\n</code></pre></p> <p>Se decidi\u00f3: Separar conceptos espaciales de objetos <pre><code>LIVING (Location)\n\u2514\u2500\u2500 Heladera (Item)\n</code></pre></p> <p>Raz\u00f3n: Mayor claridad conceptual y queries m\u00e1s simples</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#2-flexibilidad-del-schema","title":"2. Flexibilidad del Schema","text":"<p>Se dise\u00f1\u00f3 con campos opcionales y text fields para maximizar flexibilidad: - <code>dimensions String?</code> en vez de width/height/depth num\u00e9ricos - <code>power String?</code> en vez de watts num\u00e9rico - <code>status String</code> en vez de enum</p> <p>Ventaja: F\u00e1cil agregar nuevos valores sin migraci\u00f3n Desventaja: Menos validaci\u00f3n en DB, m\u00e1s en app layer</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#3-prefijos-en-nombres-de-tablas","title":"3. Prefijos en Nombres de Tablas","text":"<p>Se decidi\u00f3 prefijar todas las tablas de Mantia con <code>Mantia_</code>: - \u2705 Clara separaci\u00f3n de dominios - \u2705 Evita colisiones de nombres - \u2705 Facilita queries por app - \u2705 Posibilita separar DB m\u00e1s adelante</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#sesion-1-completada-24-de-enero-de-2026","title":"\u2705 Sesi\u00f3n 1 Completada - 24 de enero de 2026","text":""},{"location":"sesiones/2026-01-24--reestructuracion-eco/#resultado-migracion-exitosa","title":"Resultado: MIGRACI\u00d3N EXITOSA","text":"<p>Backend: \u2705 Completamente migrado y funcional Frontend: \u2705 Actualizado y funcionando (URL hardcodeada temporalmente) Pruebas: \u2705 Items, Locations, Menu cargando correctamente</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#notas-tecnicas","title":"Notas T\u00e9cnicas","text":"<p>Problema encontrado: Next.js no tomaba variables de <code>.env.local</code> Soluci\u00f3n temporal: Hardcodear <code>const API_URL = 'http://localhost:4000'</code> en archivos del frontend TODO: Arreglar variables de entorno para producci\u00f3n</p>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#archivos-con-url-hardcodeada-temporal","title":"Archivos con URL hardcodeada (temporal):","text":"<ul> <li><code>auth.ts</code></li> <li><code>app/dashboard/items/page.tsx</code></li> <li><code>app/dashboard/locations/page.tsx</code></li> <li><code>app/dashboard/menu/page.tsx</code></li> <li><code>app/dashboard/reserves/page.tsx</code></li> <li><code>app/dashboard/qr/page.tsx</code></li> <li><code>app/stock/[code]/page.tsx</code></li> <li><code>app/stock-control/page.tsx</code></li> <li><code>app/guest/menu/page.tsx</code></li> </ul>"},{"location":"sesiones/2026-01-24--reestructuracion-eco/#contexto-para-proxima-sesion","title":"Contexto para Pr\u00f3xima Sesi\u00f3n","text":"<p>Cuando retomes el proyecto, busca: 1. Este archivo: <code>docs/sesiones/2026-01-24--reestructuracion-eco.md</code> 2. Arquitectura completa: <code>docs/PROYECTO-ECO-ARQUITECTURA.md</code> 3. Estado del c\u00f3digo:     - \u2705 Carpeta eco/ creada    - \u2705 Estructura modular creada    - \u2705 C\u00f3digo Alacena movido a modules/alacena/    - \u2705 C\u00f3digo compartido movido a shared/    - \u2705 Backend funcional con nuevas rutas    - \u2705 Frontend actualizado con nuevas rutas</p> <p>Backend est\u00e1 corriendo:  <pre><code>cd C:\\Users\\Usuario\\eco\\backend\nnode src/server.js\n# \ud83e\uddfa Alacena backend corriendo en puerto 4000\n</code></pre></p> <p>Frontend en desarrollo: <pre><code>cd C:\\Users\\Usuario\\eco\\frontend\\alacena-app\nnpm run dev\n# http://localhost:3000\n</code></pre></p> <p>API funcionando: - Health: <code>http://localhost:4000/health</code> - Alacena: <code>http://localhost:4000/api/alacena/*</code> - Shared: <code>http://localhost:4000/api/shared/*</code></p> <p>Pr\u00f3ximo paso: Implementar Mantia backend (schema + controllers + routes)</p> <p>Fin de sesi\u00f3n - 24 de enero de 2026 Estado: \u2705 Migraci\u00f3n completa - Backend y Frontend listos Pr\u00f3xima sesi\u00f3n: Desarrollo de Mantia</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/","title":"\ud83d\udccb Sesi\u00f3n 24 Enero 2026 (Tarde) - Sistema de Taras y Control de Stock Masivo","text":"<p>Fecha: 24 de enero de 2026 Estado: \u2705 COMPLETADO Funcionalidades: Sistema de taras autom\u00e1ticas + Control de stock secuencial + C\u00f3digos QR</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#objetivos-alcanzados","title":"\ud83c\udfaf Objetivos Alcanzados","text":""},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#1-sistema-de-taras-para-frascos","title":"1. Sistema de Taras para Frascos \u2705","text":"<p>Problema Original: Usuario ten\u00eda que pesar el frasco vac\u00edo, pesarlo lleno, y calcular manualmente el peso neto del producto.</p> <p>Soluci\u00f3n Implementada: - Sistema de tipos de frascos con pesos de tara predefinidos - 4 tipos de frascos con taras espec\u00edficas:   - JAR-750-LOW: Frasco 750ml bajo - Tara: 637g   - JAR-750-HIGH: Frasco 750ml alto - Tara: 692g   - JAR-1000: Frasco 1000ml - Tara: 746g   - JAR-1500: Frasco 1500ml - Tara: 929g</p> <p>Flujo de Usuario Mejorado: 1. Usuario pesa frasco lleno en la balanza \u2192 obtiene peso total 2. Usuario escanea QR del frasco 3. Usuario ingresa peso total 4. App calcula autom\u00e1ticamente: Peso Neto = Peso Total - Tara 5. App muestra c\u00e1lculo en tiempo real: \"(694g total - 637g tara) = 57g neto\"</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#2-control-de-stock-masivo","title":"2. Control de Stock Masivo \u2705","text":"<p>Problema Original: Actualizar stock de 33 frascos uno por uno era tedioso y requer\u00eda escanear QR de cada frasco.</p> <p>Soluci\u00f3n Implementada: - P\u00e1gina dedicada que recorre autom\u00e1ticamente todos los frascos en secuencia - Orden: JAR-001 \u2192 JAR-002 \u2192 ... \u2192 JAR-033 - Navegaci\u00f3n autom\u00e1tica al presionar \"Actualizar\" o \"OK sin cambios\" - Barra de progreso visual mostrando avance - Tecla Enter para avance r\u00e1pido sin mouse - Pantalla de finalizaci\u00f3n al completar todos los frascos</p> <p>Caracter\u00edsticas: - \u2705 C\u00e1lculo autom\u00e1tico de tara integrado - \u2705 Bot\u00f3n \"OK sin cambios\" para frascos que no variaron - \u2705 Bot\u00f3n \"\u2190 Volver al anterior\" para correcciones - \u2705 Contador: \"Frasco X de 33\" + \"Y completados\" - \u2705 Mismo dise\u00f1o visual que p\u00e1gina de QR individual</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#3-sistema-de-codigos-qr","title":"3. Sistema de C\u00f3digos QR \u2705","text":"<p>Funcionalidad: Generaci\u00f3n e impresi\u00f3n de c\u00f3digos QR para acceso r\u00e1pido</p> <p>Caracter\u00edsticas: - Generaci\u00f3n de QR con librer\u00eda <code>qrcode</code> - Dise\u00f1o listo para imprimir y pegar en estanter\u00eda - Botones: \"Copiar URL\" e \"\ud83d\udda8\ufe0f Imprimir\" - Vista previa de impresi\u00f3n formateada con bordes - Instrucciones de uso incluidas en la p\u00e1gina</p> <p>QR Disponible: - Control de Stock Masivo: <code>https://alacena-blush.vercel.app/stock-control</code></p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#4-acceso-rapido-desde-menu","title":"4. Acceso R\u00e1pido desde Men\u00fa \u2705","text":"<p>Implementaci\u00f3n: Botones flotantes en esquina inferior derecha del men\u00fa de invitados</p> <p>Botones Agregados: - \ud83d\udccb Control de Stock: Acceso directo a <code>/stock-control</code> - \ud83d\udcf1 C\u00f3digos QR: Acceso a <code>/qr-codes</code> para generar e imprimir</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#archivos-creados","title":"\ud83d\udcc1 Archivos Creados","text":""},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#backend","title":"Backend","text":"<ol> <li>backend/prisma/update-jar-types.js (64 l\u00edneas)</li> <li>Script para crear/actualizar tipos de frascos con taras</li> <li>Upsert de 4 ContainerType con datos espec\u00edficos</li> <li>Actualizaci\u00f3n masiva de 33 contenedores existentes a JAR-750-LOW por defecto</li> <li>Ejecutado en local y en producci\u00f3n</li> </ol>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#frontend","title":"Frontend","text":"<ol> <li>frontend/alacena-app/app/stock-control/page.tsx (200+ l\u00edneas)</li> <li>P\u00e1gina principal de control de stock masivo</li> <li>L\u00f3gica de navegaci\u00f3n secuencial entre frascos</li> <li>C\u00e1lculo en tiempo real de peso neto</li> <li>Barra de progreso y contador de completados</li> <li> <p>Integraci\u00f3n completa con API de reserves</p> </li> <li> <p>frontend/alacena-app/app/qr-codes/page.tsx (150+ l\u00edneas)</p> </li> <li>Generaci\u00f3n de c\u00f3digos QR con canvas</li> <li>Funci\u00f3n de copia a portapapeles</li> <li>Sistema de impresi\u00f3n con ventana formateada</li> <li>Grid responsivo para m\u00faltiples QR</li> <li>Instrucciones de uso paso a paso</li> <li>FIX SSR: Movido <code>window.location.origin</code> a <code>useEffect</code> para evitar error en build</li> <li>Loading state mientras se generan los QR codes</li> </ol>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#archivos-modificados","title":"\ud83d\udd27 Archivos Modificados","text":""},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#backend_1","title":"Backend","text":"<ol> <li>backend/prisma/schema.prisma</li> <li>Ya ten\u00eda campo <code>typeId</code> en modelo Container</li> <li>Ya ten\u00eda modelo ContainerType con campo <code>tareWeight_g</code></li> <li>No requiri\u00f3 cambios (estructura ya estaba lista)</li> </ol>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#frontend_1","title":"Frontend","text":"<ol> <li>frontend/alacena-app/app/stock/[code]/page.tsx (45 inserciones, 14 eliminaciones)</li> <li>ANTES: Usuario ingresaba peso neto directamente</li> <li>DESPU\u00c9S: Usuario ingresa peso total, app calcula neto</li> </ol> <p>Cambios espec\u00edficos:    - Estado a\u00f1adido: <code>tare</code> (peso de tara del frasco)    - Estado renombrado: <code>newWeight</code> \u2192 <code>totalWeight</code>    - Funci\u00f3n nueva: <code>calculateNetWeight(total) = max(0, total - tare)</code>    - Carga de datos: Extrae <code>container.type?.tareWeight_g</code> del API    - Input cambiado: \"Peso Neto\" \u2192 \"Peso Total del Frasco\"    - Display: Muestra \"Peso neto: Xg\" + \"(Yg total - Zg tara)\"    - Botones r\u00e1pidos ajustados:      * Vac\u00edo: <code>setTotalWeight(tare)</code> en vez de 0      * Mitad: <code>(currentWeight / 2) + tare</code>      * Lleno: <code>currentWeight + tare</code>    - Handler de actualizaci\u00f3n: Env\u00eda <code>calculateNetWeight(totalWeight)</code> al API</p> <ol> <li>frontend/alacena-app/app/guest/menu/page.tsx</li> <li>Agregado: <code>import Link from 'next/link'</code></li> <li>Agregado: Botones flotantes con efectos hover</li> <li>Estilo: Gradientes amber y slate para diferenciaci\u00f3n visual</li> <li> <p>Animaci\u00f3n: Scale on hover y shadow effects</p> </li> <li> <p>frontend/alacena-app/package.json</p> </li> <li>Dependencia a\u00f1adida: <code>\"qrcode\": \"^1.5.x\"</code></li> <li>DevDependency a\u00f1adida: <code>\"@types/qrcode\": \"^1.5.x\"</code></li> </ol>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#deploys-realizados","title":"\ud83d\ude80 Deploys Realizados","text":""},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#deploy-1-sistema-de-taras-backend-frontend","title":"Deploy 1: Sistema de Taras (Backend + Frontend)","text":"<p>Commits: - Backend: <code>feat: implementa sistema de taras para frascos con 4 tipos y pesos espec\u00edficos</code> - Frontend: <code>feat: implementa c\u00e1lculo autom\u00e1tico de tara - usuario ingresa peso total y app calcula neto</code></p> <p>Estado: \u2705 Exitoso</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#deploy-2-control-de-stock-qr","title":"Deploy 2: Control de Stock + QR","text":"<p>Commits: - <code>feat: control de stock masivo - recorre todos los frascos secuencialmente con c\u00e1lculo de tara autom\u00e1tico + c\u00f3digos QR imprimibles</code></p> <p>Estado: \u274c Error inicial (faltaba @types/qrcode)</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#deploy-3-fix-typescript","title":"Deploy 3: Fix TypeScript","text":"<p>Commit: - <code>fix: agrega @types/qrcode para TypeScript</code></p> <p>Estado: \u2705 Exitoso</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#deploy-4-fix-ssr","title":"Deploy 4: Fix SSR","text":"<p>Commit: - <code>fix: resuelve error SSR en p\u00e1gina QR - mueve window.location a useEffect</code></p> <p>Problema: <code>ReferenceError: window is not defined</code> durante build de Vercel Soluci\u00f3n: Mover acceso a <code>window.location.origin</code> dentro de <code>useEffect</code> para ejecutar solo en cliente Estado: \u2705 Exitoso</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#cambios-en-base-de-datos","title":"\ud83d\uddc4\ufe0f Cambios en Base de Datos","text":""},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#produccion-flyio","title":"Producci\u00f3n (Fly.io)","text":"<p>Ejecuci\u00f3n del script: <pre><code>fly ssh console -a alacena-backend\ncd /app\nnode prisma/update-jar-types.js\n</code></pre></p> <p>Resultado: <pre><code>\ud83c\udffa Actualizando tipos de frascos con taras...\n\u2713 JAR-750-LOW: Frasco 750ml bajo - Tara: 637g\n\u2713 JAR-750-HIGH: Frasco 750ml alto - Tara: 692g\n\u2713 JAR-1000: Frasco 1000ml - Tara: 746g\n\u2713 JAR-1500: Frasco 1500ml - Tara: 929g\n\n\ud83d\udce6 Actualizando frascos existentes al tipo por defecto...\n\u2713 33 frascos actualizados a tipo JAR-750-LOW (637g)\n\n\u2705 Tipos de frascos actualizados correctamente!\n</code></pre></p> <p>Estado Final: - 4 registros en tabla <code>ContainerType</code> con taras configuradas - 33 registros en tabla <code>Container</code> con <code>typeId</code> apuntando a JAR-750-LOW - Todos los frascos tienen tara de 637g por defecto (ajustable manualmente despu\u00e9s)</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#estadisticas-de-sesion","title":"\ud83d\udcca Estad\u00edsticas de Sesi\u00f3n","text":""},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#codigo-escrito","title":"C\u00f3digo Escrito","text":"<ul> <li>Nuevos archivos: 3 (1 backend, 2 frontend)</li> <li>Archivos modificados: 4</li> <li>L\u00edneas agregadas: ~600 l\u00edneas</li> <li>L\u00edneas eliminadas: ~16 l\u00edneas</li> </ul>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#funcionalidades-implementadas","title":"Funcionalidades Implementadas","text":"<ul> <li>\u2705 4 tipos de frascos con taras espec\u00edficas</li> <li>\u2705 C\u00e1lculo autom\u00e1tico de peso neto</li> <li>\u2705 Control de stock masivo secuencial</li> <li>\u2705 Sistema de generaci\u00f3n de QR codes</li> <li>\u2705 Botones de acceso r\u00e1pido en men\u00fa</li> <li>\u2705 Migraci\u00f3n de datos en producci\u00f3n</li> </ul>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#bugs-resueltos","title":"Bugs Resueltos","text":"<ul> <li>\u2705 Error de tipos TypeScript en m\u00f3dulo qrcode</li> <li>\u2705 Error SSR con window.location.origin en build de Vercel</li> <li>\u2705 Navegaci\u00f3n manual tediosa para actualizar stock</li> </ul>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#deploys-realizados_1","title":"Deploys Realizados","text":"<ul> <li>\u2705 Deploy 1: Sistema de taras (backend + frontend)</li> <li>\u2705 Deploy 2: Control masivo + QR codes</li> <li>\u2705 Deploy 3: Fix tipos TypeScript (@types/qrcode)</li> <li>\u2705 Deploy 4: Fix SSR (window.location en useEffect)</li> </ul>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#aprendizajes-y-decisiones-tecnicas","title":"\ud83c\udf93 Aprendizajes y Decisiones T\u00e9cnicas","text":""},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#1-diseno-de-taras","title":"1. Dise\u00f1o de Taras","text":"<p>Decisi\u00f3n: Usar tipos de contenedores en lugar de tara individual por frasco Raz\u00f3n:  - Escala mejor (33 frascos compartiendo 4 tipos) - M\u00e1s f\u00e1cil de mantener (cambio en tipo afecta a todos los frascos de ese tipo) - Permite migraci\u00f3n gradual (cambiar tipo de frasco manualmente despu\u00e9s)</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#2-calculo-client-side","title":"2. C\u00e1lculo Client-Side","text":"<p>Decisi\u00f3n: Calcular peso neto en el frontend antes de enviar al backend Raz\u00f3n: - Feedback inmediato al usuario (no espera respuesta del servidor) - Validaci\u00f3n visual antes de guardar - Backend sigue siendo stateless (recibe valor final)</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#3-navegacion-automatica","title":"3. Navegaci\u00f3n Autom\u00e1tica","text":"<p>Decisi\u00f3n: Avanzar autom\u00e1ticamente al siguiente frasco tras actualizar Raz\u00f3n: - Optimiza flujo de trabajo (minimiza clics) - Permite uso con teclado (Enter + n\u00fameros) - Mantiene contexto (usuario en \"modo actualizaci\u00f3n\")</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#4-orden-de-frascos","title":"4. Orden de Frascos","text":"<p>Decisi\u00f3n: Ordenar por c\u00f3digo alfanum\u00e9rico (JAR-001, JAR-002, etc.) Raz\u00f3n: - Coincide con organizaci\u00f3n f\u00edsica en estanter\u00eda - Predecible para el usuario - F\u00e1cil de seguir visualmente</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#5-botones-flotantes","title":"5. Botones Flotantes","text":"<p>Decisi\u00f3n: Ubicar botones de acceso en esquina inferior derecha Raz\u00f3n: - No interfiere con contenido principal - Est\u00e1ndar UX para acciones secundarias - F\u00e1cilmente accesible en mobile - Expand on hover para descubrir funcionalidad</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#trabajo-futuro-sugerido","title":"\ud83d\udd2e Trabajo Futuro Sugerido","text":""},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#mejoras-potenciales","title":"Mejoras Potenciales","text":"<ol> <li>Ajuste Individual de Tipos: P\u00e1gina admin para cambiar tipo de frasco espec\u00edfico</li> <li>Historial de Cambios: Log de actualizaciones de stock con timestamp</li> <li>Escaneo Continuo: Usar c\u00e1mara para escanear QRs sin cerrar control masivo</li> <li>Predicci\u00f3n de Consumo: Analizar tendencias de uso de productos</li> <li>Alertas de Stock Bajo: Notificaciones cuando frasco &lt; 20% de capacidad</li> <li>M\u00e1s QR Codes: QR para men\u00fa, reservas, estad\u00edsticas, etc.</li> <li>Exportar Datos: CSV/Excel del estado actual de stock</li> <li>Gr\u00e1ficos: Visualizaci\u00f3n de niveles de stock en dashboard</li> </ol>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#optimizaciones","title":"Optimizaciones","text":"<ol> <li>Lazy Loading: Cargar frascos en lotes de 10 en control masivo</li> <li>Service Worker: Offline support para actualizar stock sin internet</li> <li>Cach\u00e9: Guardar progreso localmente y sincronizar despu\u00e9s</li> <li>Shortcuts: Atajos de teclado (n\u00fameros 1-9 para quick-fill)</li> </ol>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#notas-de-implementacion","title":"\ud83d\udcdd Notas de Implementaci\u00f3n","text":""},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#testing-manual-realizado","title":"Testing Manual Realizado","text":"<ol> <li>\u2705 QR Scan individual con c\u00e1lculo de tara (JAR-003)</li> <li>\u2705 Control de stock masivo (navegaci\u00f3n secuencial)</li> <li>\u2705 Generaci\u00f3n de c\u00f3digo QR imprimible</li> <li>\u2705 Botones flotantes en men\u00fa</li> <li>\u2705 C\u00e1lculo en tiempo real de peso neto</li> <li>\u2705 Validaci\u00f3n de campos (no permitir negativos)</li> </ol>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#consideraciones-de-ux","title":"Consideraciones de UX","text":"<ul> <li>Autoenfoque: Input de peso tiene <code>autoFocus</code> para escribir inmediatamente</li> <li>Tecla Enter: Submit r\u00e1pido sin usar mouse</li> <li>Feedback Visual: C\u00e1lculo mostrado en tiempo real bajo el input</li> <li>Progreso Visible: Barra + contador para saber cu\u00e1nto falta</li> <li>Prevenci\u00f3n de Errores: Bot\u00f3n \"Volver\" para corregir sin reiniciar</li> <li>Confirmaci\u00f3n Final: Pantalla de completado celebrando logro</li> </ul>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#decisiones-de-diseno-ui","title":"Decisiones de Dise\u00f1o UI","text":"<ul> <li>Gradientes Consistentes: Amber para acciones primarias, Slate para secundarias</li> <li>Iconos Claros: \ud83c\udffa frascos, \ud83d\udccb control, \ud83d\udcf1 QR, \u2705 completado</li> <li>Responsive: Grid adaptativo para diferentes tama\u00f1os de pantalla</li> <li>Dark Mode: Fondo oscuro con cards claras para contraste</li> </ul>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#urls-de-acceso","title":"\ud83d\udd17 URLs de Acceso","text":""},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#produccion","title":"Producci\u00f3n","text":"<ul> <li>Control de Stock Masivo: https://alacena-blush.vercel.app/stock-control</li> <li>C\u00f3digos QR (Imprimir): https://alacena-blush.vercel.app/qr-codes</li> <li>Men\u00fa (con botones flotantes): https://alacena-blush.vercel.app/guest/menu</li> <li>Stock Individual (QR): https://alacena-blush.vercel.app/stock/JAR-XXX</li> </ul>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#acceso-rapido","title":"Acceso R\u00e1pido","text":"<p>3 formas de acceder al control masivo: 1. Bot\u00f3n flotante \ud83d\udccb en esquina inferior derecha del men\u00fa 2. URL directa: /stock-control 3. QR Code: Ir a /qr-codes \u2192 Imprimir \u2192 Escanear</p>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#local-desarrollo","title":"Local (Desarrollo)","text":"<ul> <li>Frontend: http://localhost:3001</li> <li>Backend: http://localhost:3000</li> </ul>"},{"location":"sesiones/2026-01-24--sistema-taras-control-stock/#checklist-de-finalizacion","title":"\u2705 Checklist de Finalizaci\u00f3n","text":"<ul> <li> Sistema de taras implementado y desplegado</li> <li> Script de migraci\u00f3n ejecutado en producci\u00f3n</li> <li> Control de stock masivo funcionando</li> <li> C\u00f3digos QR gener\u00e1ndose correctamente</li> <li> Botones de acceso r\u00e1pido agregados</li> <li> Error de TypeScript resuelto</li> <li> Tests manuales completados</li> <li> Documentaci\u00f3n actualizada</li> <li> Commits con mensajes descriptivos</li> <li> Deploy exitoso en Vercel y Fly.io</li> </ul> <p>Sesi\u00f3n completada exitosamente \ud83c\udf89</p>"},{"location":"sesiones/2026-02-06--sesion7-plan/","title":"Sesi\u00f3n 7 - Planning Sprint 2","text":"<p>Fecha: 6 de febrero de 2026 Duraci\u00f3n estimada: 3-4 horas Estado: \ud83d\udfe1 Pendiente</p>"},{"location":"sesiones/2026-02-06--sesion7-plan/#objetivos","title":"\ud83c\udfaf Objetivos","text":""},{"location":"sesiones/2026-02-06--sesion7-plan/#1-priorizar-backlog-de-161-historias","title":"1. Priorizar backlog de 161 historias","text":"<ul> <li>Revisar 161 historias en gesti\u00f3n visual</li> <li>Clasificar historias en milestones (v0.1, v0.2, v0.3, v1.0)</li> <li>Identificar dependencias cr\u00edticas</li> <li>Decidir alcance de Sprint 2</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#2-crear-milestones-en-github","title":"2. Crear Milestones en GitHub","text":"<ul> <li>v0.1 - MVP Core (Mar 2026) - MANTIA + ALACENA b\u00e1sico</li> <li>v0.2 - Extensiones (Abr 2026) - Lista + ECOSALUD</li> <li>v0.3 - IA &amp; Voz (May 2026) - API GraphQL + Agente</li> <li>v1.0 - Producci\u00f3n (Jun 2026) - Multi-usuario + Seguridad</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#3-planificar-sprint-2","title":"3. Planificar Sprint 2","text":"<ul> <li>Seleccionar 15-20 historias para Sprint 2</li> <li>Asignar issues a Sprint 2 milestone</li> <li>Estimar esfuerzo total</li> <li>Definir criterios de aceptaci\u00f3n</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#4-validar-arquitectura-api","title":"4. Validar arquitectura API","text":"<ul> <li>Revisar schema GraphQL (API-01 a API-04)</li> <li>Validar integraci\u00f3n con Agente IA</li> <li>Documentar flujo de autenticaci\u00f3n JWT para API</li> <li>Verificar compatibilidad con OpenAI API</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#tareas-especificas","title":"\ud83d\udccb Tareas Espec\u00edficas","text":""},{"location":"sesiones/2026-02-06--sesion7-plan/#fase-1-revision-de-historias-60-min","title":"Fase 1: Revisi\u00f3n de Historias (60 min)","text":"<ul> <li> Abrir p\u00e1gina de gesti\u00f3n visual</li> <li> Revisar 26 historias P2 y validar prioridad</li> <li> Identificar 1 historia P1 (ALA-11) y asignar a Sprint 2</li> <li> Marcar historias que pueden archivarse o bajar prioridad</li> <li> Documentar decisiones de priorizaci\u00f3n</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#fase-2-milestones-en-github-45-min","title":"Fase 2: Milestones en GitHub (45 min)","text":"<ul> <li> Crear 4 milestones en GitHub</li> <li> Asignar fechas de cierre a cada milestone</li> <li> Distribuir 95 issues existentes entre milestones</li> <li> Agregar descripci\u00f3n y criterios a cada milestone</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#fase-3-sprint-2-planning-90-min","title":"Fase 3: Sprint 2 Planning (90 min)","text":"<ul> <li> Seleccionar 15 historias para Sprint 2</li> <li> Prioridad: ALA-11 (P1), MAN-08, MAN-09 (P2), ALA-08 (P2)</li> <li> Crear tasks/sub-issues si es necesario</li> <li> Asignar labels: <code>sprint-2</code>, <code>en-progreso</code></li> <li> Estimar: apuntar a 40-60 horas total (2 semanas)</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#fase-4-arquitectura-api-60-min","title":"Fase 4: Arquitectura API (60 min)","text":"<ul> <li> Revisar API-01 - Schema GraphQL</li> <li> Dise\u00f1ar queries conversacionales: <code>askWhatCanICook(ingredients, people)</code></li> <li> Validar autenticaci\u00f3n JWT en GraphQL context</li> <li> Documentar integraciones: Whisper STT + OpenAI GPT + Home Assistant</li> <li> Crear ADR si es necesario</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#criterios-de-exito","title":"\ud83c\udfaf Criterios de \u00c9xito","text":""},{"location":"sesiones/2026-02-06--sesion7-plan/#backlog-priorizado","title":"Backlog Priorizado","text":"<ul> <li>\u2705 161 historias clasificadas en 4 milestones</li> <li>\u2705 Dependencias identificadas y documentadas</li> <li>\u2705 Historias P1 y P2 asignadas a milestones correctos</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#sprint-2-definido","title":"Sprint 2 Definido","text":"<ul> <li>\u2705 15 historias seleccionadas y asignadas</li> <li>\u2705 Issues etiquetados con <code>sprint-2</code></li> <li>\u2705 Estimaci\u00f3n total entre 40-60 horas</li> <li>\u2705 Criterios de aceptaci\u00f3n claros en cada issue</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#arquitectura-validada","title":"Arquitectura Validada","text":"<ul> <li>\u2705 Schema GraphQL dise\u00f1ado</li> <li>\u2705 Queries conversacionales definidas</li> <li>\u2705 Flujo de autenticaci\u00f3n documentado</li> <li>\u2705 Integraciones con IA planificadas</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#distribucion-sugerida-de-milestones","title":"\ud83d\udcca Distribuci\u00f3n Sugerida de Milestones","text":""},{"location":"sesiones/2026-02-06--sesion7-plan/#v01-mvp-core-15-mar-2026","title":"v0.1 - MVP Core (15 Mar 2026)","text":"<p>Objetivo: Funcionalidad b\u00e1sica de MANTIA y ALACENA Total: ~30 historias</p> <ul> <li>MANTIA: MAN-01 a MAN-07 (Sprint 1 \u2705), MAN-08, MAN-09</li> <li>ALACENA: ALA-05, ALA-06, ALA-07 (Sprint 1 \u2705), ALA-08, ALA-11 (P1)</li> <li>Lista: LST-01 a LST-05 (Sprint 1 \u2705), LST-06, LST-07</li> <li>ECOSALUD: ECO-01, ECO-02, ECO-03 (Sprint 1 \u2705)</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#v02-extensiones-15-abr-2026","title":"v0.2 - Extensiones (15 Abr 2026)","text":"<p>Objetivo: Completar m\u00f3dulos core + notificaciones Total: ~40 historias</p> <ul> <li>MANTIA: MAN-10 a MAN-15</li> <li>ALACENA: ALA-10, ALA-12, ALA-13, ALA-14, ALA-17, ALA-18</li> <li>Lista: LST-08, LST-11, LST-14, LST-18</li> <li>ECOSALUD: ECO-04, ECO-05, ECO-06, ECO-07, ECO-09</li> <li>Notificaciones: NOT-01 a NOT-10</li> <li>Multi-usuario: USR-01 a USR-05</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#v03-ia-voz-15-may-2026","title":"v0.3 - IA &amp; Voz (15 May 2026)","text":"<p>Objetivo: API GraphQL + Agente conversacional Total: ~40 historias</p> <ul> <li>API para IA: API-01 a API-15</li> <li>Agente: AGT-01 a AGT-12</li> <li>Infraestructura: INF-04, INF-05 (WebSockets)</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#v10-produccion-15-jun-2026","title":"v1.0 - Producci\u00f3n (15 Jun 2026)","text":"<p>Objetivo: Seguridad, backups, optimizaciones Total: ~51 historias</p> <ul> <li>Seguridad: SEG-01 a SEG-12</li> <li>Backups: BCK-01 a BCK-10</li> <li>UX: UX-01 a UX-15</li> <li>Infraestructura: INF-01 a INF-14</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#recursos","title":"\ud83d\udd17 Recursos","text":"<ul> <li>Gesti\u00f3n Visual de Historias</li> <li>Backlog Completo</li> <li>GitHub Issues</li> <li>GitHub Milestones</li> <li>Workflow de Gesti\u00f3n</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#notas","title":"\ud83d\udca1 Notas","text":""},{"location":"sesiones/2026-02-06--sesion7-plan/#dependencias-criticas","title":"Dependencias Cr\u00edticas","text":"<ul> <li>API GraphQL (API-01 a API-04) debe ir antes del Agente</li> <li>Multi-usuario requiere cambios en todos los CRUDs</li> <li>Notificaciones dependen de configuraci\u00f3n de usuario (USR-03)</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#integraciones-planificadas","title":"Integraciones Planificadas","text":"<ul> <li>OpenAI API: GPT-4 para agente conversacional</li> <li>Whisper: Speech-to-text para comandos de voz</li> <li>Home Assistant: Control de voz desde dispositivos</li> <li>Google Fit: Sincronizaci\u00f3n de datos de salud</li> <li>Google Calendar: Sincronizaci\u00f3n de tareas</li> <li>Todoist/Notion: Importaci\u00f3n de tareas</li> </ul>"},{"location":"sesiones/2026-02-06--sesion7-plan/#estimaciones-por-tamano","title":"Estimaciones por Tama\u00f1o","text":"<ul> <li>S (Small): 2-4 horas \u2192 60 historias</li> <li>M (Medium): 4-8 horas \u2192 70 historias</li> <li>L (Large): 8-16 horas \u2192 25 historias</li> <li>XL (Extra Large): 16+ horas \u2192 6 historias</li> </ul> <p>Total estimado: ~800-1200 horas de desarrollo</p>"},{"location":"sesiones/2026-02-06--sesion7-plan/#proximos-pasos-despues-de-sesion-7","title":"\ud83d\udcdd Pr\u00f3ximos Pasos despu\u00e9s de Sesi\u00f3n 7","text":"<ol> <li>Inicio Sprint 2 (7 Feb)</li> <li>Comenzar con ALA-11 (P1 - Ordenar por vencimiento)</li> <li>Setup entorno de desarrollo local</li> <li> <p>Verificar tests existentes</p> </li> <li> <p>Daily Progress (8-20 Feb)</p> </li> <li>Completar 15 historias de Sprint 2</li> <li>Actualizar issues en GitHub</li> <li> <p>Documentar decisiones t\u00e9cnicas</p> </li> <li> <p>Sprint Review (21 Feb)</p> </li> <li>Demo de funcionalidades completadas</li> <li>Retrospectiva del sprint</li> <li>Planificar Sprint 3</li> </ol> <p>Preparado por: GitHub Copilot \u00daltima actualizaci\u00f3n: 5 de febrero de 2026</p>"},{"location":"sesiones/INDEX/","title":"\ud83d\udcda \u00cdndice de Sesiones - ECO Platform","text":""},{"location":"sesiones/INDEX/#sesiones-documentadas","title":"Sesiones documentadas","text":"Fecha Hora T\u00edtulo Objetivos Estado 2026-01-16 10:15-17:45 Deploy Completo a Producci\u00f3n - Fly.io Frontend + Backend en la nube (Vercel + Fly.io), accesible desde celular \u2705 Completado 2026-01-17 18:30-22:00 Dashboard Completo + Autenticaci\u00f3n JWT 4 p\u00e1ginas CRUD, login/register con backend, validaciones Zod \u2705 Completado 2026-01-24 Ma\u00f1ana Deploy v1.0 Completo Primera versi\u00f3n 100% online, migraci\u00f3n a PostgreSQL, fixes cr\u00edticos \u2705 Completado 2026-01-24 Tarde Sistema de Taras y Control Masivo C\u00e1lculo autom\u00e1tico de tara, control secuencial de stock, c\u00f3digos QR \u2705 Completado 2026-01-24 Tarde Reestructuraci\u00f3n ECO Platform Migraci\u00f3n modular, shared code, theme system, type generation \u2705 Completado 2026-01-25 10:00+ Sistema de Documentaci\u00f3n y Metodolog\u00eda \u00c1gil Gesti\u00f3n de proyecto, backlog, sprints, templates \ud83c\udfc3 En progreso"},{"location":"sesiones/INDEX/#notas-de-uso","title":"\ud83d\udccc Notas de uso","text":"<ul> <li>Nombre de archivo: <code>YYYY-MM-DD--HH-MM--titulo-corto.md</code></li> <li>Cada sesi\u00f3n contiene: objetivos, acciones realizadas, cambios en archivos, errores, y pendientes</li> <li>Actualizar este INDEX cada vez que se crea una nueva sesi\u00f3n</li> <li>Links internos usan rutas relativas: <code>[nombre](./YYYY-MM-DD--titulo.md)</code></li> </ul>"},{"location":"sesiones/INDEX/#flujo-de-trabajo","title":"\ud83d\udd04 Flujo de trabajo","text":"<ol> <li>Empezar sesi\u00f3n: Usuario dice qu\u00e9 quiere hacer</li> <li>Revisar INDEX: Copilot chequea qu\u00e9 qued\u00f3 pendiente + sprint actual</li> <li>Trabajar: Copilot documenta cambios en memoria</li> <li>Finalizar: Usuario dice \"Finalizamos la sesi\u00f3n\" \u2192 Copilot ejecuta cierre autom\u00e1tico:</li> <li>Crea <code>docs/sesiones/YYYY-MM-DD--HH-MM--titulo.md</code> con toda la info</li> <li>Actualiza <code>docs/sesiones/INDEX.md</code> con nueva entrada</li> <li>Actualiza <code>docs/CHANGELOG.md</code> si hay cambios importantes</li> <li>Actualiza <code>docs/sprints/YYYY-MM-WNN.md</code> con progreso</li> <li>Actualiza <code>docs/BACKLOG.md</code> marcando tareas completadas</li> <li>Muestra resumen: \"\u2705 Sesi\u00f3n guardada | \ud83d\udcdd X archivos | \u2728 Y tareas | \ud83d\udccc Z pendientes\"</li> <li>Siguiente sesi\u00f3n: Repetir desde paso 1</li> </ol> <p>Sistema implementado el 2026-01-16 Mejorado con automatizaci\u00f3n el 2026-01-25</p>"},{"location":"sessions/TEMPLATE/","title":"\ud83d\udcdd Sesi\u00f3n: [T\u00edtulo Descriptivo]","text":"<p>Fecha: YYYY-MM-DD Hora Inicio: HH:MM Hora Fin: HH:MM Duraci\u00f3n: X horas Sprint: [YYYY-MM-WNN o \"Sin sprint asignado\"]</p>"},{"location":"sessions/TEMPLATE/#objetivos-de-la-sesion","title":"\ud83c\udfaf Objetivos de la Sesi\u00f3n","text":"<ol> <li>[Objetivo espec\u00edfico 1]</li> <li>[Objetivo espec\u00edfico 2]</li> <li>[Objetivo espec\u00edfico 3]</li> </ol>"},{"location":"sessions/TEMPLATE/#tareas-abordadas","title":"\ud83d\udccb Tareas Abordadas","text":""},{"location":"sessions/TEMPLATE/#completadas","title":"Completadas \u2705","text":"<ul> <li> [MUST-XXX] T\u00edtulo de tarea</li> <li>Archivos modificados: <code>path/file.ts</code>, <code>path/file2.tsx</code></li> <li>Tiempo: XX minutos</li> <li> <p>Notas: [Detalles importantes]</p> </li> <li> <p> [SHOULD-YYY] Otra tarea</p> </li> <li>...</li> </ul>"},{"location":"sessions/TEMPLATE/#en-progreso","title":"En Progreso \ud83c\udfc3","text":"<ul> <li> [MUST-ZZZ] Tarea iniciada pero no terminada</li> <li>Progreso: 60%</li> <li>Bloqueado por: [Raz\u00f3n]</li> <li>Siguiente paso: [Acci\u00f3n a tomar]</li> </ul>"},{"location":"sessions/TEMPLATE/#no-abordadas","title":"No Abordadas \u23f8\ufe0f","text":"<ul> <li> [COULD-AAA] Tarea planificada pero pospuesta</li> <li>Raz\u00f3n: [Por qu\u00e9 no se hizo]</li> </ul>"},{"location":"sessions/TEMPLATE/#cambios-realizados","title":"\ud83d\udd27 Cambios Realizados","text":""},{"location":"sessions/TEMPLATE/#backend","title":"Backend","text":""},{"location":"sessions/TEMPLATE/#archivos-modificados","title":"Archivos Modificados","text":"<ul> <li><code>backend/src/path/file.js</code></li> <li>Cambio: [Descripci\u00f3n del cambio]</li> <li> <p>Raz\u00f3n: [Por qu\u00e9 se hizo]</p> </li> <li> <p><code>backend/package.json</code></p> </li> <li>Cambio: Agregado script <code>generate:types</code></li> <li>Raz\u00f3n: Automatizar generaci\u00f3n de tipos</li> </ul>"},{"location":"sessions/TEMPLATE/#archivos-creados","title":"Archivos Creados","text":"<ul> <li><code>backend/prisma/generate-types.js</code></li> <li>Prop\u00f3sito: [Para qu\u00e9 sirve]</li> </ul>"},{"location":"sessions/TEMPLATE/#frontend","title":"Frontend","text":""},{"location":"sessions/TEMPLATE/#archivos-modificados_1","title":"Archivos Modificados","text":"<ul> <li><code>frontend/alacena-app/app/page.tsx</code></li> <li>Cambio: [Descripci\u00f3n]</li> <li>Raz\u00f3n: [Por qu\u00e9]</li> </ul>"},{"location":"sessions/TEMPLATE/#archivos-creados_1","title":"Archivos Creados","text":"<ul> <li><code>frontend/shared/hooks/usePagination.ts</code></li> <li>Prop\u00f3sito: Hook para manejo de estado de paginaci\u00f3n</li> </ul>"},{"location":"sessions/TEMPLATE/#documentacion","title":"Documentaci\u00f3n","text":"<ul> <li><code>docs/CHANGELOG.md</code> - Actualizado con versi\u00f3n vX.X.X</li> <li><code>docs/BACKLOG.md</code> - Marcadas tareas completadas</li> <li><code>docs/sprints/YYYY-MM-WNN.md</code> - Actualizado progreso</li> </ul>"},{"location":"sessions/TEMPLATE/#comandos-ejecutados","title":"\ud83d\udcbb Comandos Ejecutados","text":"<pre><code># Backend\ncd backend\nnpm install --save-dev @types/node typescript\nnpm run generate:types\n\n# Frontend\ncd frontend/alacena-app\nrm -rf .next\nnpm run dev\n\n# Git\ngit add -A\ngit commit -m \"feat: descripci\u00f3n del cambio\"\ngit push origin main\n</code></pre>"},{"location":"sessions/TEMPLATE/#errores-encontrados","title":"\ud83d\udc1b Errores Encontrados","text":""},{"location":"sessions/TEMPLATE/#bug-xxx-titulo-del-bug","title":"[BUG-XXX] T\u00edtulo del Bug","text":"<ul> <li>Descripci\u00f3n: [Qu\u00e9 pas\u00f3]</li> <li>Reproducci\u00f3n: [Pasos para reproducir]</li> <li>Causa: [Raz\u00f3n del error]</li> <li>Soluci\u00f3n: [C\u00f3mo se resolvi\u00f3]</li> <li>Archivos afectados: <code>path/file.ts</code></li> <li>Estado: \u2705 Resuelto / \ud83c\udfc3 En investigaci\u00f3n / \ud83d\udeab Bloqueado</li> </ul>"},{"location":"sessions/TEMPLATE/#bug-yyy-otro-error","title":"[BUG-YYY] Otro Error","text":"<p>...</p>"},{"location":"sessions/TEMPLATE/#tests-realizados","title":"\ud83e\uddea Tests Realizados","text":""},{"location":"sessions/TEMPLATE/#manuales","title":"Manuales","text":"<ul> <li> Login con usuario de prueba \u2192 \u2705 OK</li> <li> Crear nuevo item \u2192 \u2705 OK</li> <li> Paginaci\u00f3n en items \u2192 \u2705 OK</li> <li> Deploy a producci\u00f3n \u2192 \u23f8\ufe0f Pendiente</li> </ul>"},{"location":"sessions/TEMPLATE/#automaticos","title":"Autom\u00e1ticos","text":"<ul> <li> Tests unitarios \u2192 N/A (no implementados a\u00fan)</li> <li> Tests E2E \u2192 N/A</li> </ul>"},{"location":"sessions/TEMPLATE/#deployments","title":"\ud83d\udce6 Deployments","text":""},{"location":"sessions/TEMPLATE/#backend_1","title":"Backend","text":"<ul> <li>Servicio: Fly.io</li> <li>URL: https://[app].fly.dev</li> <li>Commit: [hash]</li> <li>Estado: \u2705 Deployed / \u23f8\ufe0f No deployed</li> <li>Notas: [Detalles]</li> </ul>"},{"location":"sessions/TEMPLATE/#frontend_1","title":"Frontend","text":"<ul> <li>Servicio: Vercel</li> <li>URL: https://[app].vercel.app</li> <li>Commit: [hash]</li> <li>Estado: \u2705 Deployed / \u23f8\ufe0f No deployed</li> <li>Notas: [Detalles]</li> </ul>"},{"location":"sessions/TEMPLATE/#decisiones-tecnicas","title":"\ud83d\udcda Decisiones T\u00e9cnicas","text":""},{"location":"sessions/TEMPLATE/#decision-1-titulo","title":"Decisi\u00f3n 1: [T\u00edtulo]","text":"<ul> <li>Contexto: [Por qu\u00e9 surgi\u00f3 la necesidad]</li> <li>Opciones consideradas:</li> <li>Opci\u00f3n A: [Pros y contras]</li> <li>Opci\u00f3n B: [Pros y contras]</li> <li>Decisi\u00f3n final: Opci\u00f3n B</li> <li>Raz\u00f3n: [Por qu\u00e9 se eligi\u00f3]</li> <li>Impacto: [Qu\u00e9 afecta esta decisi\u00f3n]</li> </ul>"},{"location":"sessions/TEMPLATE/#decision-2","title":"Decisi\u00f3n 2: ...","text":""},{"location":"sessions/TEMPLATE/#aprendizajes","title":"\ud83d\udca1 Aprendizajes","text":""},{"location":"sessions/TEMPLATE/#tecnicos","title":"T\u00e9cnicos","text":"<ol> <li>[Aprendizaje t\u00e9cnico importante]</li> <li>[Otro insight]</li> </ol>"},{"location":"sessions/TEMPLATE/#metodologicos","title":"Metodol\u00f3gicos","text":"<ol> <li>[Algo sobre el proceso de trabajo]</li> <li>[Mejora identificada]</li> </ol>"},{"location":"sessions/TEMPLATE/#pendientes-para-proxima-sesion","title":"\ud83d\udccc Pendientes para Pr\u00f3xima Sesi\u00f3n","text":""},{"location":"sessions/TEMPLATE/#criticos-must","title":"Cr\u00edticos (Must)","text":"<ol> <li>[MUST-XXX] [Descripci\u00f3n]</li> <li>Context: [Por qu\u00e9 es importante]</li> <li>Blocker: [Si hay algo que bloquea]</li> </ol>"},{"location":"sessions/TEMPLATE/#importantes-should","title":"Importantes (Should)","text":"<ol> <li>[SHOULD-YYY] [Descripci\u00f3n]</li> </ol>"},{"location":"sessions/TEMPLATE/#opcionales-could","title":"Opcionales (Could)","text":"<ol> <li>[COULD-ZZZ] [Descripci\u00f3n]</li> </ol>"},{"location":"sessions/TEMPLATE/#links-relevantes","title":"\ud83d\udd17 Links Relevantes","text":"<ul> <li>Issue relacionado</li> <li>PR creado</li> <li>Documentaci\u00f3n externa</li> </ul>"},{"location":"sessions/TEMPLATE/#metricas-de-la-sesion","title":"\ud83d\udcca M\u00e9tricas de la Sesi\u00f3n","text":"<ul> <li>Tareas completadas: X</li> <li>Archivos modificados: XX</li> <li>L\u00edneas de c\u00f3digo: +XXX / -YYY</li> <li>Commits: Z</li> <li>Bugs resueltos: N</li> <li>Productividad: Alta / Media / Baja</li> <li>Energ\u00eda: Alta / Media / Baja</li> </ul>"},{"location":"sessions/TEMPLATE/#notas-adicionales","title":"\ud83d\udcac Notas Adicionales","text":"<p>[Cualquier observaci\u00f3n, idea o comentario importante que no encaje en otras secciones]</p> <p>Sesi\u00f3n creada: YYYY-MM-DD HH:MM Guardada autom\u00e1ticamente al cierre de sesi\u00f3n</p>"},{"location":"sprints/2026-01-W04/","title":"\ud83c\udfc3 Sprint 2026-01-W04","text":"<p>Semana: 20/01/2026 - 26/01/2026 Objetivo Principal: Establecer sistema de documentaci\u00f3n profesional y planificar M\u00f3dulo Mantia</p>"},{"location":"sprints/2026-01-W04/#objetivos","title":"\ud83c\udfaf Objetivos","text":"<ol> <li>Crear estructura de documentaci\u00f3n completa con metodolog\u00eda \u00e1gil</li> <li>Documentar arquitectura ECO Platform para onboarding</li> <li>Definir modelo de datos de Mantia (finanzas)</li> <li>Preparar backlog y sistema de sprints</li> </ol>"},{"location":"sprints/2026-01-W04/#tareas-planificadas","title":"\ud83d\udccb Tareas Planificadas","text":""},{"location":"sprints/2026-01-W04/#must-have-criticas","title":"Must Have (Cr\u00edticas)","text":"<ul> <li> [SHOULD-001] Documentaci\u00f3n de Arquitectura</li> <li>Estimaci\u00f3n: M</li> <li>Asignado: Copilot</li> <li> <p>\u2705 Completado: architecture/OVERVIEW.md creado</p> </li> <li> <p> [MUST-001] M\u00f3dulo Mantia - Modelo de Datos</p> </li> <li>Estimaci\u00f3n: M</li> <li>Asignado: Usuario + Copilot</li> </ul>"},{"location":"sprints/2026-01-W04/#should-have-alta-prioridad","title":"Should Have (Alta Prioridad)","text":"<ul> <li> [SHOULD-002] API Reference Completa</li> <li>Estimaci\u00f3n: M</li> <li>Asignado: Copilot</li> <li> <p>\u2705 Completado: API_REFERENCE.md creado</p> </li> <li> <p> [SHOULD-003] Onboarding Guide</p> </li> <li>Estimaci\u00f3n: S</li> <li>Asignado: Copilot</li> <li> <p>\u2705 Completado: ONBOARDING.md creado</p> </li> <li> <p> [SHOULD-004] Deployment Inventory</p> </li> <li>Estimaci\u00f3n: S</li> <li>Asignado: Copilot</li> <li> <p>\u2705 Completado: DEPLOYMENT.md actualizado</p> </li> <li> <p> [SHOULD-006] Documento Fundacional ECO</p> </li> <li>Estimaci\u00f3n: L</li> <li>Asignado: Copilot</li> <li> <p>\u2705 Completado: ECO_FUNDACIONAL.md creado</p> </li> <li> <p> [SHOULD-007] Documentaci\u00f3n T\u00e9cnica Arquitectura</p> </li> <li>Estimaci\u00f3n: XL</li> <li>Asignado: Copilot</li> <li>\u2705 Completado: DATABASE.md, FRONTEND.md, BACKEND.md creados</li> </ul>"},{"location":"sprints/2026-01-W04/#could-have-media-prioridad","title":"Could Have (Media Prioridad)","text":"<ul> <li> [MUST-002] M\u00f3dulo Mantia - Backend CRUD</li> <li>Estimaci\u00f3n: L</li> <li>Asignado: Usuario + Copilot</li> <li>Notas: Depende de MUST-001</li> </ul>"},{"location":"sprints/2026-01-W04/#metricas-planificadas","title":"\ud83d\udcca M\u00e9tricas Planificadas","text":"<ul> <li>Total de tareas: 8</li> <li>Story Points estimados: 34</li> <li>Horas estimadas: 32-38 horas</li> <li>Capacity: 20 horas disponibles (sesiones variables)</li> </ul>"},{"location":"sprints/2026-01-W04/#definition-of-done","title":"\ud83d\ude80 Definition of Done","text":"<p>Una tarea se considera completa cuando:</p> <ul> <li> C\u00f3digo implementado y funcional</li> <li> Testeado manualmente (dev + producci\u00f3n si aplica)</li> <li> Sin errores en consola</li> <li> Documentaci\u00f3n actualizada</li> <li> Types generados (si toc\u00f3 Prisma)</li> <li> CHANGELOG actualizado</li> <li> Code review (si aplica - N/A para equipo de 1)</li> <li> Issue/task marcado como Done</li> </ul>"},{"location":"sprints/2026-01-W04/#sesiones-del-sprint","title":"\ud83d\udcdd Sesiones del Sprint","text":"Fecha Hora T\u00edtulo Tareas Completadas Link 2026-01-24 Ma\u00f1ana Migraci\u00f3n ECO Platform Backend modular, Frontend shared 2026-01-24--reestructuracion-eco.md 2026-01-25 10:00-actual Sistema de Documentaci\u00f3n SHOULD-001 [En progreso]"},{"location":"sprints/2026-01-W04/#progreso","title":"\u2705 Progreso","text":""},{"location":"sprints/2026-01-W04/#lunes-2001","title":"Lunes 20/01","text":"<ul> <li>Sprint no iniciado formalmente (definici\u00f3n retrospectiva)</li> </ul>"},{"location":"sprints/2026-01-W04/#martes-2101","title":"Martes 21/01","text":"<ul> <li>Sprint no iniciado formalmente</li> </ul>"},{"location":"sprints/2026-01-W04/#miercoles-2201","title":"Mi\u00e9rcoles 22/01","text":"<ul> <li>Sprint no iniciado formalmente</li> </ul>"},{"location":"sprints/2026-01-W04/#jueves-2301","title":"Jueves 23/01","text":"<ul> <li>Sprint no iniciado formalmente</li> </ul>"},{"location":"sprints/2026-01-W04/#viernes-2401","title":"Viernes 24/01","text":"<ul> <li> Migraci\u00f3n completa a ECO Platform</li> <li> Estructura modular backend/frontend</li> <li> Sistema de theming</li> <li> Type generation autom\u00e1tica</li> </ul>"},{"location":"sprints/2026-01-W04/#sabado-2501","title":"S\u00e1bado 25/01","text":"<ul> <li> Sistema de gesti\u00f3n de proyecto implementado</li> <li> Backlog creado y priorizado</li> <li> Templates de sprint/sesi\u00f3n/retrospectiva</li> <li> CHANGELOG iniciado</li> <li> Arquitectura documentada (OVERVIEW.md)</li> <li> API Reference completa</li> <li> Onboarding Guide creada</li> <li> Deployment Guide actualizada</li> <li> Documento Fundacional ECO creado</li> <li> Documentaci\u00f3n t\u00e9cnica completa (DATABASE, FRONTEND, BACKEND)</li> </ul>"},{"location":"sprints/2026-01-W04/#domingo-2601-sprint-review","title":"Domingo 26/01 - Sprint Review","text":"<ul> <li>Pendiente</li> </ul>"},{"location":"sprints/2026-01-W04/#sprint-review","title":"\ud83c\udfac Sprint Review","text":""},{"location":"sprints/2026-01-W04/#completado","title":"\u2705 Completado","text":"<ol> <li>Sistema de Gesti\u00f3n de Proyecto: Metodolog\u00eda \u00e1gil adaptada, backlog MoSCoW, templates</li> <li>Migraci\u00f3n ECO Platform: De Alacena individual a plataforma modular completa</li> <li>Shared Infrastructure: Components, hooks, theme system, type generation</li> </ol>"},{"location":"sprints/2026-01-W04/#pendiente-movido-a-proximo-sprint","title":"\ud83d\udccc Pendiente (movido a pr\u00f3ximo sprint)","text":"<ol> <li>M\u00f3dulo Mantia: Modelo de datos y backend CRUD</li> <li>API Reference: Documentaci\u00f3n completa de endpoints</li> <li>Onboarding Guide: Gu\u00eda para nuevos desarrolladores</li> </ol>"},{"location":"sprints/2026-01-W04/#bloqueado","title":"\ud83d\udeab Bloqueado","text":"<ul> <li>Ninguno</li> </ul>"},{"location":"sprints/2026-01-W04/#metricas-finales","title":"\ud83d\udd04 M\u00e9tricas Finales","text":"<ul> <li>Tareas completadas: 1 de 6 (17%)</li> <li>Story Points completados: 4 de 20</li> <li>Horas reales: ~8 horas</li> <li>Velocity: 4 points (primer sprint, baseline)</li> </ul>"},{"location":"sprints/2026-01-W04/#aprendizajes","title":"\ud83d\udca1 Aprendizajes","text":""},{"location":"sprints/2026-01-W04/#que-salio-bien","title":"\u2705 Qu\u00e9 sali\u00f3 bien","text":"<ol> <li>Estructura de documentaci\u00f3n clara y escalable</li> <li>Templates reutilizables facilitan proceso</li> <li>Backlog priorizado da visibilidad de trabajo</li> </ol>"},{"location":"sprints/2026-01-W04/#que-salio-mal","title":"\u274c Qu\u00e9 sali\u00f3 mal","text":"<ol> <li>Sprint iniciado retrospectivamente (no planificado al inicio)</li> <li>Estimaciones pendientes de calibrar con experiencia real</li> </ol>"},{"location":"sprints/2026-01-W04/#que-mejorar-para-proximo-sprint","title":"\ud83d\udd04 Qu\u00e9 mejorar para pr\u00f3ximo sprint","text":"<ol> <li>Planificar sprint al inicio de semana (lunes)</li> <li>Definir capacity realista seg\u00fan disponibilidad</li> <li>Daily check-in breve al inicio de cada sesi\u00f3n</li> </ol>"},{"location":"sprints/2026-01-W04/#entregables","title":"\ud83d\udce6 Entregables","text":"<ul> <li> docs/PROJECT_MANAGEMENT.md</li> <li> docs/BACKLOG.md</li> <li> docs/CHANGELOG.md</li> <li> docs/sprints/TEMPLATE.md</li> <li> docs/sessions/TEMPLATE.md</li> <li> docs/architecture/ (pendiente)</li> <li> docs/ONBOARDING.md (pendiente)</li> <li> CHANGELOG actualizado con v0.4.0 (pendiente)</li> </ul> <p>Sprint creado: 2026-01-25 Sprint en progreso</p>"},{"location":"sprints/TEMPLATE/","title":"\ud83c\udfc3 Sprint YYYY-MM-WNN","text":"<p>Semana: DD/MM/YYYY - DD/MM/YYYY Objetivo Principal: [Objetivo claro y medible del sprint]</p>"},{"location":"sprints/TEMPLATE/#objetivos","title":"\ud83c\udfaf Objetivos","text":"<ol> <li>[Objetivo espec\u00edfico 1]</li> <li>[Objetivo espec\u00edfico 2]</li> <li>[Objetivo espec\u00edfico 3]</li> </ol>"},{"location":"sprints/TEMPLATE/#tareas-planificadas","title":"\ud83d\udccb Tareas Planificadas","text":""},{"location":"sprints/TEMPLATE/#must-have-criticas","title":"Must Have (Cr\u00edticas)","text":"<ul> <li> [MUST-XXX] T\u00edtulo de tarea</li> <li>Estimaci\u00f3n: M</li> <li>Asignado: Usuario / Copilot</li> <li>Notas: [Contexto importante]</li> </ul>"},{"location":"sprints/TEMPLATE/#should-have-alta-prioridad","title":"Should Have (Alta Prioridad)","text":"<ul> <li> [SHOULD-XXX] T\u00edtulo de tarea</li> <li>Estimaci\u00f3n: S</li> <li>Asignado: Usuario / Copilot</li> </ul>"},{"location":"sprints/TEMPLATE/#could-have-media-prioridad","title":"Could Have (Media Prioridad)","text":"<ul> <li> [COULD-XXX] T\u00edtulo de tarea</li> <li>Estimaci\u00f3n: M</li> <li>Asignado: -</li> </ul>"},{"location":"sprints/TEMPLATE/#metricas-planificadas","title":"\ud83d\udcca M\u00e9tricas Planificadas","text":"<ul> <li>Total de tareas: X</li> <li>Story Points estimados: XX</li> <li>Horas estimadas: XX horas</li> <li>Capacity: XX horas disponibles</li> </ul>"},{"location":"sprints/TEMPLATE/#definition-of-done","title":"\ud83d\ude80 Definition of Done","text":"<p>Una tarea se considera completa cuando:</p> <ul> <li> C\u00f3digo implementado y funcional</li> <li> Testeado manualmente (dev + producci\u00f3n si aplica)</li> <li> Sin errores en consola</li> <li> Documentaci\u00f3n actualizada</li> <li> Types generados (si toc\u00f3 Prisma)</li> <li> CHANGELOG actualizado</li> <li> Code review (si aplica)</li> <li> Issue/task marcado como Done</li> </ul>"},{"location":"sprints/TEMPLATE/#sesiones-del-sprint","title":"\ud83d\udcdd Sesiones del Sprint","text":"Fecha Hora T\u00edtulo Tareas Completadas Link YYYY-MM-DD HH:MM [T\u00edtulo sesi\u00f3n] MUST-XXX, SHOULD-YYY Link"},{"location":"sprints/TEMPLATE/#progreso","title":"\u2705 Progreso","text":""},{"location":"sprints/TEMPLATE/#lunes-ddmm","title":"Lunes DD/MM","text":"<ul> <li> Tarea completada</li> <li> Tarea en progreso</li> </ul>"},{"location":"sprints/TEMPLATE/#martes-ddmm","title":"Martes DD/MM","text":"<ul> <li> Otra tarea</li> <li> Pendiente</li> </ul>"},{"location":"sprints/TEMPLATE/#miercoles-ddmm","title":"Mi\u00e9rcoles DD/MM","text":"<p>...</p>"},{"location":"sprints/TEMPLATE/#jueves-ddmm","title":"Jueves DD/MM","text":"<p>...</p>"},{"location":"sprints/TEMPLATE/#viernes-ddmm","title":"Viernes DD/MM","text":"<p>...</p>"},{"location":"sprints/TEMPLATE/#sabado-ddmm","title":"S\u00e1bado DD/MM","text":"<p>...</p>"},{"location":"sprints/TEMPLATE/#domingo-ddmm-sprint-review","title":"Domingo DD/MM - Sprint Review","text":"<p>...</p>"},{"location":"sprints/TEMPLATE/#sprint-review","title":"\ud83c\udfac Sprint Review","text":""},{"location":"sprints/TEMPLATE/#completado","title":"\u2705 Completado","text":"<ol> <li>[Feature/tarea completada con descripci\u00f3n]</li> <li>...</li> </ol>"},{"location":"sprints/TEMPLATE/#pendiente-movido-a-proximo-sprint","title":"\ud83d\udccc Pendiente (movido a pr\u00f3ximo sprint)","text":"<ol> <li>[Tarea no completada con raz\u00f3n]</li> <li>...</li> </ol>"},{"location":"sprints/TEMPLATE/#bloqueado","title":"\ud83d\udeab Bloqueado","text":"<ol> <li>[Tarea bloqueada con raz\u00f3n y dependencia]</li> </ol>"},{"location":"sprints/TEMPLATE/#metricas-finales","title":"\ud83d\udd04 M\u00e9tricas Finales","text":"<ul> <li>Tareas completadas: X de Y (ZZ%)</li> <li>Story Points completados: XX de YY</li> <li>Horas reales: XX horas</li> <li>Velocity: XX points</li> </ul>"},{"location":"sprints/TEMPLATE/#aprendizajes","title":"\ud83d\udca1 Aprendizajes","text":""},{"location":"sprints/TEMPLATE/#que-salio-bien","title":"\u2705 Qu\u00e9 sali\u00f3 bien","text":"<ol> <li>[Aspecto positivo]</li> <li>...</li> </ol>"},{"location":"sprints/TEMPLATE/#que-salio-mal","title":"\u274c Qu\u00e9 sali\u00f3 mal","text":"<ol> <li>[Problema o fricci\u00f3n]</li> <li>...</li> </ol>"},{"location":"sprints/TEMPLATE/#que-mejorar-para-proximo-sprint","title":"\ud83d\udd04 Qu\u00e9 mejorar para pr\u00f3ximo sprint","text":"<ol> <li>[Acci\u00f3n de mejora espec\u00edfica]</li> <li>...</li> </ol>"},{"location":"sprints/TEMPLATE/#entregables","title":"\ud83d\udce6 Entregables","text":"<ul> <li> Feature X desplegada en producci\u00f3n</li> <li> Documentaci\u00f3n Y actualizada</li> <li> Tests Z implementados</li> <li> CHANGELOG actualizado con versi\u00f3n vX.X.X</li> </ul> <p>Sprint creado: YYYY-MM-DD Sprint cerrado: YYYY-MM-DD</p>"}]}