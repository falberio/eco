
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Sistema de GestiÃ³n DomÃ©stica Modular">
      
      
        <meta name="author" content="Fran Alberio">
      
      
        <link rel="canonical" href="https://docs.eco.local/sesiones/2026-01-17--dashboard-y-auth/">
      
      
      
      
        
      
      
      <link rel="icon" href="../../assets/logo.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>ğŸ“ SESIÃ“N 17 DE ENERO 2026 - Historial Completo - ECO - DocumentaciÃ³n</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#sesion-17-de-enero-2026-historial-completo" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="ECO - DocumentaciÃ³n" class="md-header__button md-logo" aria-label="ECO - DocumentaciÃ³n" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ECO - DocumentaciÃ³n
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ğŸ“ SESIÃ“N 17 DE ENERO 2026 - Historial Completo
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="deep-orange"  aria-label="Cambiar a modo oscuro"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Cambiar a modo oscuro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="deep-orange"  aria-label="Cambiar a modo claro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Cambiar a modo claro" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="BÃºsqueda" placeholder="BÃºsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Compartir" aria-label="Compartir" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando bÃºsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/falberio/eco" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    falberio/eco
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="PestaÃ±as" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  ğŸ  Inicio

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting-started/" class="md-tabs__link">
          
  
  
    
  
  ğŸš€ Comenzar

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../01-contexto-general/" class="md-tabs__link">
          
  
  
    
  
  ğŸ“˜ Core

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../04-planificacion/backlog/" class="md-tabs__link">
          
  
  
    
  
  ğŸ“‹ PlanificaciÃ³n

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../05-arquitectura/adrs/" class="md-tabs__link">
          
  
  
    
  
  ğŸ—ï¸ Arquitectura

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../06-ux-navegacion/" class="md-tabs__link">
          
  
  
    
  
  ğŸ¨ UX & DiseÃ±o

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../07-cheatsheet/" class="md-tabs__link">
          
  
  
    
  
  âš¡ Referencia

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="NavegaciÃ³n" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ECO - DocumentaciÃ³n" class="md-nav__button md-logo" aria-label="ECO - DocumentaciÃ³n" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    ECO - DocumentaciÃ³n
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/falberio/eco" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    falberio/eco
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ğŸ  Inicio
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ğŸš€ Comenzar
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    ğŸš€ Comenzar
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../glosario/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Glosario
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ğŸ“˜ Core
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    ğŸ“˜ Core
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../01-contexto-general/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contexto General
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../02-documento-funcional/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Documento Funcional
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../03-libro-sesiones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Libro de Sesiones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ğŸ“‹ PlanificaciÃ³n
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    ğŸ“‹ PlanificaciÃ³n
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-planificacion/backlog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backlog Maestro
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-planificacion/roadmap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Roadmap
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../04-planificacion/sprints/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sprints
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ğŸ—ï¸ Arquitectura
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    ğŸ—ï¸ Arquitectura
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-arquitectura/adrs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADRs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-arquitectura/inventario-as-is/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Inventario AS-IS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-arquitectura/modelo-datos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Modelo de Datos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../05-arquitectura/procedimientos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Procedimientos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ğŸ¨ UX & DiseÃ±o
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    ğŸ¨ UX & DiseÃ±o
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../06-ux-navegacion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    UX & NavegaciÃ³n
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    âš¡ Referencia
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    âš¡ Referencia
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../07-cheatsheet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Cheatsheet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/falberio/eco/edit/main/docs/sesiones/2026-01-17--dashboard-y-auth.md" title="Editar esta pÃ¡gina" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/falberio/eco/raw/main/docs/sesiones/2026-01-17--dashboard-y-auth.md" title="Ver cÃ³digo fuente de esta pÃ¡gina" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0 8a5 5 0 0 1-5-5 5 5 0 0 1 5-5 5 5 0 0 1 5 5 5 5 0 0 1-5 5m0-12.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5"/></svg>
    </a>
  


<h1 id="sesion-17-de-enero-2026-historial-completo">ğŸ“ SESIÃ“N 17 DE ENERO 2026 - Historial Completo<a class="headerlink" href="#sesion-17-de-enero-2026-historial-completo" title="Permanent link">&para;</a></h1>
<h2 id="objetivo-principal">ğŸ¯ Objetivo Principal<a class="headerlink" href="#objetivo-principal" title="Permanent link">&para;</a></h2>
<p>Completar el stack full-stack de Alacena con:
1. Dashboard administrativo con CRUD completo
2. Validaciones robustas
3. AutenticaciÃ³n JWT integrada backend-frontend
4. Deploy a producciÃ³n (Fly.io + Vercel)</p>
<h2 id="tareas-completadas">âœ… Tareas Completadas<a class="headerlink" href="#tareas-completadas" title="Permanent link">&para;</a></h2>
<h3 id="1-revision-inicial-backend-preparado">1. RevisiÃ³n Inicial - Backend Preparado<a class="headerlink" href="#1-revision-inicial-backend-preparado" title="Permanent link">&para;</a></h3>
<p><strong>Estado inicial:</strong> 
- Controllers de CRUD ya existÃ­an (item, location, reserve, menuItem, container, batch)
- Rutas montadas pero solo GET implementado
- Sin autenticaciÃ³n</p>
<p><strong>DecisiÃ³n:</strong> Aprovechar lo existente en controllers</p>
<h3 id="2-dashboard-frontend-estructura-completa">2. Dashboard Frontend - Estructura Completa<a class="headerlink" href="#2-dashboard-frontend-estructura-completa" title="Permanent link">&para;</a></h3>
<p><strong>Archivos creados:</strong>
- <code>app/dashboard/layout.tsx</code> - Layout con sidebar navegable
- <code>app/dashboard/page.tsx</code> - Home del dashboard
- <code>app/dashboard/items/page.tsx</code> - CRUD de items
- <code>app/dashboard/locations/page.tsx</code> - CRUD de ubicaciones<br />
- <code>app/dashboard/reserves/page.tsx</code> - CRUD de reservas
- <code>app/dashboard/menu/page.tsx</code> - CRUD del menÃº pÃºblico</p>
<p><strong>CaracterÃ­sticas:</strong>
- Tablas con datos en tiempo real
- Formularios con todos los campos
- Botones Edit/Delete
- Loading states
- Mensajes de error</p>
<h3 id="3-autenticacion-implementacion-completa">3. AutenticaciÃ³n - ImplementaciÃ³n Completa<a class="headerlink" href="#3-autenticacion-implementacion-completa" title="Permanent link">&para;</a></h3>
<h4 id="backend-express">Backend (Express)<a class="headerlink" href="#backend-express" title="Permanent link">&para;</a></h4>
<p><strong>Instalaciones:</strong>
- <code>bcryptjs</code> - Hashing de contraseÃ±as
- <code>jsonwebtoken</code> - GeneraciÃ³n de tokens JWT</p>
<p><strong>Archivos creados:</strong>
- <code>src/controllers/auth.controller.js</code>
  - <code>register()</code> - Crea usuario, valida email Ãºnico, hashea password
  - <code>login()</code> - Verifica credenciales, retorna JWT
  - <code>getProfile()</code> - Obtiene datos del usuario logueado</p>
<ul>
<li><code>src/routes/auth.routes.js</code> - Monta endpoints <code>/api/auth/*</code></li>
</ul>
<p><strong>Prisma Schema:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>model User {
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>  id            String    @id @default(cuid())
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>  email         String    @unique
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>  name          String?
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>  passwordHash  String
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>  role          String    @default(&quot;user&quot;)
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>  isActive      Boolean   @default(true)
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>  createdAt     DateTime  @default(now())
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>  updatedAt     DateTime  @updatedAt
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>}
</span></code></pre></div></p>
<p><strong>MigraciÃ³n:</strong> <code>20260117045609_add_user_model</code></p>
<h4 id="frontend-nextjs-nextauth-v5">Frontend (Next.js + NextAuth v5)<a class="headerlink" href="#frontend-nextjs-nextauth-v5" title="Permanent link">&para;</a></h4>
<p><strong>Instalaciones:</strong>
- <code>next-auth@beta</code> - AutenticaciÃ³n NextAuth
- <code>zod</code> - Validaciones de esquemas</p>
<p><strong>Archivos creados:</strong>
- <code>auth.ts</code> - ConfiguraciÃ³n NextAuth
  - CredentialsProvider que llama a <code>/api/auth/login</code> del backend
  - JWT strategy para mantener tokens
  - Callbacks para actualizar sesiÃ³n</p>
<ul>
<li>
<p><code>app/providers.tsx</code> - SessionProvider wrapper</p>
</li>
<li>
<p><code>app/api/auth/[...nextauth]/route.ts</code> - Handler de rutas de auth</p>
</li>
<li>
<p><code>middleware.ts</code> - Protege <code>/dashboard/*</code> redirigiendo a login</p>
</li>
<li>
<p><code>app/login/page.tsx</code> - PÃ¡gina de login con formulario</p>
</li>
</ul>
<p><strong>Archivo .env.local:</strong>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>NEXTAUTH_URL=&quot;https://alacena-frontend.vercel.app&quot;
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>NEXTAUTH_SECRET=&quot;...&quot;
</span></code></pre></div></p>
<h4 id="validaciones-con-zod">Validaciones con Zod<a class="headerlink" href="#validaciones-con-zod" title="Permanent link">&para;</a></h4>
<p><strong>Archivo:</strong> <code>lib/validations.ts</code>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="o">-</span><span class="w"> </span><span class="nx">LoginSchema</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">email</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">password</span><span class="w"> </span><span class="p">(</span><span class="nx">min</span><span class="w"> </span><span class="mf">6</span><span class="w"> </span><span class="nx">chars</span><span class="p">)</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="o">-</span><span class="w"> </span><span class="nx">RegisterSchema</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">email</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">password</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">confirmPassword</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="o">-</span><span class="w"> </span><span class="nx">ItemSchema</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">kind</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">category</span><span class="w"> </span><span class="nx">opcional</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="o">-</span><span class="w"> </span><span class="nx">LocationSchema</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">kind</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">sortIndex</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="o">-</span><span class="w"> </span><span class="nx">ReserveSchema</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">itemId</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">status</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">qty</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="o">-</span><span class="w"> </span><span class="nx">MenuItemSchema</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="nx">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">itemId</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">section</span>
</span></code></pre></div></p>
<h3 id="4-integracion-frontend-backend">4. IntegraciÃ³n Frontend-Backend<a class="headerlink" href="#4-integracion-frontend-backend" title="Permanent link">&para;</a></h3>
<p><strong>Login Flow:</strong>
1. Usuario ingresa email/contraseÃ±a en <code>/login</code>
2. NextAuth llama a <code>POST /api/auth/login</code> en backend
3. Backend verifica credenciales, retorna JWT
4. NextAuth almacena token en sesiÃ³n
5. Middleware verifica sesiÃ³n, redirige si no autenticado</p>
<p><strong>Datos en Dashboard:</strong>
1. PÃ¡ginas del dashboard hacen <code>fetch()</code> al backend
2. Usan <code>NEXT_PUBLIC_API_URL</code> (https://alacena-backend.fly.dev)
3. Validaciones con Zod antes de enviar
4. Manejo de errores en formularios</p>
<h3 id="5-deploy-infraestructura">5. Deploy - Infraestructura<a class="headerlink" href="#5-deploy-infraestructura" title="Permanent link">&para;</a></h3>
<h4 id="backend-flyio">Backend (Fly.io)<a class="headerlink" href="#backend-flyio" title="Permanent link">&para;</a></h4>
<p><strong>Cambios al Dockerfile:</strong>
<div class="language-dockerfile highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c"># AgreguÃ© en CMD:</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="k">CMD</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;sh&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-c&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;npx prisma migrate deploy &amp;&amp; node prisma/seed-users.js &amp;&amp; node src/server.js&quot;</span><span class="p">]</span>
</span></code></pre></div>
Esto ejecuta:
1. MigraciÃ³n de Prisma
2. Seed de usuario de prueba (admin@alacena.com / admin123)
3. Inicia el servidor</p>
<p><strong>Secretos a setear en Fly.io Dashboard:</strong>
1. <code>DATABASE_URL</code> - String de conexiÃ³n Supabase
2. <code>JWT_SECRET</code> - Clave secreta para tokens</p>
<p><strong>Status:</strong> âœ… Deployado (auto-deploy con git push)</p>
<h4 id="frontend-vercel">Frontend (Vercel)<a class="headerlink" href="#frontend-vercel" title="Permanent link">&para;</a></h4>
<p><strong>Status:</strong> âœ… Deployado y funcionando
<strong>URL:</strong> https://alacena-frontend.vercel.app</p>
<h4 id="base-de-datos-supabase">Base de datos (Supabase)<a class="headerlink" href="#base-de-datos-supabase" title="Permanent link">&para;</a></h4>
<p><strong>MigraciÃ³n ejecutada:</strong> âœ…
<strong>Usuario de prueba creado:</strong> âœ… admin@alacena.com / admin123</p>
<h2 id="problemas-encontrados-y-soluciones">ğŸš§ Problemas Encontrados y Soluciones<a class="headerlink" href="#problemas-encontrados-y-soluciones" title="Permanent link">&para;</a></h2>
<h3 id="problema-1-database_url-con-caracteres-especiales">Problema 1: DATABASE_URL con caracteres especiales<a class="headerlink" href="#problema-1-database_url-con-caracteres-especiales" title="Permanent link">&para;</a></h3>
<p><strong>Error:</strong> <code>P1000: Authentication failed</code>
<strong>Causa:</strong> ContraseÃ±a anterior tenÃ­a <code>&lt;&amp;kHkptQH?sb-z9C&gt;</code> (caracteres especiales)
<strong>SoluciÃ³n:</strong> Cambiar contraseÃ±a en Supabase a <code>DjDK6YNUopieqRGW</code>
<strong>ActualizaciÃ³n en Fly.io:</strong> Via <code>.env</code> local (secrets se setean en UI de Fly.io)</p>
<h3 id="problema-2-flyctl-no-instalado-en-windows">Problema 2: flyctl no instalado en Windows<a class="headerlink" href="#problema-2-flyctl-no-instalado-en-windows" title="Permanent link">&para;</a></h3>
<p><strong>Error:</strong> <code>flyctl: El tÃ©rmino 'flyctl' no se reconoce</code>
<strong>Causa:</strong> PowerShell script de instalaciÃ³n no completÃ³ PATH actualizado
<strong>SoluciÃ³n:</strong> 
- Usar Fly.io Dashboard web para setear secrets
- Auto-deploy via git push (ya configurado)</p>
<h3 id="problema-3-nextauth-v5-vs-v4">Problema 3: NextAuth v5 vs v4<a class="headerlink" href="#problema-3-nextauth-v5-vs-v4" title="Permanent link">&para;</a></h3>
<p><strong>DecisiÃ³n:</strong> Usar <code>next-auth@beta</code> (v5)
<strong>RazÃ³n:</strong> Mejor soporte para App Router de Next.js 15
<strong>Cambio necesario:</strong> CredentialsProvider + callbacks JWT</p>
<h2 id="arquitectura-final">ğŸ“Š Arquitectura Final<a class="headerlink" href="#arquitectura-final" title="Permanent link">&para;</a></h2>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>â”Œâ”€ Frontend (Vercel) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>â”‚  Next.js 15.1.0 + TypeScript              â”‚
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>â”‚  - App Router                              â”‚
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>â”‚  - NextAuth v5 (JWT)                      â”‚
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>â”‚  - Tailwind CSS                            â”‚
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>â”‚  - Zod validaciones                        â”‚
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>â”‚                                             â”‚
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>â”‚  Pages:                                    â”‚
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>â”‚  - / (home)                                â”‚
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>â”‚  - /login (autenticaciÃ³n)                  â”‚
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>â”‚  - /dashboard (items/locations/reserves)   â”‚
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>â”‚  - /guest/menu (pÃºblico)                   â”‚
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>                      â†“ HTTPS
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>              (NEXT_PUBLIC_API_URL)
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>                      â†“
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>â”Œâ”€ Backend (Fly.io) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>â”‚  Express.js + Node 20-alpine               â”‚
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>â”‚  - CORS habilitado                         â”‚
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>â”‚  - JWT middleware (JWT_SECRET)             â”‚
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a>â”‚  - Prisma ORM v5.22.0                      â”‚
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a>â”‚                                             â”‚
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a>â”‚  Routes:                                   â”‚
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>â”‚  - POST /api/auth/register                 â”‚
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a>â”‚  - POST /api/auth/login                    â”‚
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a>â”‚  - GET /api/auth/profile                   â”‚
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a>â”‚  - CRUD /api/items                         â”‚
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a>â”‚  - CRUD /api/locations                     â”‚
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a>â”‚  - CRUD /api/reserves                      â”‚
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a>â”‚  - CRUD /api/menu-items                    â”‚
</span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a>â”‚  - CRUD /api/containers                    â”‚
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a>â”‚  - CRUD /api/batches                       â”‚
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span><span id="__span-4-34"><a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a>                      â†“
</span><span id="__span-4-35"><a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a>â”Œâ”€ PostgreSQL (Supabase) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
</span><span id="__span-4-36"><a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a>â”‚  Tablas:                                    â”‚
</span><span id="__span-4-37"><a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a>â”‚  - User (autenticaciÃ³n)                     â”‚
</span><span id="__span-4-38"><a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a>â”‚  - Item (productos/recetas)                 â”‚
</span><span id="__span-4-39"><a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a>â”‚  - Location (ubicaciones)                   â”‚
</span><span id="__span-4-40"><a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a>â”‚  - Reserve (inventario)                     â”‚
</span><span id="__span-4-41"><a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a>â”‚  - MenuItem (menÃº pÃºblico)                  â”‚
</span><span id="__span-4-42"><a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a>â”‚  - Container (contenedores)                 â”‚
</span><span id="__span-4-43"><a id="__codelineno-4-43" name="__codelineno-4-43" href="#__codelineno-4-43"></a>â”‚  - Batch (lotes)                            â”‚
</span><span id="__span-4-44"><a id="__codelineno-4-44" name="__codelineno-4-44" href="#__codelineno-4-44"></a>â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</span></code></pre></div>
<h2 id="estructura-de-carpetas">ğŸ“ Estructura de Carpetas<a class="headerlink" href="#estructura-de-carpetas" title="Permanent link">&para;</a></h2>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>alacena/
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>â”œâ”€â”€ frontend/alacena-app/          # Next.js app
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>â”‚   â”œâ”€â”€ app/
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>â”‚   â”‚   â”œâ”€â”€ dashboard/             # Rutas protegidas
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>â”‚   â”‚   â”‚   â”œâ”€â”€ items/page.tsx
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>â”‚   â”‚   â”‚   â”œâ”€â”€ locations/page.tsx
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>â”‚   â”‚   â”‚   â”œâ”€â”€ reserves/page.tsx
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>â”‚   â”‚   â”‚   â””â”€â”€ menu/page.tsx
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>â”‚   â”‚   â”œâ”€â”€ login/page.tsx         # Auth
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>â”‚   â”‚   â”œâ”€â”€ guest/menu/page.tsx    # PÃºblico
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>â”‚   â”‚   â”œâ”€â”€ layout.tsx
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>â”‚   â”‚   â””â”€â”€ page.tsx
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>â”‚   â”œâ”€â”€ lib/
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>â”‚   â”‚   â””â”€â”€ validations.ts         # Zod schemas
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>â”‚   â”œâ”€â”€ auth.ts                    # NextAuth config
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>â”‚   â”œâ”€â”€ middleware.ts              # ProtecciÃ³n rutas
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>â”‚   â”œâ”€â”€ providers.tsx              # SessionProvider
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>â”‚   â””â”€â”€ .env.local
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>â”‚
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>â”œâ”€â”€ backend/                       # Express app
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>â”‚   â”œâ”€â”€ src/
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>â”‚   â”‚   â”œâ”€â”€ controllers/
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>â”‚   â”‚   â”‚   â”œâ”€â”€ auth.controller.js      # âœ¨ Nuevo
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>â”‚   â”‚   â”‚   â”œâ”€â”€ item.controller.js
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>â”‚   â”‚   â”‚   â”œâ”€â”€ location.controller.js
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>â”‚   â”‚   â”‚   â”œâ”€â”€ reserve.controller.js
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>â”‚   â”‚   â”‚   â”œâ”€â”€ menuItem.controller.js
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a>â”‚   â”‚   â”‚   â””â”€â”€ ...
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a>â”‚   â”‚   â”œâ”€â”€ routes/
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a>â”‚   â”‚   â”‚   â”œâ”€â”€ auth.routes.js          # âœ¨ Nuevo
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a>â”‚   â”‚   â”‚   â”œâ”€â”€ items.routes.js
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a>â”‚   â”‚   â”‚   â””â”€â”€ ...
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a>â”‚   â”‚   â”œâ”€â”€ app.js                      # Actualizado
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a>â”‚   â”‚   â””â”€â”€ server.js
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a>â”‚   â”œâ”€â”€ prisma/
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a>â”‚   â”‚   â”œâ”€â”€ schema.prisma               # Actualizado (User model)
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a>â”‚   â”‚   â”œâ”€â”€ seed-users.js               # âœ¨ Nuevo
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a>â”‚   â”‚   â””â”€â”€ migrations/
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41" href="#__codelineno-5-41"></a>â”‚   â”‚       â””â”€â”€ 20260117045609_add_user_model/
</span><span id="__span-5-42"><a id="__codelineno-5-42" name="__codelineno-5-42" href="#__codelineno-5-42"></a>â”‚   â”œâ”€â”€ .env
</span><span id="__span-5-43"><a id="__codelineno-5-43" name="__codelineno-5-43" href="#__codelineno-5-43"></a>â”‚   â””â”€â”€ package.json                    # +bcryptjs, +jsonwebtoken
</span><span id="__span-5-44"><a id="__codelineno-5-44" name="__codelineno-5-44" href="#__codelineno-5-44"></a>â”‚
</span><span id="__span-5-45"><a id="__codelineno-5-45" name="__codelineno-5-45" href="#__codelineno-5-45"></a>â”œâ”€â”€ Dockerfile                     # Actualizado (migrations + seed)
</span><span id="__span-5-46"><a id="__codelineno-5-46" name="__codelineno-5-46" href="#__codelineno-5-46"></a>â”œâ”€â”€ fly.toml                       # Config Fly.io
</span><span id="__span-5-47"><a id="__codelineno-5-47" name="__codelineno-5-47" href="#__codelineno-5-47"></a>â”œâ”€â”€ STATUS.md                      # âœ¨ Nuevo - Estado final
</span><span id="__span-5-48"><a id="__codelineno-5-48" name="__codelineno-5-48" href="#__codelineno-5-48"></a>â”œâ”€â”€ DEPLOYMENT.md                  # âœ¨ Nuevo - Instrucciones
</span><span id="__span-5-49"><a id="__codelineno-5-49" name="__codelineno-5-49" href="#__codelineno-5-49"></a>â””â”€â”€ docs/
</span><span id="__span-5-50"><a id="__codelineno-5-50" name="__codelineno-5-50" href="#__codelineno-5-50"></a>    â””â”€â”€ sesiones/
</span><span id="__span-5-51"><a id="__codelineno-5-51" name="__codelineno-5-51" href="#__codelineno-5-51"></a>        â””â”€â”€ 2026-01-17--dashboard-y-auth.md  # âœ¨ Este archivo
</span></code></pre></div>
<h2 id="seguridad-implementada">ğŸ” Seguridad Implementada<a class="headerlink" href="#seguridad-implementada" title="Permanent link">&para;</a></h2>
<h3 id="contrasenas">ContraseÃ±as<a class="headerlink" href="#contrasenas" title="Permanent link">&para;</a></h3>
<ul>
<li>âœ… Hasheadas con bcryptjs (10 rounds)</li>
<li>âœ… Validadas en login (bcrypt.compare)</li>
</ul>
<h3 id="tokens-jwt">Tokens JWT<a class="headerlink" href="#tokens-jwt" title="Permanent link">&para;</a></h3>
<ul>
<li>âœ… Secreto configurado en env variable</li>
<li>âœ… ExpiraciÃ³n 30 dÃ­as</li>
<li>âœ… Almacenados en sesiÃ³n NextAuth</li>
<li>âœ… Enviados en requests al backend</li>
</ul>
<h3 id="rutas-protegidas">Rutas Protegidas<a class="headerlink" href="#rutas-protegidas" title="Permanent link">&para;</a></h3>
<ul>
<li>âœ… Middleware en <code>/dashboard/*</code> redirige a login</li>
<li>âœ… Backend valida JWT en <code>/api/auth/profile</code></li>
</ul>
<h3 id="cors">CORS<a class="headerlink" href="#cors" title="Permanent link">&para;</a></h3>
<ul>
<li>âœ… Habilitado en Express (desarrollo)</li>
<li>âš ï¸ Nota: En producciÃ³n, restringir a dominio especÃ­fico</li>
</ul>
<h2 id="metricas-del-proyecto">ğŸ“ˆ MÃ©tricas del Proyecto<a class="headerlink" href="#metricas-del-proyecto" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>MÃ©trica</th>
<th>Valor</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>PÃ¡ginas CRUD creadas</strong></td>
<td>4</td>
</tr>
<tr>
<td><strong>Endpoints de API</strong></td>
<td>13 (6 CRUD + 3 auth + 4 otros)</td>
</tr>
<tr>
<td><strong>Validaciones Zod</strong></td>
<td>6 esquemas</td>
</tr>
<tr>
<td><strong>Controladores</strong></td>
<td>7</td>
</tr>
<tr>
<td><strong>Tablas DB</strong></td>
<td>7</td>
</tr>
<tr>
<td><strong>Commits hoy</strong></td>
<td>8</td>
</tr>
<tr>
<td><strong>LÃ­neas de cÃ³digo</strong></td>
<td>~2500+</td>
</tr>
</tbody>
</table>
<h2 id="testing-manual">ğŸ§ª Testing Manual<a class="headerlink" href="#testing-manual" title="Permanent link">&para;</a></h2>
<h3 id="credenciales-de-prueba">Credenciales de Prueba<a class="headerlink" href="#credenciales-de-prueba" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>Email: admin@alacena.com
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>Password: admin123
</span></code></pre></div>
<h3 id="urls-para-testear">URLs para testear<a class="headerlink" href="#urls-para-testear" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>Frontend: https://alacena-frontend.vercel.app/login
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>Backend: https://alacena-backend.fly.dev/health
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>API: https://alacena-backend.fly.dev/api/items
</span></code></pre></div>
<h3 id="flujo-de-testing">Flujo de Testing<a class="headerlink" href="#flujo-de-testing" title="Permanent link">&para;</a></h3>
<ol>
<li>Ir a https://alacena-frontend.vercel.app/login</li>
<li>Ingresar admin@alacena.com / admin123</li>
<li>Ir a /dashboard/items</li>
<li>Crear item de prueba</li>
<li>Editar y eliminar</li>
<li>Verificar que aparece en /guest/menu</li>
</ol>
<h2 id="checklist-de-finalizacion">ğŸ“‹ Checklist de FinalizaciÃ³n<a class="headerlink" href="#checklist-de-finalizacion" title="Permanent link">&para;</a></h2>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Dashboard frontend completo (4 CRUD pages)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> AutenticaciÃ³n backend (register + login)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> IntegraciÃ³n NextAuth con backend</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Validaciones Zod en frontend</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Middleware de protecciÃ³n de rutas</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> User model en Prisma</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> MigraciÃ³n ejecutada</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Seed de usuario de prueba</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Dockerfile actualizado</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Deploy a Fly.io</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> Deploy a Vercel</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled checked/><span class="task-list-indicator"></span></label> DocumentaciÃ³n completa</li>
</ul>
<h2 id="pasos-finales-manuales">âš ï¸ Pasos Finales Manuales<a class="headerlink" href="#pasos-finales-manuales" title="Permanent link">&para;</a></h2>
<p><strong>IMPORTANTE:</strong> Antes de usar en producciÃ³n:</p>
<ol>
<li><strong>Setear secrets en Fly.io Dashboard:</strong></li>
<li>DATABASE_URL</li>
<li>
<p>JWT_SECRET (con clave segura aleatoria)</p>
</li>
<li>
<p><strong>Cambiar credenciales de prueba:</strong></p>
</li>
<li>Crear nuevo usuario admin</li>
<li>
<p>Eliminar o cambiar contraseÃ±a de admin@alacena.com</p>
</li>
<li>
<p><strong>Actualizar CORS en backend:</strong>
   <div class="language-javascript highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">// En src/app.js</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">cors</span><span class="p">({</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">  </span><span class="nx">origin</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;https://alacena-frontend.vercel.app&#39;</span><span class="p">,</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">  </span><span class="nx">credentials</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="p">}))</span>
</span></code></pre></div></p>
</li>
<li>
<p><strong>Actualizar JWT_SECRET:</strong></p>
</li>
<li>Generar clave aleatoria segura</li>
<li>Usar herramienta: <code>node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"</code></li>
</ol>
<h2 id="decisiones-tecnicas-documentadas">ğŸ“ Decisiones TÃ©cnicas Documentadas<a class="headerlink" href="#decisiones-tecnicas-documentadas" title="Permanent link">&para;</a></h2>
<h3 id="1-nextauth-v5-vs-v4">1. NextAuth v5 vs v4<a class="headerlink" href="#1-nextauth-v5-vs-v4" title="Permanent link">&para;</a></h3>
<p><strong>Elegido:</strong> v5 (beta)
<strong>RazÃ³n:</strong> Mejor App Router support, mÃ¡s moderno
<strong>Trade-off:</strong> Beta pero funciona bien</p>
<h3 id="2-zod-vs-joi-vs-yup">2. Zod vs Joi vs Yup<a class="headerlink" href="#2-zod-vs-joi-vs-yup" title="Permanent link">&para;</a></h3>
<p><strong>Elegido:</strong> Zod
<strong>RazÃ³n:</strong> TypeScript native, menos boilerplate
<strong>Ventaja:</strong> Type inference automÃ¡tico</p>
<h3 id="3-jwt-vs-session">3. JWT vs Session<a class="headerlink" href="#3-jwt-vs-session" title="Permanent link">&para;</a></h3>
<p><strong>Elegido:</strong> JWT
<strong>RazÃ³n:</strong> Stateless, mejor para APIs
<strong>ImplementaciÃ³n:</strong> NextAuth maneja almacenamiento</p>
<h3 id="4-dockerfile-migrations-en-startup">4. Dockerfile - Migrations en startup<a class="headerlink" href="#4-dockerfile-migrations-en-startup" title="Permanent link">&para;</a></h3>
<p><strong>Elegido:</strong> Ejecutar en CMD
<strong>RazÃ³n:</strong> Garantiza DB actualizada en cada deploy
<strong>Alternativa:</strong> Ejecutar antes en builder (mÃ¡s lento)</p>
<h3 id="5-seed-automatico">5. Seed automÃ¡tico<a class="headerlink" href="#5-seed-automatico" title="Permanent link">&para;</a></h3>
<p><strong>Elegido:</strong> Ejecutar en seed-users.js
<strong>RazÃ³n:</strong> Solo crea si no existe (idempotente)
<strong>Ventaja:</strong> No falla si ya existe usuario</p>
<h2 id="problemas-conocidos-todo">ğŸ” Problemas Conocidos / TODO<a class="headerlink" href="#problemas-conocidos-todo" title="Permanent link">&para;</a></h2>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Rate limiting en endpoints auth</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Logout real (actualmente solo limpia sesiÃ³n)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Cambio de contraseÃ±a endpoint</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> RecuperaciÃ³n de contraseÃ±a olvidada</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> 2FA (autenticaciÃ³n de dos factores)</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Roles y permisos mÃ¡s granulares</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Audit log de cambios</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> Soft delete en lugar de delete duro</li>
</ul>
<h2 id="contacto-notas">ğŸ“ Contacto / Notas<a class="headerlink" href="#contacto-notas" title="Permanent link">&para;</a></h2>
<p><strong>Desarrollador:</strong> GitHub Copilot / Claude
<strong>Fecha de SesiÃ³n:</strong> 17 de Enero de 2026
<strong>DuraciÃ³n:</strong> ~3 horas
<strong>Cambios Realizados:</strong> 8 commits</p>
<h2 id="proximas-sesiones">ğŸš€ PrÃ³ximas Sesiones<a class="headerlink" href="#proximas-sesiones" title="Permanent link">&para;</a></h2>
<p>Cuando abras la prÃ³xima sesiÃ³n:
1. Leer este archivo completo
2. Revisar STATUS.md para estado rÃ¡pido
3. Verificar si Fly.io deploy fue exitoso
4. Testear URLs en "URLs para testear"
5. Setear secrets en Fly.io si aÃºn no estÃ¡n</p>
<hr />
<p><strong>Ãšltimo actualizado:</strong> 17-01-2026 23:45
<strong>Estado:</strong> âœ… COMPLETADO Y DEPLOYADO</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2026 Fran Alberio
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="" target="_blank" rel="noopener" title="GitHub Repository" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
    <a href="https://alacena-blush.vercel.app" target="_blank" rel="noopener" title="Frontend en ProducciÃ³n" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M351.9 280H161c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zm-191-48h190.9c-2.8-64.5-17.1-123.9-37.4-167.4-11.4-24.4-23.7-41.8-35.1-52.4C268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4m-48 0c3.5-85.6 25.6-165.1 57.9-217.3C78.7 47.3 10.9 131.2 1.5 232zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3zm111.4-48C501.9 131.2 434.1 47.3 342 14.7c32.3 52.2 54.4 131.7 57.9 217.3z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.expand", "navigation.path", "navigation.indexes", "navigation.top", "navigation.footer", "toc.follow", "toc.integrate", "search.suggest", "search.highlight", "search.share", "content.code.copy", "content.code.annotate", "content.action.edit", "content.action.view", "content.tabs.link", "content.tooltips", "announce.dismiss"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../../javascripts/extra.js"></script>
      
    
  </body>
</html>